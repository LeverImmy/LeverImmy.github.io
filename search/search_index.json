{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u6b22\u8fce\u6765\u5230 Clever_Jimmy \u7684\u65b0\u535a\u5ba2\uff01 \u6ce8\u610f\u4e8b\u9879 \u00b6 note \u7528\u4e8e\u300c\u4ee3\u7801\u5b9e\u73b0\u300d\u300c\u89e3\u9898\u601d\u8def\u300d example \u7528\u4e8e\u300c\u4f8b\u5b50\u300d quote \u7528\u4e8e\u300c\u540d\u4eba\u540d\u8a00\u300d\u300c\u5f15\u7528\u300d warning \u7528\u4e8e\u300c\u8b66\u544a\u300d\u300c\u6ce8\u610f\u4e8b\u9879\u300d success \u7528\u4e8e\u300c\u8bc1\u660e\u300d \u663e\u7136\u7684\u8bc1\u660e\u7528 !!! success \"xxx\" \u4e0d\u663e\u7136\u7684\u8bc1\u660e\u7528 ??? success \"xxx\" tip \u7528\u4e8e \u300c\u6027\u8d28\u300d\u300c\u5f15\u7406\u300d\u300c\u5b9a\u7406\u300d\u300c\u7ed3\u8bba\u300d","title":"\u9996\u9875"},{"location":"#_1","text":"note \u7528\u4e8e\u300c\u4ee3\u7801\u5b9e\u73b0\u300d\u300c\u89e3\u9898\u601d\u8def\u300d example \u7528\u4e8e\u300c\u4f8b\u5b50\u300d quote \u7528\u4e8e\u300c\u540d\u4eba\u540d\u8a00\u300d\u300c\u5f15\u7528\u300d warning \u7528\u4e8e\u300c\u8b66\u544a\u300d\u300c\u6ce8\u610f\u4e8b\u9879\u300d success \u7528\u4e8e\u300c\u8bc1\u660e\u300d \u663e\u7136\u7684\u8bc1\u660e\u7528 !!! success \"xxx\" \u4e0d\u663e\u7136\u7684\u8bc1\u660e\u7528 ??? success \"xxx\" tip \u7528\u4e8e \u300c\u6027\u8d28\u300d\u300c\u5f15\u7406\u300d\u300c\u5b9a\u7406\u300d\u300c\u7ed3\u8bba\u300d","title":"\u6ce8\u610f\u4e8b\u9879"},{"location":"posts/about/friends/","text":"\u6821\u5185\u597d\u53cb \u00b6 id \u535a\u5ba2\u5730\u5740 CJ_Tracer link imzzy link EternalAlexander link Polaris_Dane link Polyethylene link \u5357\u6c99\u5ba2\u8fd0\u6e2f link \u6821\u5916\u597d\u53cb \u00b6 id \u535a\u5ba2\u5730\u5740 DestinHistoire link","title":"\u53cb\u60c5\u94fe\u63a5"},{"location":"posts/about/friends/#_1","text":"id \u535a\u5ba2\u5730\u5740 CJ_Tracer link imzzy link EternalAlexander link Polaris_Dane link Polyethylene link \u5357\u6c99\u5ba2\u8fd0\u6e2f link","title":"\u6821\u5185\u597d\u53cb"},{"location":"posts/about/friends/#_2","text":"id \u535a\u5ba2\u5730\u5740 DestinHistoire link","title":"\u6821\u5916\u597d\u53cb"},{"location":"posts/about/intro/","text":"\u4e2a\u4eba\u4ecb\u7ecd \u00b6 \u6211\u662f Clever_Jimmy\uff0c\u4e00\u540d\u6765\u81ea HB \u7684\u5df2\u7ecf\u9000\u5f79\u7684 OIer\u3002 \u5907\u5fd8\u5f55 \u00b6 \u591a\u5199\u6ce8\u91ca\uff1b LaTeX \u6307\u5357 link \u300c\u4e5f\u8bb8\uff0c\u540c\u5b66\u95f4\u6700\u597d\u7684\u7ed3\u5c40\u5c31\u662f\u670b\u53cb\u5427\u3002\u300d \u540e\u7f00\u6811\u5efa\u9020\u8fc7\u7a0b link \u300c\u4f60\u81ea\u5df1\u624d\u662f\u81ea\u5df1\u7684\u539f\u52a8\u529b\u3002\u4f60\u628a\u539f\u52a8\u529b\u90fd\u6390\u7184\u706b\u4e86\uff0c\u8fd8\u80fd\u5e72\u561b\u5462\uff1f\u300d \u5934\u50cf\u7f51\u5740 link \u7b97\u6cd5\u53ca\u6570\u636e\u7ed3\u6784\u53ef\u89c6\u5316 link \u5404\u5927 OJ \u901a\u8fc7\u6570\u7edf\u8ba1 link QQ \u8868\u60c5\u56fe\u5e8a\u5730\u5740 link SVG \u56fe\u50cf\u7ed8\u5236 link \u53d6\u6a21\u4e58\u6cd5\uff1a 1 2 3 4 5 int mul ( int ta , int tb , int mod ) { int ret ; __asm__ __volatile__ ( \" \\t mull %%ebx \\n\\t divl %%ecx \\n \" : \"=d\" ( ret ) : \"a\" ( ta ), \"b\" ( tb ), \"c\" ( mod )); return ret ; } \u5927\u4e8b\u796d \u00b6 \u65e5\u671f \u4e8b\u60c5 2018.07.01 \u6210\u529f \u796d 2018.11.11 \u5b8c\u6210\u7b2c\u4e00\u6b21 NOIP \u796d 2019.11.17 \u5b8c\u6210\u7b2c\u4e00\u6b21 CSP \u796d 2020.01.01 \u5931\u8d25 \u796d 2020.01.23 \u6b66\u6c49\u5c01\u57ce\u796d 2020.03.10 CF \u4e0a 1800 \u796d 2020.03.22 \u7b2c\u4e00\u6b21 AK ABC \u796d 2020.03.30 \u7b2c\u4e00\u6b21\u4e0a \u6d1b\u8c37\u65e5\u62a5 \u796d 2020.06.08 CF Candidate Master \u796d 2020.06.12 \u7b2c\u4e00\u6b21 CF Successful Hack \u796d \uff08 hack \u7684\u8fd8\u662f\u81ea\u5df1\uff09 2020.06.12 CF \u4e0a 2000 \u796d 2020.06.14 \u7b2c\u4e00\u6b21 \u4e3e\u529e\u6d1b\u8c37\u516c\u5f00\u8d5b EasY Round \u796d 2020.08.01 AFO","title":"\u5173\u4e8e\u6211"},{"location":"posts/about/intro/#_1","text":"\u6211\u662f Clever_Jimmy\uff0c\u4e00\u540d\u6765\u81ea HB \u7684\u5df2\u7ecf\u9000\u5f79\u7684 OIer\u3002","title":"\u4e2a\u4eba\u4ecb\u7ecd"},{"location":"posts/about/intro/#_2","text":"\u591a\u5199\u6ce8\u91ca\uff1b LaTeX \u6307\u5357 link \u300c\u4e5f\u8bb8\uff0c\u540c\u5b66\u95f4\u6700\u597d\u7684\u7ed3\u5c40\u5c31\u662f\u670b\u53cb\u5427\u3002\u300d \u540e\u7f00\u6811\u5efa\u9020\u8fc7\u7a0b link \u300c\u4f60\u81ea\u5df1\u624d\u662f\u81ea\u5df1\u7684\u539f\u52a8\u529b\u3002\u4f60\u628a\u539f\u52a8\u529b\u90fd\u6390\u7184\u706b\u4e86\uff0c\u8fd8\u80fd\u5e72\u561b\u5462\uff1f\u300d \u5934\u50cf\u7f51\u5740 link \u7b97\u6cd5\u53ca\u6570\u636e\u7ed3\u6784\u53ef\u89c6\u5316 link \u5404\u5927 OJ \u901a\u8fc7\u6570\u7edf\u8ba1 link QQ \u8868\u60c5\u56fe\u5e8a\u5730\u5740 link SVG \u56fe\u50cf\u7ed8\u5236 link \u53d6\u6a21\u4e58\u6cd5\uff1a 1 2 3 4 5 int mul ( int ta , int tb , int mod ) { int ret ; __asm__ __volatile__ ( \" \\t mull %%ebx \\n\\t divl %%ecx \\n \" : \"=d\" ( ret ) : \"a\" ( ta ), \"b\" ( tb ), \"c\" ( mod )); return ret ; }","title":"\u5907\u5fd8\u5f55"},{"location":"posts/about/intro/#_3","text":"\u65e5\u671f \u4e8b\u60c5 2018.07.01 \u6210\u529f \u796d 2018.11.11 \u5b8c\u6210\u7b2c\u4e00\u6b21 NOIP \u796d 2019.11.17 \u5b8c\u6210\u7b2c\u4e00\u6b21 CSP \u796d 2020.01.01 \u5931\u8d25 \u796d 2020.01.23 \u6b66\u6c49\u5c01\u57ce\u796d 2020.03.10 CF \u4e0a 1800 \u796d 2020.03.22 \u7b2c\u4e00\u6b21 AK ABC \u796d 2020.03.30 \u7b2c\u4e00\u6b21\u4e0a \u6d1b\u8c37\u65e5\u62a5 \u796d 2020.06.08 CF Candidate Master \u796d 2020.06.12 \u7b2c\u4e00\u6b21 CF Successful Hack \u796d \uff08 hack \u7684\u8fd8\u662f\u81ea\u5df1\uff09 2020.06.12 CF \u4e0a 2000 \u796d 2020.06.14 \u7b2c\u4e00\u6b21 \u4e3e\u529e\u6d1b\u8c37\u516c\u5f00\u8d5b EasY Round \u796d 2020.08.01 AFO","title":"\u5927\u4e8b\u796d"},{"location":"posts/articles/","text":"\u8fd9\u91cc\u653e\u7f6e\u7684\u662f\u4e00\u4e9b\u6211\u7684\u6742\u7b14\u3002","title":"\u6982\u89c8"},{"location":"posts/articles/how-to-build-this-fucking-blog/","text":"\u4e0b\u8f7d\u5fc5\u8981\u7ec4\u4ef6 \u00b6 \u5728 Python \u5b98\u7f51 \u4e0b\u8f7d python3.8.5 \u00b6 \u4e0b\u8f7d\u94fe\u63a5\uff1a link \u5b89\u88c5\u5b8c\u6210\u540e\u56de\u5230\u684c\u9762\uff0c\u6309\u4e0b Win + R \uff0c\u4f1a\u51fa\u6765\u4e00\u4e2a\u300c\u8fd0\u884c\u300d\uff1b\u5728\u6846\u5185\u8f93\u5165 1 cmd \u6309\u4e0b\u56de\u8f66\uff0c\u4f60\u4f1a\u5f97\u5230\u4e00\u4e2a\u300c\u547d\u4ee4\u884c\u7a97\u53e3\u300d\u3002 \u8f93\u5165 1 python --version \u6765\u67e5\u770b python \u7248\u672c\u3002\u5982\u679c\u8f93\u51fa\u662f Python 3.8.5 \u4e4b\u7c7b\u7684\u4e1c\u897f\uff0c\u90a3\u4e48\u8bf4\u660e\u4f60\u5df2\u7ecf\u5b89\u88c5\u5b8c\u6210 Python \u4e86\u3002 \u5b89\u88c5 pip \u00b6 \u7ee7\u7eed\u5728\u547d\u4ee4\u884c\u91cc\u8f93\u5165 1 python get-pip.py && pip install --upgrade pip \u5f85\u5b83\u7ed3\u675f\u540e\uff0c\u8f93\u5165 1 pip --version \u6765\u67e5\u770b pip \u7248\u672c\u3002\u5982\u679c\u8f93\u51fa\u662f pip 20.0.2 from /usr/local/lib/python3.8/site-packages/pip (python 3.8) \u4e4b\u7c7b\u7684\u4e1c\u897f\uff0c\u90a3\u4e48\u8bf4\u660e\u4f60\u5df2\u7ecf\u5b89\u88c5\u5b8c\u6210 pip \u4e86\u3002 \u5b89\u88c5 MkDocs \u00b6 \u7ee7\u7eed\u5728\u547d\u4ee4\u884c\u4e2d\u8f93\u5165 1 pip install mkdocs \u5f85\u5b83\u7ed3\u675f\u540e\uff0c\u8f93\u5165 1 mkdocs --version \u6765\u67e5\u770b Mkdocs \u7248\u672c\u3002\u5982\u679c\u8f93\u51fa\u662f mkdocs, version 0.15.3 \u4e4b\u7c7b\u7684\u4e1c\u897f\uff0c\u90a3\u4e48\u8bf4\u660e\u4f60\u5df2\u7ecf\u5b89\u88c5\u5b8c\u6210 MkDocs \u4e86\u3002 \u5728 Git \u5b98\u7f51 \u5b89\u88c5 git \u00b6 \u4e0b\u8f7d\u94fe\u63a5\uff1a link \u521b\u5efa GitHub repo \u00b6 \u8bbf\u95ee GitHub \uff0c\u6ce8\u518c\u4e00\u4e2a\u8d26\u53f7\u3002 \u8d26\u53f7\u540d\u4ee5\u540e \u4e0d\u80fd\u4fee\u6539 \uff0c\u800c\u4e14\u5047\u8bbe\u4f60\u7684\u8d26\u53f7\u540d\u4e3a username \uff0c\u5219\u4f60\u4ee5\u540e\u7684\u535a\u5ba2\u5730\u5740\u5c06\u4f1a\u4e3a https://username.github.io/ \u3002 \u5efa\u7acb\u672c\u5730\u670d\u52a1\u5668 \u00b6 \u627e\u5230\u4e00\u4e2a\u5fc3\u7231\u7684\u6587\u4ef6\u5939 \u00b6 \u4e3e\u4f8b\uff1a\u6211\u4eec\u7528 E:\\blog\\ \u4e3a\u535a\u5ba2\u76ee\u5f55\u3002 \u6253\u5f00\u547d\u4ee4\u884c\uff0c\u8f93\u5165 1 2 3 4 E : mkdir blog cd blog mkdocs new my-blog && cd my-blog \u4f60\u4f1a\u53d1\u73b0\u4f60\u7684 E \u76d8\u91cc\u591a\u4e86\u4e2a blog \u6587\u4ef6\u5939\uff0c\u800c\u4e14\u91cc\u9762\u6709\u4e2a my-blog \u6587\u4ef6\u5939\u3002 \u642d\u5efa\u7ad9\u70b9 \u00b6 \u5728 E:\\blog\\my-blog\\ \u4e0b\uff0c\u8f93\u5165 1 mkdocs serve \u7136\u540e\u6253\u5f00\u4f60\u7684\u6d4f\u89c8\u5668\uff0c\u8f93\u5165 http://127.0.0.1:8000/ \u5373\u53ef\u770b\u5230\u81ea\u5df1\u7684\u535a\u5ba2\u5566\uff01 \u94fe\u63a5\u5230 GitHub Pages \u00b6 \u81ea\u5b9a\u4e49\u914d\u7f6e \u00b6 \u4e3b\u9898\u8bbe\u7f6e \u00b6 \u6253\u5f00 E:\\blog\\my-blog\\mkdocs.yml \uff0c\u5c06\u91cc\u9762\u7684\u5185\u5bb9\u66ff\u6362\u4e3a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 site_name: Your Blog nav: - \u9996\u9875: README.md - \u9898\u89e3: - \u6982\u89c8: posts\\editorials\\index.md - AtCoder: posts\\editorials\\atcoder.md - BZOJ: posts\\editorials\\bzoj.md - CodeForces: - CF1393D: posts\\editorials\\codeforces\\CF1393D.md - \u6d1b\u8c37: posts\\editorials\\luogu.md - POJ: posts\\editorials\\poj.md - \u5b66\u4e60\u7b14\u8bb0: - \u6982\u89c8: posts\\lectures\\index.md - Dancing Links: posts\\lectures\\dlx.md - \u56de\u6587\u6811: posts\\lectures\\eertree.md - AC \u81ea\u52a8\u673a: posts\\lectures\\ac-automaton.md - \u524d\u7f00\u51fd\u6570\u4e0e KMP \u7b97\u6cd5: posts\\lectures\\kmp.md - \u914d\u5bf9\u5806: posts\\lectures\\pairing-heap.md - \u6742\u7b14: - \u6982\u89c8: posts\\articles\\index.md - '\u5982\u4f55\u4f7f\u7528 MkDocs \u5efa\u7acb\u5c5e\u4e8e\u81ea\u5df1\u7684\u535a\u5ba2': posts\\articles\\build-this-site.md - \u8bf4\u8bf4: - \u6982\u89c8: posts\\mood\\index.md - '2020.08': posts\\mood\\2020-08.md - '2020.09': posts\\mood\\2020-09.md - \u6587\u5316\u8bfe: - \u6982\u89c8: posts\\whk\\index.md - \u6570\u5b66: posts\\whk\\maths.md - \u5173\u4e8e: - \u5173\u4e8e\u6211: posts\\about\\intro.md - \u53cb\u60c5\u94fe\u63a5: posts\\about\\friends.md theme: name: 'material' language: 'zh' favicon: 'assets/img/favicon.ico' features: - tabs markdown_extensions: - admonition # \u6ce8\u89e3\u5757\u652f\u6301 - footnotes - meta # \u5143\u6570\u636e\u652f\u6301 - pymdownx.arithmatex: # \u6570\u5b66\u516c\u5f0f\u7684TeX\u8bed\u6cd5\u652f\u6301 generic: true - pymdownx.betterem: smart_enable: all - pymdownx.caret - pymdownx.critic - pymdownx.details - pymdownx.emoji: # \u8868\u60c5\u652f\u6301 emoji_generator: !!python/name:pymdownx.emoji.to_svg - pymdownx.highlight: linenums_style: pymdownx.inline linenums: true use_pygments: true - pymdownx.inlinehilite - pymdownx.keys - pymdownx.magiclink - pymdownx.mark - pymdownx.smartsymbols - pymdownx.superfences - pymdownx.tasklist: # \u4efb\u52a1\u6e05\u5355\u652f\u6301 custom_checkbox: true - pymdownx.tilde - toc: permalink: true extra_javascript: - https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js - https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js - https://polyfill.io/v3/polyfill.min.js?features=es6 - javascripts/config.js extra_css: - https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/default.min.css copyright: 'Copyright &#169 2018 - 2020 Yourname'","title":"\u5982\u4f55\u4f7f\u7528 MkDocs \u5efa\u7acb\u4e00\u4e2a\u535a\u5ba2"},{"location":"posts/articles/how-to-build-this-fucking-blog/#_1","text":"","title":"\u4e0b\u8f7d\u5fc5\u8981\u7ec4\u4ef6"},{"location":"posts/articles/how-to-build-this-fucking-blog/#python-python385","text":"\u4e0b\u8f7d\u94fe\u63a5\uff1a link \u5b89\u88c5\u5b8c\u6210\u540e\u56de\u5230\u684c\u9762\uff0c\u6309\u4e0b Win + R \uff0c\u4f1a\u51fa\u6765\u4e00\u4e2a\u300c\u8fd0\u884c\u300d\uff1b\u5728\u6846\u5185\u8f93\u5165 1 cmd \u6309\u4e0b\u56de\u8f66\uff0c\u4f60\u4f1a\u5f97\u5230\u4e00\u4e2a\u300c\u547d\u4ee4\u884c\u7a97\u53e3\u300d\u3002 \u8f93\u5165 1 python --version \u6765\u67e5\u770b python \u7248\u672c\u3002\u5982\u679c\u8f93\u51fa\u662f Python 3.8.5 \u4e4b\u7c7b\u7684\u4e1c\u897f\uff0c\u90a3\u4e48\u8bf4\u660e\u4f60\u5df2\u7ecf\u5b89\u88c5\u5b8c\u6210 Python \u4e86\u3002","title":"\u5728 Python \u5b98\u7f51 \u4e0b\u8f7d python3.8.5"},{"location":"posts/articles/how-to-build-this-fucking-blog/#pip","text":"\u7ee7\u7eed\u5728\u547d\u4ee4\u884c\u91cc\u8f93\u5165 1 python get-pip.py && pip install --upgrade pip \u5f85\u5b83\u7ed3\u675f\u540e\uff0c\u8f93\u5165 1 pip --version \u6765\u67e5\u770b pip \u7248\u672c\u3002\u5982\u679c\u8f93\u51fa\u662f pip 20.0.2 from /usr/local/lib/python3.8/site-packages/pip (python 3.8) \u4e4b\u7c7b\u7684\u4e1c\u897f\uff0c\u90a3\u4e48\u8bf4\u660e\u4f60\u5df2\u7ecf\u5b89\u88c5\u5b8c\u6210 pip \u4e86\u3002","title":"\u5b89\u88c5 pip"},{"location":"posts/articles/how-to-build-this-fucking-blog/#mkdocs","text":"\u7ee7\u7eed\u5728\u547d\u4ee4\u884c\u4e2d\u8f93\u5165 1 pip install mkdocs \u5f85\u5b83\u7ed3\u675f\u540e\uff0c\u8f93\u5165 1 mkdocs --version \u6765\u67e5\u770b Mkdocs \u7248\u672c\u3002\u5982\u679c\u8f93\u51fa\u662f mkdocs, version 0.15.3 \u4e4b\u7c7b\u7684\u4e1c\u897f\uff0c\u90a3\u4e48\u8bf4\u660e\u4f60\u5df2\u7ecf\u5b89\u88c5\u5b8c\u6210 MkDocs \u4e86\u3002","title":"\u5b89\u88c5 MkDocs"},{"location":"posts/articles/how-to-build-this-fucking-blog/#git-git","text":"\u4e0b\u8f7d\u94fe\u63a5\uff1a link","title":"\u5728 Git \u5b98\u7f51 \u5b89\u88c5 git"},{"location":"posts/articles/how-to-build-this-fucking-blog/#github-repo","text":"\u8bbf\u95ee GitHub \uff0c\u6ce8\u518c\u4e00\u4e2a\u8d26\u53f7\u3002 \u8d26\u53f7\u540d\u4ee5\u540e \u4e0d\u80fd\u4fee\u6539 \uff0c\u800c\u4e14\u5047\u8bbe\u4f60\u7684\u8d26\u53f7\u540d\u4e3a username \uff0c\u5219\u4f60\u4ee5\u540e\u7684\u535a\u5ba2\u5730\u5740\u5c06\u4f1a\u4e3a https://username.github.io/ \u3002","title":"\u521b\u5efa GitHub repo"},{"location":"posts/articles/how-to-build-this-fucking-blog/#_2","text":"","title":"\u5efa\u7acb\u672c\u5730\u670d\u52a1\u5668"},{"location":"posts/articles/how-to-build-this-fucking-blog/#_3","text":"\u4e3e\u4f8b\uff1a\u6211\u4eec\u7528 E:\\blog\\ \u4e3a\u535a\u5ba2\u76ee\u5f55\u3002 \u6253\u5f00\u547d\u4ee4\u884c\uff0c\u8f93\u5165 1 2 3 4 E : mkdir blog cd blog mkdocs new my-blog && cd my-blog \u4f60\u4f1a\u53d1\u73b0\u4f60\u7684 E \u76d8\u91cc\u591a\u4e86\u4e2a blog \u6587\u4ef6\u5939\uff0c\u800c\u4e14\u91cc\u9762\u6709\u4e2a my-blog \u6587\u4ef6\u5939\u3002","title":"\u627e\u5230\u4e00\u4e2a\u5fc3\u7231\u7684\u6587\u4ef6\u5939"},{"location":"posts/articles/how-to-build-this-fucking-blog/#_4","text":"\u5728 E:\\blog\\my-blog\\ \u4e0b\uff0c\u8f93\u5165 1 mkdocs serve \u7136\u540e\u6253\u5f00\u4f60\u7684\u6d4f\u89c8\u5668\uff0c\u8f93\u5165 http://127.0.0.1:8000/ \u5373\u53ef\u770b\u5230\u81ea\u5df1\u7684\u535a\u5ba2\u5566\uff01","title":"\u642d\u5efa\u7ad9\u70b9"},{"location":"posts/articles/how-to-build-this-fucking-blog/#github-pages","text":"","title":"\u94fe\u63a5\u5230 GitHub Pages"},{"location":"posts/articles/how-to-build-this-fucking-blog/#_5","text":"","title":"\u81ea\u5b9a\u4e49\u914d\u7f6e"},{"location":"posts/articles/how-to-build-this-fucking-blog/#_6","text":"\u6253\u5f00 E:\\blog\\my-blog\\mkdocs.yml \uff0c\u5c06\u91cc\u9762\u7684\u5185\u5bb9\u66ff\u6362\u4e3a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 site_name: Your Blog nav: - \u9996\u9875: README.md - \u9898\u89e3: - \u6982\u89c8: posts\\editorials\\index.md - AtCoder: posts\\editorials\\atcoder.md - BZOJ: posts\\editorials\\bzoj.md - CodeForces: - CF1393D: posts\\editorials\\codeforces\\CF1393D.md - \u6d1b\u8c37: posts\\editorials\\luogu.md - POJ: posts\\editorials\\poj.md - \u5b66\u4e60\u7b14\u8bb0: - \u6982\u89c8: posts\\lectures\\index.md - Dancing Links: posts\\lectures\\dlx.md - \u56de\u6587\u6811: posts\\lectures\\eertree.md - AC \u81ea\u52a8\u673a: posts\\lectures\\ac-automaton.md - \u524d\u7f00\u51fd\u6570\u4e0e KMP \u7b97\u6cd5: posts\\lectures\\kmp.md - \u914d\u5bf9\u5806: posts\\lectures\\pairing-heap.md - \u6742\u7b14: - \u6982\u89c8: posts\\articles\\index.md - '\u5982\u4f55\u4f7f\u7528 MkDocs \u5efa\u7acb\u5c5e\u4e8e\u81ea\u5df1\u7684\u535a\u5ba2': posts\\articles\\build-this-site.md - \u8bf4\u8bf4: - \u6982\u89c8: posts\\mood\\index.md - '2020.08': posts\\mood\\2020-08.md - '2020.09': posts\\mood\\2020-09.md - \u6587\u5316\u8bfe: - \u6982\u89c8: posts\\whk\\index.md - \u6570\u5b66: posts\\whk\\maths.md - \u5173\u4e8e: - \u5173\u4e8e\u6211: posts\\about\\intro.md - \u53cb\u60c5\u94fe\u63a5: posts\\about\\friends.md theme: name: 'material' language: 'zh' favicon: 'assets/img/favicon.ico' features: - tabs markdown_extensions: - admonition # \u6ce8\u89e3\u5757\u652f\u6301 - footnotes - meta # \u5143\u6570\u636e\u652f\u6301 - pymdownx.arithmatex: # \u6570\u5b66\u516c\u5f0f\u7684TeX\u8bed\u6cd5\u652f\u6301 generic: true - pymdownx.betterem: smart_enable: all - pymdownx.caret - pymdownx.critic - pymdownx.details - pymdownx.emoji: # \u8868\u60c5\u652f\u6301 emoji_generator: !!python/name:pymdownx.emoji.to_svg - pymdownx.highlight: linenums_style: pymdownx.inline linenums: true use_pygments: true - pymdownx.inlinehilite - pymdownx.keys - pymdownx.magiclink - pymdownx.mark - pymdownx.smartsymbols - pymdownx.superfences - pymdownx.tasklist: # \u4efb\u52a1\u6e05\u5355\u652f\u6301 custom_checkbox: true - pymdownx.tilde - toc: permalink: true extra_javascript: - https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js - https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js - https://polyfill.io/v3/polyfill.min.js?features=es6 - javascripts/config.js extra_css: - https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/default.min.css copyright: 'Copyright &#169 2018 - 2020 Yourname'","title":"\u4e3b\u9898\u8bbe\u7f6e"},{"location":"posts/articles/latex-search/","text":"\u8fd9\u4e2a\u662f\u4e00\u4e9b \\(\\LaTeX\\) \u7528\u6cd5\u7684\u7d22\u5f15\uff0c\u5efa\u8bae\u4f7f\u7528 Ctrl + F \u8fdb\u884c\u67e5\u8be2\u4e2d\u6587\u5173\u952e\u8bcd\u3002 \u903b\u8f91\u975e\uff0c\u975e\uff0cnot\uff0c\u5426\uff0c\u5426\u5b9a\uff0c\u4e0d\uff0cneg \\(\\neg\\) \\neg, \\lnot \u6570\u7801\uff0cdigit\uff0c\u4e0a\u5212\u7ebf\uff0coverline \\(\\overline{abc}\\) \\overline{} \u903b\u8f91\u6216\uff0c\u6216\uff0cor \\(\\vee\\) \uff0c \\(\\bigvee\\) \\vee, \\bigvee \u903b\u8f91\u4e0e\uff0c\u4e0e\uff0cand \\(\\wedge\\) \uff0c \\(\\bigwedge\\) \\wedge, \\bigwedge \u4e0d\u5b58\u5728\uff0cnot exist \\(\\nexists\\) \\nexists \u5706\uff0ccircle \\(\\odot\\) \uff0c \\(\\bigodot\\) \\odot, \\bigodot \u4e0d\u540c\u4f59 \\(ax\\not\\equiv1\\pmod{p}\\) \\not\\equiv \u5168\u7b49\uff0ccongruent \\(\\cong\\) \\cong \u8d4b\u503c\uff0cdef \\(:=\\) := \u771f\u5b50\u96c6 \\(\\subsetneqq\\) \uff0c \\(\\supsetneqq\\) \\subsetneqq, \\supsetneqq \u975e\u5b50\u96c6 \\(\\nsubseteq\\) \uff0c \\(\\nsupseteq\\) \\nsubseteq, \\nsupseteq \u5b50\u96c6\uff0csubset \\(\\subseteq\\) \uff0c \\(\\supseteq\\) \\subseteq, \\supseteq \u81ea\u4ea4 \\(\\otimes\\) \uff0c \\(\\bigotimes\\) \\otimes, \\bigotimes \u5f02\u6216\uff0cxor \\(\\oplus\\) \uff0c \\(\\bigoplus\\) \\oplus, \\bigoplus \u9664\u53f7\uff0c\u9664\uff0c\u9664\u4ee5 \\(\\div\\) \\div \u4e58\u9664\u53f7\uff0c\u4e58\u9664 \\(\\divideontimes\\) \\divideontimes \u8d1f\u6b63\u53f7\uff0c\u51cf\u52a0\uff0c\u8d1f\u6b63 \\(\\mp\\) \\mp \u6b63\u8d1f\u53f7\uff0c\u52a0\u51cf\uff0c\u6b63\u8d1f \\(\\pm\\) \\pm \u6574\u9664\uff0c\u7ea6\u6570 \\(a|b\\) | \u4e0d\u6574\u9664 \\(a \\nmid b\\) \\nmid \u53d6\u6a21\uff0c\u6a21\u8fd0\u7b97\uff0c\u6a21 \\(a \\% b\\) \uff0c \\(a \\mod b\\) \uff0c \\(a \\equiv1\\pmod{b}\\) \\%, \\mod, \\pmod{} \u6700\u5927\u516c\u7ea6\u6570\uff0cgcd \\(\\gcd(a, b)\\) \\gcd \u6700\u5c0f\u516c\u500d\u6570\uff0clcm \\(\\operatorname{lcm}(a, b)\\) \\operatorname{lcm} \u8865\u96c6\uff0cC \\(\\complement_{U}A\\) \uff0c \\(\\bar{A}\\) \uff0c \\(\\overline{A}\\) \\complement_{}, \\bar{}, \\overline{} \u65e0\u7a77\uff0c\u6b63\u65e0\u7a77\uff0c\u8d1f\u65e0\u7a77\uff0c\u65e0\u9650\u5927 \\(\\infty\\) \\infty \u6700\u5c0f\u503c\uff0cmin\uff0cminimum\uff0c\u8f83\u5c0f\u7684 \\(\\min(a, b)\\) \\min \u6700\u5927\u503c\uff0cmax\uff0cmaximum\uff0c\u8f83\u5927\u7684 \\(\\max(a, b)\\) \\max \u4f59\u5207\uff0ccotangent\uff0ccot \\(\\cot\\theta\\) \\cot \u6307\u6570\u51fd\u6570\uff0c\u6307\u6570\uff0cexponent \\(\\exp_a b = a^b\\) \\exp_{} \u6b63\u5272\uff0csecant\uff0csec \\(\\sec\\alpha\\) \\sec \u4f59\u5272\uff0ccosecant\uff0ccsc \\(\\csc\\beta\\) \\csc \u76f8\u4f3c\uff0csimilar\uff0csim \\(\\sim\\) \\sim \u52fe\uff0c\u5bf9\uff0c\u662f\u7684\uff0c\u6b63\u786e\uff0c\u5b8c\u6210\uff0ctick\uff0ccorrect \\(\\checkmark\\) \\checkmark \u540c\u4f59 \\(\\equiv\\) \\equiv LaTeX\uff0c\u62c9\u6cf0\u8d6b \\(\\LaTeX\\) \\latex \u659c\u7740\u7684\u70b9\uff0c\u659c\u70b9 \\(\\ddots\\) \\ddots \u7ad6\u7740\u7684\u70b9\uff0c\u7ad6\u70b9 \\(\\vdots\\) \\vdots \u7ec4\u5408 \\(\\dbinom{n}{m}\\) \uff0c \\(\\binom{n}{m}\\) \uff0c \\(\\tbinom{n}{m}\\) \\dbinom{}{}, \\binom{}{}, \\tbinom{}{} \u6c42\u548c\uff0c\u8fde\u52a0\uff0c\u897f\u683c\u739b\uff0csum \\(\\sum_{j = 1}^{10}a_j\\) \\sum_{}^{} \u6c42\u79ef\uff0c\u8fde\u4e58\uff0cproduct\uff0c\u6d3e \\(\\prod_{j = 1}^{10}a_j\\) \\prod_{}^{} \u5206\u6570\uff0cfraction \\(\\dfrac{1}{2}\\) \uff0c \\(\\frac{1}{2}\\) \uff0c \\(\\tfrac{1}{2}\\) \\dfrac{}{}, \\frac{}{}, \\tfrac{}{} alpha\uff0c\u963f\u5c14\u6cd5 \\(\\alpha\\) \\alpha beta\uff0c\u8d1d\u5854 \\(\\beta\\) \\beta Delta\uff0c\u5fb7\u5c14\u5854\uff0c\u53d8\u5316\u91cf \\(\\Delta\\) \\Delta \u4e09\u89d2\u5f62\uff0ctriangle \\(\\triangle\\) \\triangle \u5411\u91cf \\(\\vec{AB}\\) \uff0c \\(\\overrightarrow{AB}\\) \uff0c \\(\\mathbf{e}\\) \\vec{}, \\overrightarrow{} \\mathbf{} \u6570\u96c6\uff0c\u5b9e\u6570\u96c6\uff0c\u6574\u6570\u96c6\uff0c\u81ea\u7136\u6570\u96c6\uff0c\u6709\u7406\u6570\u96c6\uff0c\u590d\u6570\u96c6\uff0cR\uff0cZ\uff0cN\uff0cQ\uff0cC \\(\\mathbb{R}\\) \uff0c \\(\\mathbb{Z}\\) \uff0c \\(\\mathbb{N}\\) \uff0c \\(\\mathbb{Q}\\) \uff0c \\(\\mathbb{C}\\) \\mathbb{R}, \\mathbb{Z}, \\mathbb{N}, \\mathbb{Q}, \\mathbb{C} \u6839\u53f7\uff0csqrt\uff0croot \\(\\sqrt[3]{2}\\) \\sqrt[]{} \u6b21\u5e42\uff0c\u6b21\u65b9\uff0c\u65b9\uff0cpower\uff0c\u4e0a\u6807 \\(a^{2}\\) ^ \u4e0b\u6807\uff0c\u5e8f\u53f7\uff0cindex \\(a_i\\) _ theta\uff0c\u897f\u5854 \\(\\theta\\) \\theta \u89d2\uff0c\u89d2\u5ea6\uff0ctriangle \\(\\angle AOB\\) \\angle \u6b63\u5f26\uff0csin\uff0csine \\(\\sin\\theta\\) \\sin \u4f59\u5f26\uff0ccos\uff0ccosine \\(\\cos\\varphi\\) \\cos \u7edd\u5bf9\u503c\uff0cabsolute value \\(\\left|-1\\right|\\) \\left| \\right| tangent\uff0c\u6b63\u5207\uff0ctan \\(\\tan\\alpha\\) \\tan\\alpha \u5939\u89d2\uff0c\u5411\u91cf\u7684\u5939\u89d2 \\(<\\mathbf{a}, \\mathbf{b}>\\) \uff0c \\(\\left<\\mathbf{a}, \\mathbf{b}\\right>\\) < > \\left< \\right> \u4e0b\u53d6\u6574\uff0cfloor \\(\\lfloor \\dfrac{1}{2} \\rfloor\\) \uff0c \\(\\left\\lfloor \\dfrac{1}{2} \\right\\rfloor\\) \\lfloor \\rfloor \\left\\lfloor \\right\\rfloor \u4e0a\u53d6\u6574\uff0cceil\uff0cceiling \\(\\lceil \\dfrac{1}{2}\\rceil\\) \uff0c \\(\\left\\lceil \\dfrac{1}{2}\\right\\rceil\\) \\lceil \\rceil \\left\\lceil \\right\\rceil \u6d3e\uff0cpi\uff0c\u5706\u5468\u7387 \\(\\pi\\) \\pi fai\uff0cphi \\(\\phi\\) \uff0c \\(\\varphi\\) \\phi, \\varphi \u7a7a\u96c6\uff0cempty \\(\\emptyset\\) \uff0c \\(\\varnothing\\) \\emptyset \\varnothing \u5de6\u53f3\uff0c\u653e\u5927\uff0cleft\uff0cright \\(\\left|-\\dfrac{1}{2}\\right|\\) \\left \\right mu\uff0cmiu\uff0c\u83ab\u6bd4\u4e4c\u65af \\(\\mu\\) \\mu \u5927\u4e8e\u7b49\u4e8e\uff0c\u4e0d\u5c0f\u4e8e \\(\\ge\\) \uff0c \\(\\geqslant\\) \\ge, \\geqslant \u5c0f\u4e8e\u7b49\u4e8e\uff0c\u4e0d\u5927\u4e8e \\(\\le\\) \uff0c \\(\\leqslant\\) \\le, \\leqslant \u4e0d\u7b49\u4e8e \\(\\neq\\) \\neq \u7ea6\u7b49\u4e8e\uff0c\u7ea6\uff0c\u8fd1\u4f3c \\(\\approx\\) \\approx \u8fdc\u5927\u4e8e \\(\\gg\\) \\gg \u8fdc\u5c0f\u4e8e \\(\\ll\\) \\ll \u5e73\u884c, parallel \\(\\parallel\\) \\parallel \u5782\u76f4\uff0c\u4e92\u8d28 \\(\\perp\\) \\perp \u70b9\u4e58\uff0ctimes\uff0cmultiply\uff0c\u6570\u91cf\u79ef\uff0c\u5185\u79ef \\(\\cdot\\) \\cdot \u53c9\u4e58\uff0ctimes\uff0cmultiply\uff0c\u5411\u91cf\u79ef\uff0c\u5916\u79ef \\(\\times\\) \\times \u7701\u7565\u53f7\uff0c\u6a2a\u7740\u7684\u70b9\uff0c\u6a2a\u70b9 \\(\\cdots\\) \uff0c \\(\\ldots\\) \\cdots, \\ldots \u4e0a\u7bad\u5934\uff0c\u5411\u4e0a\uff0cup arrow \\(\\uparrow\\) \uff0c \\(\\Uparrow\\) \uff0c \\(\\upharpoonleft\\) \uff0c \\(\\upharpoonright\\) \uff0c \\(\\upuparrows\\) \\uparrow, \\Uparrow, \\upharpoonleft, \\upharpoonright, \\upuparrows \u4e0b\u7bad\u5934\uff0c\u5411\u4e0b\uff0cdown arrow \\(\\downarrow\\) \uff0c \\(\\Downarrow\\) \uff0c \\(\\downharpoonleft\\) \uff0c \\(\\downharpoonright\\) \uff0c \\(\\downdownarrows\\) \\downarrow, \\Downarrow, \\downharpoonleft, \\downharpoonright, \\downdownarrows \u5ea6\uff0c\u5206\u7c7b\u8ba8\u8bba \\(1^{\\circ}\\) \\circ \u56e0\u4e3a\uff0cbecause \\(\\because\\) \\because \u6240\u4ee5\uff0ctherefore \\(\\therefore\\) \\therefore \u5bf9\u4e8e\u6240\u6709\uff0c\u5168\u79f0\u91cf\u8bcd\uff0cforall \\(\\forall\\) \\forall \u5b58\u5728\u91cf\u8bcd\uff0c\u5b58\u5728\uff0cexist \\(\\exists\\) \\exists \u5f27\uff0carc \\(\\overset{\\frown}{AB}\\) \\overset{\\frown} \u4ea4\u96c6\uff0c\u4ea4 \\(\\cap\\) \uff0c \\(\\bigcap\\) \\cap, \\bigcap \u5e76\u96c6\uff0c\u5e76 \\(\\cup\\) \uff0c \\(\\bigcup\\) \\cup, \\bigcup \u77e9\u9635\uff0cmatrix \\(\\begin{bmatrix}1 & 1 \\\\ 1 & 0\\end{bmatrix}\\) \\begin{bmatrix} \\end{bmatrix} \u6761\u4ef6\uff0ccases\uff0c\u5206\u6bb5\u51fd\u6570\uff0c\u65b9\u7a0b\u7ec4\uff0c\u4e0d\u7b49\u5f0f\u7ec4 \\(f(x) = \\begin{cases}1 & x \\in \\mathbb{Q} \\\\ 0 & x \\notin \\mathbb{Q}\\end{cases}\\) \\begin{cases} \\end{cases} \u5c5e\u4e8e \\(\\in, \\ni\\) \\in, \\ni \u4e0d\u5c5e\u4e8e \\(\\notin, \\not\\ni\\) \\notin, \\not\\ni \u6587\u672c\uff0c\u6b63\u4f53 \\(\\textrm{otherwise}\\) \\textrm{} \u6b27\u7c73\u4f3d\uff0comega \\(\\omega\\) \\omega \u4e0b\u5212\u7ebf \\(\\underline{ABC}\\) \\underline{} \u52a0\u70ed\uff0cheat \\(\\triangleq\\) \\triangleq \u4e0a\u62ec\u53f7 \\(\\overbrace{1+2+\\cdots+100}\\) \\overbrace{} \u79ef\u5206 \\(\\int_{0}^{1}e^x\\text{d}x\\) \\int_{}^{} \u5bf9\u9f50 \\(\\begin{aligned}f(x) & = (x + 1)^2 \\\\ & = x^2 + 2x + 1\\end{aligned}\\) \\begin{aligned}\\end{aligned} \u53cc\u91cd\u79ef\u5206 \\(\\iint_{S}^{T}\\text{d}x\\text{d}y\\) \\iint_{}^{} \u4e09\u91cd\u79ef\u5206 \\(\\iiint_{S}^{T}\\text{d}x\\text{d}y\\text{d}z\\) \\iiint_{}^{} \u66f2\u9762\u79ef\u5206 \\(\\oint_{C}x^3\\text{d}x\\) \\oint_{} \u6781\u9650\uff0climit \\(\\lim_{n\\to\\infty}x_n\\) \uff0c \\(\\lim\\limits_{n\\to\\infty}x_n\\) \\lim_{}, \\lim\\limits_{} \u4e0b\u62ec\u53f7 \\(\\underbrace{1+2+\\cdots+100}\\) \\underbrace{}","title":"LaTeX \u8bed\u6cd5\u7d22\u5f15"},{"location":"posts/editorials/","text":"\u8fd9\u91cc\u653e\u7f6e\u7684\u662f\u4e00\u4e9b\u6211\u7684\u9898\u89e3\u3002","title":"\u6982\u89c8"},{"location":"posts/editorials/bzoj/","text":"Welcome to MkDocs \u00b6 For full documentation visit mkdocs.org . Commands \u00b6 mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit. Project layout \u00b6 1 2 3 4 mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files. \\(f(x) = \\sum_{i = 1}^{j}\\)","title":"BZOJ"},{"location":"posts/editorials/bzoj/#welcome-to-mkdocs","text":"For full documentation visit mkdocs.org .","title":"Welcome to MkDocs"},{"location":"posts/editorials/bzoj/#commands","text":"mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit.","title":"Commands"},{"location":"posts/editorials/bzoj/#project-layout","text":"1 2 3 4 mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files. \\(f(x) = \\sum_{i = 1}^{j}\\)","title":"Project layout"},{"location":"posts/editorials/editorial-template/","text":"\u77e5\u8bc6\u70b9 - \u00b6 \u9898\u610f\u7b80\u8ff0 \u00b6 1 \u3002 \u6570\u636e\u8303\u56f4\uff1a$$\u3002 \u89e3\u9898\u601d\u8def \u00b6 \u4ee3\u7801\u5b9e\u73b0 \u00b6 \u6838\u5fc3\u90e8\u5206\u5df2\u7528\u9ad8\u4eae\u6807\u51fa\u3002 Code 1 \u539f\u9898\u94fe\u63a5: D. Rarity and New Dress \u21a9","title":"Editorial template"},{"location":"posts/editorials/editorial-template/#-","text":"","title":"-"},{"location":"posts/editorials/editorial-template/#_1","text":"1 \u3002 \u6570\u636e\u8303\u56f4\uff1a$$\u3002","title":"\u9898\u610f\u7b80\u8ff0"},{"location":"posts/editorials/editorial-template/#_2","text":"","title":"\u89e3\u9898\u601d\u8def"},{"location":"posts/editorials/editorial-template/#_3","text":"\u6838\u5fc3\u90e8\u5206\u5df2\u7528\u9ad8\u4eae\u6807\u51fa\u3002 Code 1 \u539f\u9898\u94fe\u63a5: D. Rarity and New Dress \u21a9","title":"\u4ee3\u7801\u5b9e\u73b0"},{"location":"posts/editorials/luogu/","text":"Welcome to MkDocs \u00b6 For full documentation visit mkdocs.org . Commands \u00b6 mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit. Project layout \u00b6 1 2 3 4 mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files. \\(f(x) = \\sum_{i = 1}^{j}\\)","title":"\u6d1b\u8c37"},{"location":"posts/editorials/luogu/#welcome-to-mkdocs","text":"For full documentation visit mkdocs.org .","title":"Welcome to MkDocs"},{"location":"posts/editorials/luogu/#commands","text":"mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit.","title":"Commands"},{"location":"posts/editorials/luogu/#project-layout","text":"1 2 3 4 mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files. \\(f(x) = \\sum_{i = 1}^{j}\\)","title":"Project layout"},{"location":"posts/editorials/poj/","text":"Welcome to MkDocs \u00b6 For full documentation visit mkdocs.org . Commands \u00b6 mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit. Project layout \u00b6 1 2 3 4 mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files. \\(f(x) = \\sum_{i = 1}^{j}\\)","title":"POJ"},{"location":"posts/editorials/poj/#welcome-to-mkdocs","text":"For full documentation visit mkdocs.org .","title":"Welcome to MkDocs"},{"location":"posts/editorials/poj/#commands","text":"mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit.","title":"Commands"},{"location":"posts/editorials/poj/#project-layout","text":"1 2 3 4 mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files. \\(f(x) = \\sum_{i = 1}^{j}\\)","title":"Project layout"},{"location":"posts/editorials/atcoder/ABC171F/","text":"\u77e5\u8bc6\u70b9 \u7ec4\u5408\u6570\u5b66 \u5feb\u901f\u5e42 \u5bb9\u65a5\u539f\u7406 \u9898\u610f\u7b80\u8ff0 \u00b6 \u7ed9\u5b9a\u4e00\u4e2a\u5b57\u7b26\u4e32 \\(S\\) \u548c\u6570\u5b57 \\(k\\) \uff0c\u6c42\u6240\u6709\u672c\u8d28\u4e0d\u540c\u7684\u5b57\u7b26\u4e32 \\(T\\) \u7684\u4e2a\u6570\uff0c\u4f7f\u5f97 \\(\\left|T\\right| = \\left|S\\right| + k\\) \uff0c\u4e14 \\(S\\) \u4e3a \\(T\\) \u7684 \u5b50\u5e8f\u5217 1 \u3002 \u6570\u636e\u8303\u56f4\uff1a \\(1 \\le \\left|S\\right|, k \\le 10^6\\) \u3002 \u89e3\u9898\u601d\u8def \u00b6 \u4ee4 \\(n = \\left|S\\right|, m = \\left|S\\right| + k\\) \u3002 \u6b63\u7740\u8ba1\u7b97 \\(S\\) \u4e3a \\(T\\) \u7684\u5b50\u5e8f\u5217\u65f6 \\(T\\) \u7684\u4e2a\u6570\u4e0d\u65b9\u4fbf\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u8ba1\u7b97 \\(S\\) \u4e0d\u4e3a \\(T'\\) \u7684 \u5b50\u5e8f\u5217 \u65f6 \\(T'\\) \u7684\u4e2a\u6570\u3002 \u518d\u7528 \\(26^m\\) \u51cf\u53bb \\(T'\\) \u7684\u4e2a\u6570\uff0c\u5373\u4e3a \\(T\\) \u7684\u4e2a\u6570\u3002 \\(T'\\) \u4e2d\u53ef\u80fd\u5305\u542b \\(S\\) \u7684\u524d\u7f00 \\(S[1], S[1..2], S[1..3], \\cdots, S[1.. n - 1]\\) \uff1b \u5f53\u7136\uff0c\u4e5f\u53ef\u80fd\u4e0d\u5305\u542b \\(S\\) \u7684\u4efb\u610f\u4e00\u4e2a\u524d\u7f00\uff0c\u53ef\u4ee5\u770b\u505a\u5305\u542b \\(S[1\\ldots0] = \\epsilon\\) \u3002 \u5f53 \\(T'\\) \u4e2d \u4ec5 \u5305\u542b \\(S[1.. i] \\quad i \\in [0, n)\\) \u65f6\uff0c\u4ece \\(m\\) \u4e2a\u4f4d\u7f6e\u91cc\u9009\u53d6 \\(i\\) \u4e2a\u4f4d\u7f6e\u6765\u586b\u8fd9\u4e9b\u5b57\u7b26\u6709 \\(\\dbinom{m}{i}\\) \u79cd\u65b9\u6cd5\uff0c \u800c\u8981\u6c42\u5269\u4e0b\u7684 \\(m - i\\) \u4e2a\u4f4d\u7f6e\u4e0d\u80fd\u5305\u542b \\(S[i + 1]\\) \u8fd9\u4e2a\u5b57\u6bcd\uff08\u56e0\u4e3a\u5305\u542b\u4e86\u5c31\u4f1a\u7ec4\u6210 \\(S[1..i + 1]\\) \u8fd9\u4e2a\u5b50\u5e8f\u5217\u4e86\uff09\uff0c \u56e0\u6b64\u6709 \\(25^{m - i}\\) \u79cd\u65b9\u6cd5\u3002 \u7b54\u6848\u5373\u4e3a $$ 26^{m}-\\sum_{i = 0}^{n - 1}\\binom{m}{i}\\cdot25^{m - i} $$ \u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u6b64\u9898\u7684\u7b54\u6848\u4e0e \\(S\\) \u5177\u4f53\u662f\u4ec0\u4e48\u65e0\u5173\uff0c\u53ea\u4e0e \\(\\left|S\\right|\\) \u6709\u5173\u3002 \u4ee3\u7801\u5b9e\u73b0 \u00b6 \u6838\u5fc3\u90e8\u5206\u5df2\u7528\u9ad8\u4eae\u6807\u51fa\u3002 Code 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 #include <bits/stdc++.h> #define LL long long const int mod = 1e9 + 7 ; const int N = 1e6 + 5 ; const int M = 2e6 + 5 ; int n , k ; int m , fac [ M ] = { 1 }, inv [ M ]; char str [ N ]; LL tot , mis ; int mul ( int ta , int tb ) { int ret ; __asm__ __volatile__ ( \" \\t mull %%ebx \\n\\t divl %%ecx \\n \" : \"=d\" ( ret ) : \"a\" ( ta ), \"b\" ( tb ), \"c\" ( mod )); return ret ; } int qpow ( int bas , int po ) { int res = 1 ; while ( po ) { if ( po & 1 ) res = mul ( res , bas ); bas = mul ( bas , bas ); po >>= 1 ; } return res ; } int C ( int tn , int tm ) { return mul ( fac [ tn ], mul ( inv [ tm ], inv [ tn - tm ])); } int32_t main () { scanf ( \"%d %s\" , & k , str + 1 ); n = strlen ( str + 1 ); m = n + k ; tot = qpow ( 26 , m ); for ( int i = 1 ; i <= m ; ++ i ) fac [ i ] = mul ( fac [ i - 1 ], i ); for ( int i = 0 ; i <= m ; ++ i ) inv [ i ] = qpow ( fac [ i ], mod - 2 ); for ( int i = 0 ; i <= n - 1 ; ++ i ) mis = ( mis + mul ( C ( m , i ), qpow ( 25 , m - i ))) % mod ; tot = (( tot - mis ) % mod + mod ) % mod ; printf ( \"%d\" , tot ); return 0 ; } \u539f\u9898\u94fe\u63a5: F - Strivore \u21a9","title":"ABC171F"},{"location":"posts/editorials/atcoder/ABC171F/#_1","text":"\u7ed9\u5b9a\u4e00\u4e2a\u5b57\u7b26\u4e32 \\(S\\) \u548c\u6570\u5b57 \\(k\\) \uff0c\u6c42\u6240\u6709\u672c\u8d28\u4e0d\u540c\u7684\u5b57\u7b26\u4e32 \\(T\\) \u7684\u4e2a\u6570\uff0c\u4f7f\u5f97 \\(\\left|T\\right| = \\left|S\\right| + k\\) \uff0c\u4e14 \\(S\\) \u4e3a \\(T\\) \u7684 \u5b50\u5e8f\u5217 1 \u3002 \u6570\u636e\u8303\u56f4\uff1a \\(1 \\le \\left|S\\right|, k \\le 10^6\\) \u3002","title":"\u9898\u610f\u7b80\u8ff0"},{"location":"posts/editorials/atcoder/ABC171F/#_2","text":"\u4ee4 \\(n = \\left|S\\right|, m = \\left|S\\right| + k\\) \u3002 \u6b63\u7740\u8ba1\u7b97 \\(S\\) \u4e3a \\(T\\) \u7684\u5b50\u5e8f\u5217\u65f6 \\(T\\) \u7684\u4e2a\u6570\u4e0d\u65b9\u4fbf\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u8ba1\u7b97 \\(S\\) \u4e0d\u4e3a \\(T'\\) \u7684 \u5b50\u5e8f\u5217 \u65f6 \\(T'\\) \u7684\u4e2a\u6570\u3002 \u518d\u7528 \\(26^m\\) \u51cf\u53bb \\(T'\\) \u7684\u4e2a\u6570\uff0c\u5373\u4e3a \\(T\\) \u7684\u4e2a\u6570\u3002 \\(T'\\) \u4e2d\u53ef\u80fd\u5305\u542b \\(S\\) \u7684\u524d\u7f00 \\(S[1], S[1..2], S[1..3], \\cdots, S[1.. n - 1]\\) \uff1b \u5f53\u7136\uff0c\u4e5f\u53ef\u80fd\u4e0d\u5305\u542b \\(S\\) \u7684\u4efb\u610f\u4e00\u4e2a\u524d\u7f00\uff0c\u53ef\u4ee5\u770b\u505a\u5305\u542b \\(S[1\\ldots0] = \\epsilon\\) \u3002 \u5f53 \\(T'\\) \u4e2d \u4ec5 \u5305\u542b \\(S[1.. i] \\quad i \\in [0, n)\\) \u65f6\uff0c\u4ece \\(m\\) \u4e2a\u4f4d\u7f6e\u91cc\u9009\u53d6 \\(i\\) \u4e2a\u4f4d\u7f6e\u6765\u586b\u8fd9\u4e9b\u5b57\u7b26\u6709 \\(\\dbinom{m}{i}\\) \u79cd\u65b9\u6cd5\uff0c \u800c\u8981\u6c42\u5269\u4e0b\u7684 \\(m - i\\) \u4e2a\u4f4d\u7f6e\u4e0d\u80fd\u5305\u542b \\(S[i + 1]\\) \u8fd9\u4e2a\u5b57\u6bcd\uff08\u56e0\u4e3a\u5305\u542b\u4e86\u5c31\u4f1a\u7ec4\u6210 \\(S[1..i + 1]\\) \u8fd9\u4e2a\u5b50\u5e8f\u5217\u4e86\uff09\uff0c \u56e0\u6b64\u6709 \\(25^{m - i}\\) \u79cd\u65b9\u6cd5\u3002 \u7b54\u6848\u5373\u4e3a $$ 26^{m}-\\sum_{i = 0}^{n - 1}\\binom{m}{i}\\cdot25^{m - i} $$ \u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u6b64\u9898\u7684\u7b54\u6848\u4e0e \\(S\\) \u5177\u4f53\u662f\u4ec0\u4e48\u65e0\u5173\uff0c\u53ea\u4e0e \\(\\left|S\\right|\\) \u6709\u5173\u3002","title":"\u89e3\u9898\u601d\u8def"},{"location":"posts/editorials/atcoder/ABC171F/#_3","text":"\u6838\u5fc3\u90e8\u5206\u5df2\u7528\u9ad8\u4eae\u6807\u51fa\u3002 Code 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 #include <bits/stdc++.h> #define LL long long const int mod = 1e9 + 7 ; const int N = 1e6 + 5 ; const int M = 2e6 + 5 ; int n , k ; int m , fac [ M ] = { 1 }, inv [ M ]; char str [ N ]; LL tot , mis ; int mul ( int ta , int tb ) { int ret ; __asm__ __volatile__ ( \" \\t mull %%ebx \\n\\t divl %%ecx \\n \" : \"=d\" ( ret ) : \"a\" ( ta ), \"b\" ( tb ), \"c\" ( mod )); return ret ; } int qpow ( int bas , int po ) { int res = 1 ; while ( po ) { if ( po & 1 ) res = mul ( res , bas ); bas = mul ( bas , bas ); po >>= 1 ; } return res ; } int C ( int tn , int tm ) { return mul ( fac [ tn ], mul ( inv [ tm ], inv [ tn - tm ])); } int32_t main () { scanf ( \"%d %s\" , & k , str + 1 ); n = strlen ( str + 1 ); m = n + k ; tot = qpow ( 26 , m ); for ( int i = 1 ; i <= m ; ++ i ) fac [ i ] = mul ( fac [ i - 1 ], i ); for ( int i = 0 ; i <= m ; ++ i ) inv [ i ] = qpow ( fac [ i ], mod - 2 ); for ( int i = 0 ; i <= n - 1 ; ++ i ) mis = ( mis + mul ( C ( m , i ), qpow ( 25 , m - i ))) % mod ; tot = (( tot - mis ) % mod + mod ) % mod ; printf ( \"%d\" , tot ); return 0 ; } \u539f\u9898\u94fe\u63a5: F - Strivore \u21a9","title":"\u4ee3\u7801\u5b9e\u73b0"},{"location":"posts/editorials/atcoder/ABC172E/","text":"\u77e5\u8bc6\u70b9 \u5bb9\u65a5\u539f\u7406 \u7ec4\u5408\u6570\u5b66 \u9898\u610f\u7b80\u8ff0 \u00b6 \u6c42\u957f\u5ea6\u4e3a \\(n\\) \uff0c\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\u7684\u5e8f\u5217\u5bf9 \\((A, B)\\) \u7684\u4e2a\u6570\uff1a \\(\\forall i \\in [1, n], A_i \\in [1, m], B_i \\in [1, m]\\) \\(\\forall i \\in [1, n], A_i \\neq B_i\\) \\(\\forall 1 \\le i < j \\le n, A_i \\neq A_j, B_i \\neq B_j\\) \u7b54\u6848\u5bf9 \\(10^9 + 7\\) \u53d6\u6a21 1 \u3002 \u6570\u636e\u8303\u56f4\uff1a \\(1 \\le n \\le m \\le 5\\cdot10^5\\) \u3002 \u89e3\u9898\u601d\u8def \u00b6 \u9996\u5148\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u6ee1\u8db3 \\(\\forall i \\in S, A_i = B_i\\) \u7684\u5e8f\u5217\u5bf9 \\((A, B)\\) \u6709 \\(A_{m}^{\\left|S\\right|}\\cdot\\left(A_{m - \\left|S\\right|}^{n - \\left|S\\right|}\\right)^2\\) \u4e2a\u3002 \u7136\u540e\u6839\u636e\u5bb9\u65a5\u539f\u7406\uff0c\u6211\u4eec\u53d1\u73b0\u7b54\u6848\u4e3a \\(\\sum_{S \\subseteq [1, n]}(-1)^{\\left|S\\right|}\\cdot A_{m}^{\\left|S\\right|}\\cdot\\left(A_{m - \\left|S\\right|}^{n - \\left|S\\right|}\\right)^2\\) \u3002 \uff08\u52a0\u4e0a \\(\\left|S\\right| = 0\\) \uff0c\u51cf\u53bb \\(\\left|S\\right| = 1\\) \uff0c\u52a0\u4e0a \\(\\left|S\\right| = 2\\) \u2026\u2026\uff09 \u679a\u4e3e\u5b50\u96c6\u662f\u4e0d\u5fc5\u8981\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece\u7ec4\u5408\u610f\u4e49\u7684\u89d2\u5ea6\u6765\u5904\u7406\u4e0a\u5f0f\uff0c \u5c06\u6240\u6709 \\(\\left|S\\right| = k\\) \u7684\u6240\u6709\u5b50\u96c6 \\(S\\) \u5408\u5e76\u5904\u7406\uff0c\u8fd9\u6837\u7684 \\(S\\) \u6709 \\(\\dbinom{n}{k}\\) \u4e2a\u3002 \u7b54\u6848\u5373\u4e3a \\(\\sum_{k = 0}^{n}\\dbinom{n}{k}(-1)^k\\cdot A_{m}^{k}\\cdot\\left(A_{m - k}^{n - k}\\right)^2\\) \u3002 \u4ee3\u7801\u5b9e\u73b0 \u00b6 \u6838\u5fc3\u90e8\u5206\u5df2\u7528\u9ad8\u4eae\u6807\u51fa\u3002 Code 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 #include <bits/stdc++.h> #define LL long long const int mod = 1e9 + 7 ; const int N = 5e5 + 5 ; int n , m , fac [ N ] = { 1 }, inv [ N ] = { 1 }; LL ans ; int mul ( int ta , int tb ) { int ret ; __asm__ __volatile__ ( \" \\t mull %%ebx \\n\\t divl %%ecx \\n \" : \"=d\" ( ret ) : \"a\" ( ta ), \"b\" ( tb ), \"c\" ( mod )); return ret ; } int qpow ( int bas , int po ) { int res = 1 ; while ( po ) { if ( po & 1 ) res = mul ( res , bas ); bas = mul ( bas , bas ); po >>= 1 ; } return res ; } int C ( int tn , int tm ) { return mul ( fac [ tn ], mul ( inv [ tm ], inv [ tn - tm ])); } int A ( int tn , int tm ) { return mul ( fac [ tn ], inv [ tn - tm ]); } int32_t main () { scanf ( \"%d %d\" , & n , & m ); for ( int i = 1 ; i <= m ; ++ i ) fac [ i ] = mul ( fac [ i - 1 ], i ); inv [ m ] = qpow ( fac [ m ], mod - 2 ); for ( int i = m ; i >= 2 ; -- i ) inv [ i - 1 ] = mul ( inv [ i ], i ); for ( int i = 0 ; i <= n ; ++ i ) { int flg = ( i & 1 ) ? - 1 : 1 ; int tmp = mul ( C ( n , i ), mul ( A ( m , i ), qpow ( A ( m - i , n - i ), 2 ))); ans += flg * tmp ; ans %= mod , ( ans += mod ) %= mod ; } printf ( \"%lld\" , ans ); return 0 ; } \u539f\u9898\u94fe\u63a5: E - NEQ \u21a9","title":"ABC172E"},{"location":"posts/editorials/atcoder/ABC172E/#_1","text":"\u6c42\u957f\u5ea6\u4e3a \\(n\\) \uff0c\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\u7684\u5e8f\u5217\u5bf9 \\((A, B)\\) \u7684\u4e2a\u6570\uff1a \\(\\forall i \\in [1, n], A_i \\in [1, m], B_i \\in [1, m]\\) \\(\\forall i \\in [1, n], A_i \\neq B_i\\) \\(\\forall 1 \\le i < j \\le n, A_i \\neq A_j, B_i \\neq B_j\\) \u7b54\u6848\u5bf9 \\(10^9 + 7\\) \u53d6\u6a21 1 \u3002 \u6570\u636e\u8303\u56f4\uff1a \\(1 \\le n \\le m \\le 5\\cdot10^5\\) \u3002","title":"\u9898\u610f\u7b80\u8ff0"},{"location":"posts/editorials/atcoder/ABC172E/#_2","text":"\u9996\u5148\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u6ee1\u8db3 \\(\\forall i \\in S, A_i = B_i\\) \u7684\u5e8f\u5217\u5bf9 \\((A, B)\\) \u6709 \\(A_{m}^{\\left|S\\right|}\\cdot\\left(A_{m - \\left|S\\right|}^{n - \\left|S\\right|}\\right)^2\\) \u4e2a\u3002 \u7136\u540e\u6839\u636e\u5bb9\u65a5\u539f\u7406\uff0c\u6211\u4eec\u53d1\u73b0\u7b54\u6848\u4e3a \\(\\sum_{S \\subseteq [1, n]}(-1)^{\\left|S\\right|}\\cdot A_{m}^{\\left|S\\right|}\\cdot\\left(A_{m - \\left|S\\right|}^{n - \\left|S\\right|}\\right)^2\\) \u3002 \uff08\u52a0\u4e0a \\(\\left|S\\right| = 0\\) \uff0c\u51cf\u53bb \\(\\left|S\\right| = 1\\) \uff0c\u52a0\u4e0a \\(\\left|S\\right| = 2\\) \u2026\u2026\uff09 \u679a\u4e3e\u5b50\u96c6\u662f\u4e0d\u5fc5\u8981\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece\u7ec4\u5408\u610f\u4e49\u7684\u89d2\u5ea6\u6765\u5904\u7406\u4e0a\u5f0f\uff0c \u5c06\u6240\u6709 \\(\\left|S\\right| = k\\) \u7684\u6240\u6709\u5b50\u96c6 \\(S\\) \u5408\u5e76\u5904\u7406\uff0c\u8fd9\u6837\u7684 \\(S\\) \u6709 \\(\\dbinom{n}{k}\\) \u4e2a\u3002 \u7b54\u6848\u5373\u4e3a \\(\\sum_{k = 0}^{n}\\dbinom{n}{k}(-1)^k\\cdot A_{m}^{k}\\cdot\\left(A_{m - k}^{n - k}\\right)^2\\) \u3002","title":"\u89e3\u9898\u601d\u8def"},{"location":"posts/editorials/atcoder/ABC172E/#_3","text":"\u6838\u5fc3\u90e8\u5206\u5df2\u7528\u9ad8\u4eae\u6807\u51fa\u3002 Code 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 #include <bits/stdc++.h> #define LL long long const int mod = 1e9 + 7 ; const int N = 5e5 + 5 ; int n , m , fac [ N ] = { 1 }, inv [ N ] = { 1 }; LL ans ; int mul ( int ta , int tb ) { int ret ; __asm__ __volatile__ ( \" \\t mull %%ebx \\n\\t divl %%ecx \\n \" : \"=d\" ( ret ) : \"a\" ( ta ), \"b\" ( tb ), \"c\" ( mod )); return ret ; } int qpow ( int bas , int po ) { int res = 1 ; while ( po ) { if ( po & 1 ) res = mul ( res , bas ); bas = mul ( bas , bas ); po >>= 1 ; } return res ; } int C ( int tn , int tm ) { return mul ( fac [ tn ], mul ( inv [ tm ], inv [ tn - tm ])); } int A ( int tn , int tm ) { return mul ( fac [ tn ], inv [ tn - tm ]); } int32_t main () { scanf ( \"%d %d\" , & n , & m ); for ( int i = 1 ; i <= m ; ++ i ) fac [ i ] = mul ( fac [ i - 1 ], i ); inv [ m ] = qpow ( fac [ m ], mod - 2 ); for ( int i = m ; i >= 2 ; -- i ) inv [ i - 1 ] = mul ( inv [ i ], i ); for ( int i = 0 ; i <= n ; ++ i ) { int flg = ( i & 1 ) ? - 1 : 1 ; int tmp = mul ( C ( n , i ), mul ( A ( m , i ), qpow ( A ( m - i , n - i ), 2 ))); ans += flg * tmp ; ans %= mod , ( ans += mod ) %= mod ; } printf ( \"%lld\" , ans ); return 0 ; } \u539f\u9898\u94fe\u63a5: E - NEQ \u21a9","title":"\u4ee3\u7801\u5b9e\u73b0"},{"location":"posts/editorials/codeforces/CF1393D/","text":"\u77e5\u8bc6\u70b9 \u52a8\u6001\u89c4\u5212 \u60ac\u7ebf\u6cd5 \u9898\u610f\u7b80\u8ff0 \u00b6 \u7ed9\u5b9a\u4e00\u4e2a \\(n \\times m\\) \u7684\u77e9\u9635 \\(A\\) \uff0c\u6c42\u77e9\u9635\u4e2d\u6240\u6709\u7684\uff08\u53ef\u91cd\u53e0\uff09\u6bcf\u4e2a\u5143\u7d20\u5747\u76f8\u7b49\u7684\u659c \\(45^{\\circ}\\) \u7684\u6b63\u65b9\u5f62\u7684\u8fb9\u957f\u7684\u603b\u4e2a\u6570 1 \u3002 \u6570\u636e\u8303\u56f4\uff1a \\(1 \\le n, m \\le 2\\cdot 10^3\\) \u3002 \u4e00\u4e9b\u300c\u5408\u6cd5\u7684\u659c\u6b63\u65b9\u5f62\u300d\u548c\u300c\u4e0d\u5408\u6cd5\u7684\u659c\u6b63\u65b9\u5f62\u300d\u7684\u4f8b\u5b50 \u5408\u6cd5\u7684\u659c\u6b63\u65b9\u5f62\uff1a \u4e0d\u5408\u6cd5\u7684\u659c\u6b63\u65b9\u5f62\uff1a \u89e3\u9898\u601d\u8def \u00b6 \u8bbe \\(f(i, j)\\) \u8868\u793a\u4ee5 \\((i, j)\\) \u4e3a\u6700\u4e0b\u65b9\u7684\u8fb9\u754c\uff0c\u6700\u5927\u7684\u5408\u6cd5\u7684\u6b63\u65b9\u5f62\uff0c\u6b64\u8fb9\u754c\u5230\u6b63\u65b9\u5f62\u4e2d\u5fc3\u7684\u8ddd\u79bb\u3002 \u4e0d\u96be\u53d1\u73b0\u7b54\u6848\u4e3a \\(\\textrm{ans} = \\sum_{i = 1}^{n}\\sum_{j = 1}^{m}f(i, j)\\) \u3002 \u5982\u679c \\((i, j)\\) \u80fd\u88ab\u5de6\u4e0a\u65b9\u533a\u57df\u62d3\u5c55\u51fa\u6765\uff0c\u90a3\u4e48\u4e00\u5b9a\u8981\u6ee1\u8db3 \\(A_{i, j} = A_{i - 1, j - 1} = A_{i - 1, j} = A_{i - 1, j + 1} = A_{i - 2, j}\\) \u3002 \u9012\u63a8\u5f0f\u5373\u4e3a \\(f(i, j) = \\min\\{f(i - 1, j - 1), f(i - 1, j), f(i - 2, j)\\} + 1\\) \u3002 \u4ee3\u7801\u5b9e\u73b0 \u00b6 \u6838\u5fc3\u90e8\u5206\u5df2\u7528\u9ad8\u4eae\u6807\u51fa\u3002 Code 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 #include <bits/stdc++.h> #define LL long long namespace io { template < typename T > inline void read ( T & _x ) { int f = 0 , ch ; _x = 0 ; while ( ! isdigit ( ch = getchar ())) f |= ch == '-' ; while ( isdigit ( ch )) _x = _x * 10 + ch - '0' , ch = getchar (); if ( f ) _x = - _x ; } template < typename T , typename ... Args > inline void read ( T & _f , Args & ... args ) { read ( _f ), read ( args ...); } inline void _deal ( char ch ) { putchar ( ch ); } template < typename T > inline void _deal ( T _x ) { if ( _x < 0 ) putchar ( '-' ), _x = - _x ; if ( _x > 9 ) _deal ( _x / 10 ); putchar ( _x % 10 + '0' ); } inline void write () {} template < typename T , typename ... Args > inline void write ( T _f , Args ... args ) { _deal ( _f ), write ( args ...); } } const int N = 2e3 + 5 ; const int M = 2e3 + 5 ; int n , m , f [ N ][ M ], ans ; char a [ N ][ M ]; int32_t main () { io :: read ( n , m ); for ( int i = 1 ; i <= n ; ++ i ) scanf ( \"%s\" , a [ i ] + 1 ); for ( int i = 1 ; i <= n ; ++ i ) for ( int j = 1 ; j <= m ; ++ j ) { f [ i ][ j ] = 1 ; if ( 2 < i && 1 < j && j < m && a [ i ][ j ] == a [ i - 1 ][ j - 1 ] && a [ i ][ j ] == a [ i - 1 ][ j ] && a [ i ][ j ] == a [ i - 1 ][ j + 1 ] && a [ i ][ j ] == a [ i - 2 ][ j ]) f [ i ][ j ] = std :: min ( f [ i - 1 ][ j - 1 ], std :: min ( f [ i - 1 ][ j + 1 ], f [ i - 2 ][ j ])) + 1 ; ans += f [ i ][ j ]; } io :: write ( ans ); return 0 ; } \u539f\u9898\u94fe\u63a5: D. Rarity and New Dress \u21a9","title":"CF1393D"},{"location":"posts/editorials/codeforces/CF1393D/#_1","text":"\u7ed9\u5b9a\u4e00\u4e2a \\(n \\times m\\) \u7684\u77e9\u9635 \\(A\\) \uff0c\u6c42\u77e9\u9635\u4e2d\u6240\u6709\u7684\uff08\u53ef\u91cd\u53e0\uff09\u6bcf\u4e2a\u5143\u7d20\u5747\u76f8\u7b49\u7684\u659c \\(45^{\\circ}\\) \u7684\u6b63\u65b9\u5f62\u7684\u8fb9\u957f\u7684\u603b\u4e2a\u6570 1 \u3002 \u6570\u636e\u8303\u56f4\uff1a \\(1 \\le n, m \\le 2\\cdot 10^3\\) \u3002 \u4e00\u4e9b\u300c\u5408\u6cd5\u7684\u659c\u6b63\u65b9\u5f62\u300d\u548c\u300c\u4e0d\u5408\u6cd5\u7684\u659c\u6b63\u65b9\u5f62\u300d\u7684\u4f8b\u5b50 \u5408\u6cd5\u7684\u659c\u6b63\u65b9\u5f62\uff1a \u4e0d\u5408\u6cd5\u7684\u659c\u6b63\u65b9\u5f62\uff1a","title":"\u9898\u610f\u7b80\u8ff0"},{"location":"posts/editorials/codeforces/CF1393D/#_2","text":"\u8bbe \\(f(i, j)\\) \u8868\u793a\u4ee5 \\((i, j)\\) \u4e3a\u6700\u4e0b\u65b9\u7684\u8fb9\u754c\uff0c\u6700\u5927\u7684\u5408\u6cd5\u7684\u6b63\u65b9\u5f62\uff0c\u6b64\u8fb9\u754c\u5230\u6b63\u65b9\u5f62\u4e2d\u5fc3\u7684\u8ddd\u79bb\u3002 \u4e0d\u96be\u53d1\u73b0\u7b54\u6848\u4e3a \\(\\textrm{ans} = \\sum_{i = 1}^{n}\\sum_{j = 1}^{m}f(i, j)\\) \u3002 \u5982\u679c \\((i, j)\\) \u80fd\u88ab\u5de6\u4e0a\u65b9\u533a\u57df\u62d3\u5c55\u51fa\u6765\uff0c\u90a3\u4e48\u4e00\u5b9a\u8981\u6ee1\u8db3 \\(A_{i, j} = A_{i - 1, j - 1} = A_{i - 1, j} = A_{i - 1, j + 1} = A_{i - 2, j}\\) \u3002 \u9012\u63a8\u5f0f\u5373\u4e3a \\(f(i, j) = \\min\\{f(i - 1, j - 1), f(i - 1, j), f(i - 2, j)\\} + 1\\) \u3002","title":"\u89e3\u9898\u601d\u8def"},{"location":"posts/editorials/codeforces/CF1393D/#_3","text":"\u6838\u5fc3\u90e8\u5206\u5df2\u7528\u9ad8\u4eae\u6807\u51fa\u3002 Code 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 #include <bits/stdc++.h> #define LL long long namespace io { template < typename T > inline void read ( T & _x ) { int f = 0 , ch ; _x = 0 ; while ( ! isdigit ( ch = getchar ())) f |= ch == '-' ; while ( isdigit ( ch )) _x = _x * 10 + ch - '0' , ch = getchar (); if ( f ) _x = - _x ; } template < typename T , typename ... Args > inline void read ( T & _f , Args & ... args ) { read ( _f ), read ( args ...); } inline void _deal ( char ch ) { putchar ( ch ); } template < typename T > inline void _deal ( T _x ) { if ( _x < 0 ) putchar ( '-' ), _x = - _x ; if ( _x > 9 ) _deal ( _x / 10 ); putchar ( _x % 10 + '0' ); } inline void write () {} template < typename T , typename ... Args > inline void write ( T _f , Args ... args ) { _deal ( _f ), write ( args ...); } } const int N = 2e3 + 5 ; const int M = 2e3 + 5 ; int n , m , f [ N ][ M ], ans ; char a [ N ][ M ]; int32_t main () { io :: read ( n , m ); for ( int i = 1 ; i <= n ; ++ i ) scanf ( \"%s\" , a [ i ] + 1 ); for ( int i = 1 ; i <= n ; ++ i ) for ( int j = 1 ; j <= m ; ++ j ) { f [ i ][ j ] = 1 ; if ( 2 < i && 1 < j && j < m && a [ i ][ j ] == a [ i - 1 ][ j - 1 ] && a [ i ][ j ] == a [ i - 1 ][ j ] && a [ i ][ j ] == a [ i - 1 ][ j + 1 ] && a [ i ][ j ] == a [ i - 2 ][ j ]) f [ i ][ j ] = std :: min ( f [ i - 1 ][ j - 1 ], std :: min ( f [ i - 1 ][ j + 1 ], f [ i - 2 ][ j ])) + 1 ; ans += f [ i ][ j ]; } io :: write ( ans ); return 0 ; } \u539f\u9898\u94fe\u63a5: D. Rarity and New Dress \u21a9","title":"\u4ee3\u7801\u5b9e\u73b0"},{"location":"posts/lectures/","text":"\u8fd9\u91cc\u653e\u7f6e\u7684\u662f\u4e00\u4e9b\u6211\u7684\u5b66\u4e60\u7b14\u8bb0\u3002","title":"\u6982\u89c8"},{"location":"posts/lectures/ac-automaton/","text":"","title":"AC \u81ea\u52a8\u673a"},{"location":"posts/lectures/dlx/","text":"\u61d2\u5f97\u7ef4\u62a4 OI-Wiki \u4e0a\u7684 dlx \u4e86\uff08\u5176\u5b9e\u662f\u4e0d\u4f1a git\uff09\uff0c\u4e8e\u662f\u5c31\u6709\u4e86\u8fd9\u7bc7\u535a\u6587\u3002 \u7cbe\u786e\u8986\u76d6\u95ee\u9898 \u00b6 \u5b9a\u4e49 \u00b6 \u7cbe\u786e\u8986\u76d6\u95ee\u9898 (Exact Cover Problem) \u662f\u6307\u7ed9\u5b9a\u8bb8\u591a\u96c6\u5408 \\(S_i (1 \\le i \\le n)\\) \u4ee5\u53ca\u4e00\u4e2a\u96c6\u5408 \\(X\\) \uff0c\u6c42\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\u7684\u65e0\u5e8f\u591a\u5143\u7ec4 \\((T_1, T_2, \\cdots , T_m)\\) \uff1a \\(\\forall i, j \\in [1, m],T_i\\bigcap T_j = \\varnothing (i \\neq j)\\) \\(X = \\bigcup\\limits_{i = 1}^{m}T_i\\) \\(\\forall i \\in[1, m], T_i \\in \\\\{S_1, S_2, \\cdots, S_n\\\\}\\) \u4e00\u4e2a\u300c\u7cbe\u786e\u8986\u76d6\u95ee\u9898\u300d\u7684\u4f8b\u5b50 \u7ed9\u51fa $$ \\begin{aligned} & S_1 = \\{5, 9, 17\\} \\\\ & S_2 = \\{1, 8, 119\\} \\\\ & S_3 = \\{3, 5, 17\\} \\\\ & S_4 = \\{1, 8\\} \\\\ & S_5 = \\{3, 119\\} \\\\ & S_6 = \\{8, 9, 119\\} \\\\ & X = \\{1, 3, 5, 8, 9, 17, 119\\} \\end{aligned} $$ \u5219 \\((S_1, S_4, S_5)\\) \u4e3a\u4e00\u7ec4\u5408\u6cd5\u89e3\u3002 \u95ee\u9898\u8f6c\u5316 \u00b6 \u6211\u4eec\u5c06 \\(\\bigcup\\limits_{i = 1}^{n}S_i\\) \u4e2d\u7684\u6240\u6709\u6570\u79bb\u6563\u5316\uff0c\u90a3\u4e48\u53ef\u4ee5\u5f97\u5230\u8fd9\u4e48\u4e00\u4e2a\u6a21\u578b\uff1a \u7ed9\u5b9a\u4e00\u4e2a 01 \u77e9\u9635\uff0c\u4f60\u53ef\u4ee5\u9009\u62e9\u4e00\u4e9b\u884c\uff0c\u4f7f\u5f97\u6700\u7ec8\u6bcf\u5217\u90fd\u6070\u597d\u6709\u4e00\u4e2a 1\u3002 \u4e3e\u4e2a\u4f8b\u5b50\uff0c\u6211\u4eec\u5bf9\u4e0a\u6587\u4e2d\u7684\u4f8b\u5b50\u8fdb\u884c\u5efa\u6a21\uff0c\u53ef\u4ee5\u5f97\u5230\u8fd9\u4e48\u4e00\u4e2a\u77e9\u9635\uff1a $$ \\begin{pmatrix} 0 & 0 & 1 & 0 & 1 & 1 & 0 \\\\ 1 & 0 & 0 & 1 & 0 & 0 & 1 \\\\ 0 & 1 & 1 & 0 & 0 & 1 & 0 \\\\ 1 & 0 & 0 & 1 & 0 & 0 & 0 \\\\ 0 & 1 & 0 & 0 & 0 & 0 & 1 \\\\ 0 & 0 & 0 & 1 & 1 & 0 & 1 \\end{pmatrix} $$ \u5176\u4e2d\u7b2c \\(i\\) \u884c\u8868\u793a\u7740 \\(S_i\\) \uff0c\u800c\u8fd9\u884c\u7684\u6bcf\u4e2a\u6570\u4f9d\u6b21\u8868\u793a \\([1 \\in S_i],[3 \\in S_i],[5 \\in S_i],\\cdots,[119 \\in S_i]\\) \u3002 \u66b4\u529b 1 \u00b6 \u6211\u4eec\u53ef\u4ee5\u679a\u4e3e\u9009\u62e9\u54ea\u4e9b\u884c\uff0c\u6700\u540e\u68c0\u67e5\u8fd9\u4e2a\u65b9\u6848\u662f\u5426\u5408\u6cd5\u3002 \u56e0\u4e3a\u6bcf\u4e00\u884c\u90fd\u6709\u9009\u6216\u8005\u4e0d\u9009\u4e24\u79cd\u72b6\u6001\uff0c\u6240\u4ee5\u679a\u4e3e\u884c\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f \\(O(2^n)\\) \u7684\uff1b \u800c\u6bcf\u6b21\u68c0\u67e5\u90fd\u9700\u8981 \\(O(nm)\\) \u7684\u65f6\u95f4\u590d\u6742\u5ea6\u3002\u6240\u4ee5\u603b\u7684\u590d\u6742\u5ea6\u662f \\(O(nm\\cdot2^n)\\) \u3002 \u4ee3\u7801\u5b9e\u73b0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 int ok = 0 ; for ( int state = 0 ; state < 1 << n ; ++ state ) { // \u679a\u4e3e\u6bcf\u884c\u662f\u5426\u88ab\u9009 for ( int i = 1 ; i <= n ; ++ i ) if (( 1 << i - 1 ) & state ) for ( int j = 1 ; j <= m ; ++ j ) a [ i ][ j ] = 1 ; int flag = 1 ; for ( int j = 1 ; j <= m ; ++ j ) for ( int i = 1 , bo = 0 ; i <= n ; ++ i ) if ( a [ i ][ j ]) { if ( bo ) flag = 0 ; else bo = 1 ; } if ( ! flag ) continue ; else { ok = 1 ; for ( int i = 1 ; i <= n ; ++ i ) if (( 1 << i - 1 ) & state ) printf ( \"%d \" , i ); puts ( \"\" ); } memset ( a , 0 , sizeof ( a )); } if ( ! ok ) puts ( \"No solution.\" ); \u66b4\u529b 2 \u00b6 \u8003\u8651\u5230 01 \u77e9\u9635\u7684\u7279\u6b8a\u6027\u8d28\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u6bcf\u4e00\u884c\u90fd\u770b\u505a\u6210\u4e00\u4e2a \\(m\\) \u4f4d\u4e8c\u8fdb\u5236\u6570\u3002 \u56e0\u6b64\u88ab\u8f6c\u5316\u4e3a\u4e86 \u7ed9\u4f60 \\(n\\) \u4e2a \\(m\\) \u4f4d\u4e8c\u8fdb\u5236\u6570\uff0c\u8981\u6c42\u9009\u62e9\u4e00\u4e9b\u6570\uff0c\u4f7f\u5f97\u4efb\u610f\u4e24\u4e2a\u6570\u7684\u4e0e\u90fd\u4e3a 0\uff0c\u4e14\u6240\u6709\u6570\u7684\u6216\u4e3a \\(2^m - 1\\) \u3002 tmp \u8868\u793a\u7684\u662f\u622a\u81f3\u76ee\u524d\u7684\u6240\u6709\u88ab\u9009\u62e9\u4e86\u7684 \\(m\\) \u4f4d\u4e8c\u8fdb\u5236\u6570\u7684\u6216\u3002 \u56e0\u4e3a\u6bcf\u4e00\u884c\u90fd\u6709\u9009\u6216\u8005\u4e0d\u9009\u4e24\u79cd\u72b6\u6001\uff0c\u6240\u4ee5\u679a\u4e3e\u884c\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(2^n)\\) \uff1b \u800c\u6bcf\u6b21\u8ba1\u7b97 tmp \u90fd\u9700\u8981 \\(O(n)\\) \u7684\u65f6\u95f4\u590d\u6742\u5ea6\u3002\u6240\u4ee5\u603b\u7684\u590d\u6742\u5ea6\u4e3a \\(O(n\\cdot2^n)\\) \u3002 \u4ee3\u7801\u5b9e\u73b0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 int ok = 0 ; for ( int i = 1 ; i <= n ; ++ i ) for ( int j = m ; j >= 1 ; -- j ) num [ i ] = num [ i ] << 1 | a [ i ][ j ]; for ( int state = 0 ; state < 1 << n ; ++ state ) { int tmp = 0 ; for ( int i = 1 ; i <= n ; ++ i ) if (( 1 << i - 1 ) & state ) { if ( tmp & num [ i ]) break ; tmp |= num [ i ]; } if ( tmp == ( 1 << m ) - 1 ) { ok = 1 ; for ( int i = 1 ; i <= n ; ++ i ) if (( 1 << i - 1 ) & state ) printf ( \"%d \" , i ); puts ( \"\" ); } } if ( ! ok ) puts ( \"No solution.\" ); X \u7b97\u6cd5 \u00b6 Donald E. Knuth \u63d0\u51fa\u4e86 X \u7b97\u6cd5 (Algorithm X)\uff0c\u5176\u601d\u60f3\u4e0e\u521a\u624d\u7684\u66b4\u529b\u5dee\u4e0d\u591a\uff0c\u4f46\u662f\u65b9\u4fbf\u4f18\u5316\u3002 \u7ee7\u7eed\u4ee5\u4e0a\u6587\u4e2d\u4e2d\u63d0\u5230\u7684\u4f8b\u5b50\u4e3a\u8f7d\u4f53\uff0c\u6211\u4eec\u5f97\u5230\u7684\u662f\u4e00\u4e2a\u8fd9\u6837\u7684 01 \u77e9\u9635\uff1a $$ \\begin{pmatrix} 0 & 0 & 1 & 0 & 1 & 1 & 0 \\\\ 1 & 0 & 0 & 1 & 0 & 0 & 1 \\\\ 0 & 1 & 1 & 0 & 0 & 1 & 0 \\\\ 1 & 0 & 0 & 1 & 0 & 0 & 0 \\\\ 0 & 1 & 0 & 0 & 0 & 0 & 1 \\\\ 0 & 0 & 0 & 1 & 1 & 0 & 1 \\end{pmatrix} $$ 1. \u6b64\u65f6\u7b2c\u4e00\u884c\u6709 \\(3\\) \u4e2a \\(1\\) \uff0c\u7b2c\u4e8c\u884c\u6709 \\(3\\) \u4e2a \\(1\\) \uff0c\u7b2c\u4e09\u884c\u6709 \\(3\\) \u4e2a \\(1\\) \uff0c\u7b2c\u56db\u884c\u6709 \\(2\\) \u4e2a \\(1\\) \uff0c\u7b2c\u4e94\u884c\u6709 \\(2\\) \u4e2a \\(1\\) \uff0c\u7b2c\u516d\u884c\u6709 \\(3\\) \u4e2a \\(1\\) \u3002\u9009\u62e9\u7b2c\u4e00\u884c\uff0c\u5c06\u5b83\u5220\u9664\uff0c\u5e76\u5c06\u6240\u6709 \\(1\\) \u6240\u5728\u7684\u5217\u6253\u4e0a\u6807\u8bb0\uff1b $$ \\begin{pmatrix} \\color{Blue}0 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}1 & \\color{Blue}0 \\\\ 1 & 0 & \\color{Red}0 & 1 & \\color{Red}0 & \\color{Red}0 & 1 \\\\ 0 & 1 & \\color{Red}1 & 0 & \\color{Red}0 & \\color{Red}1 & 0 \\\\ 1 & 0 & \\color{Red}0 & 1 & \\color{Red}0 & \\color{Red}0 & 0 \\\\ 0 & 1 & \\color{Red}0 & 0 & \\color{Red}0 & \\color{Red}0 & 1 \\\\ 0 & 0 & \\color{Red}0 & 1 & \\color{Red}1 & \\color{Red}0 & 1 \\end{pmatrix} $$ 2. \u9009\u62e9\u6240\u6709\u88ab\u6807\u8bb0\u7684\u5217\uff0c\u5c06\u5b83\u4eec\u5220\u9664\uff0c\u5e76\u5c06\u8fd9\u4e9b\u5217\u4e2d\u542b \\(1\\) \u7684\u884c\u6253\u4e0a\u6807\u8bb0\uff1b $$ \\begin{pmatrix} \\color{Blue}0 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}1 & \\color{Blue}0 \\\\ 1 & 0 & \\color{Blue}0 & 1 & \\color{Blue}0 & \\color{Blue}0 & 1 \\\\ \\color{Red}0 & \\color{Red}1 & \\color{Blue}1 & \\color{Red}0 & \\color{Blue}0 & \\color{Blue}1 & \\color{Red}0 \\\\ 1 & 0 & \\color{Blue}0 & 1 & \\color{Blue}0 & \\color{Blue}0 & 0 \\\\ 0 & 1 & \\color{Blue}0 & 0 & \\color{Blue}0 & \\color{Blue}0 & 1 \\\\ \\color{Red}0 & \\color{Red}0 & \\color{Blue}0 & \\color{Red}1 & \\color{Blue}1 & \\color{Blue}0 & \\color{Red}1 \\end{pmatrix} $$ 3. \u9009\u62e9\u6240\u6709\u88ab\u6807\u8bb0\u7684\u884c\uff0c\u5c06\u5b83\u4eec\u5220\u9664\uff1b $$ \\begin{pmatrix} \\color{Blue}0 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}1 & \\color{Blue}0 \\\\ 1 & 0 & \\color{Blue}0 & 1 & \\color{Blue}0 & \\color{Blue}0 & 1 \\\\ \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}1 & \\color{Blue}0 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}0 \\\\ 1 & 0 & \\color{Blue}0 & 1 & \\color{Blue}0 & \\color{Blue}0 & 0 \\\\ 0 & 1 & \\color{Blue}0 & 0 & \\color{Blue}0 & \\color{Blue}0 & 1 \\\\ \\color{Blue}0 & \\color{Blue}0 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}1 & \\color{Blue}0 & \\color{Blue}1 \\end{pmatrix} $$ \u8fd9\u8868\u793a\u8868\u793a\u6211\u4eec\u9009\u62e9\u4e86\u4e00\u884c\uff0c\u4e14\u8fd9\u4e00\u884c\u7684\u6240\u6709 \\(1\\) \u6240\u5728\u7684\u5217\u4e0d\u80fd\u6709\u5176\u4ed6 \\(1\\) \u4e86\u3002 \u4e8e\u662f\u6211\u4eec\u5f97\u5230\u4e86\u8fd9\u6837\u7684\u4e00\u4e2a\u65b0\u7684\u5c0f 01 \u77e9\u9635\uff1a $$ \\begin{pmatrix} 1 & 0 & 1 & 1 \\\\ 1 & 0 & 1 & 0 \\\\ 0 & 1 & 0 & 1 \\end{pmatrix} $$ 4. \u6b64\u65f6\u7b2c\u4e00\u884c\uff08\u539f\u6765\u7684\u7b2c\u4e8c\u884c\uff09\u6709 \\(3\\) \u4e2a \\(1\\) \uff0c\u7b2c\u4e8c\u884c\uff08\u539f\u6765\u7684\u7b2c\u56db\u884c\uff09\u6709 \\(2\\) \u4e2a \\(1\\) \uff0c\u7b2c\u4e09\u884c\uff08\u539f\u6765\u7684\u7b2c\u4e94\u884c\uff09\u6709 \\(2\\) \u4e2a \\(1\\) \u3002\u9009\u62e9\u7b2c\u4e00\u884c\uff08\u539f\u6765\u7684\u7b2c\u4e8c\u884c\uff09\uff0c\u5c06\u5b83\u5220\u9664\uff0c\u5e76\u5c06\u6240\u6709 \\(1\\) \u6240\u5728\u7684\u5217\u6253\u4e0a\u6807\u8bb0\uff1b $$ \\begin{pmatrix} \\color{Blue}1 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}1 \\\\ \\color{Red}1 & 0 & \\color{Red}1 & \\color{Red}0 \\\\ \\color{Red}0 & 1 & \\color{Red}0 & \\color{Red}1 \\end{pmatrix} $$ 5. \u9009\u62e9\u6240\u6709\u88ab\u6807\u8bb0\u7684\u5217\uff0c\u5c06\u5b83\u4eec\u5220\u9664\uff0c\u5e76\u5c06\u8fd9\u4e9b\u5217\u4e2d\u542b \\(1\\) \u7684\u884c\u6253\u4e0a\u6807\u8bb0\uff1b $$ \\begin{pmatrix} \\color{Blue}1 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}1 \\\\ \\color{Blue}1 & \\color{Red}0 & \\color{Blue}1 & \\color{Blue}0 \\\\ \\color{Blue}0 & \\color{Red}1 & \\color{Blue}0 & \\color{Blue}1 \\end{pmatrix} $$ 6. \u9009\u62e9\u6240\u6709\u88ab\u6807\u8bb0\u7684\u884c\uff0c\u5c06\u5b83\u4eec\u5220\u9664\uff1b $$ \\begin{pmatrix} \\color{Blue}1 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}1 \\\\ \\color{Blue}1 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}0 \\\\ \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}0 & \\color{Blue}1 \\end{pmatrix} $$ \u4e8e\u662f\u6211\u4eec\u5f97\u5230\u4e86\u4e00\u4e2a\u7a7a\u77e9\u9635\u3002\u4f46\u662f\u4e0a\u6b21\u5220\u9664\u7684\u884c \"1 0 1 1\" \u4e0d\u662f\u5168 \\(1\\) \u7684\uff0c\u8bf4\u660e\u9009\u62e9\u6709\u8bef\uff1b $$ \\begin{pmatrix} \\end{pmatrix} $$ 7. \u56de\u6eaf\u5230\u6b65\u9aa4 \\(4\\) \uff0c\u6211\u4eec\u8003\u8651\u9009\u62e9\u7b2c\u4e8c\u884c\uff08\u539f\u6765\u7684\u7b2c\u56db\u884c\uff09\uff0c\u5c06\u5b83\u5220\u9664\uff0c\u5e76\u5c06\u6240\u6709 \\(1\\) \u6240\u5728\u7684\u5217\u6253\u4e0a\u6807\u8bb0\uff1b $$ \\begin{pmatrix} \\color{Red}1 & 0 & \\color{Red}1 & 1 \\\\ \\color{Blue}1 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}0 \\\\ \\color{Red}0 & 1 & \\color{Red}0 & 1 \\end{pmatrix} $$ 8. \u9009\u62e9\u6240\u6709\u88ab\u6807\u8bb0\u7684\u5217\uff0c\u5c06\u5b83\u4eec\u5220\u9664\uff0c\u5e76\u5c06\u8fd9\u4e9b\u5217\u4e2d\u542b \\(1\\) \u7684\u884c\u6253\u4e0a\u6807\u8bb0\uff1b $$ \\begin{pmatrix} \\color{Blue}1 & \\color{Red}0 & \\color{Blue}1 & \\color{Red}1 \\\\ \\color{Blue}1 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}0 \\\\ \\color{Blue}0 & 1 & \\color{Blue}0 & 1 \\end{pmatrix} $$ 9. \u9009\u62e9\u6240\u6709\u88ab\u6807\u8bb0\u7684\u884c\uff0c\u5c06\u5b83\u4eec\u5220\u9664\uff1b $$ \\begin{pmatrix} \\color{Blue}1 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}1 \\\\ \\color{Blue}1 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}0 \\\\ \\color{Blue}0 & 1 & \\color{Blue}0 & 1 \\end{pmatrix} $$ \u4e8e\u662f\u6211\u4eec\u5f97\u5230\u4e86\u8fd9\u6837\u7684\u4e00\u4e2a\u77e9\u9635\uff1a $$ \\begin{pmatrix} 1 & 1 \\end{pmatrix} $$ 10. \u6b64\u65f6\u7b2c\u4e00\u884c\uff08\u539f\u6765\u7684\u7b2c\u4e94\u884c\uff09\u6709 \\(2\\) \u4e2a \\(1\\) \uff0c\u5c06\u5b83\u4eec\u5168\u90e8\u5220\u9664\uff0c\u6211\u4eec\u5f97\u5230\u4e86\u4e00\u4e2a\u7a7a\u77e9\u9635\uff1a $$ \\begin{pmatrix} \\end{pmatrix} $$ 11. \u4e0a\u4e00\u6b21\u5220\u9664\u7684\u65f6\u5019\uff0c\u5220\u9664\u7684\u662f\u5168 \\(1\\) \u7684\u884c\uff0c\u56e0\u6b64\u6210\u529f\uff0c\u7b97\u6cd5\u7ed3\u675f\u3002\u7b54\u6848\u5373\u4e3a\u6211\u4eec\u5220\u9664\u7684\u4e09\u884c\uff1a \\(1, 4, 5\\) \u3002 \u5f3a\u70c8\u5efa\u8bae\u81ea\u5df1\u6a21\u62df\u4e00\u904d\u77e9\u9635\u5220\u9664\u3001\u8fd8\u539f\u4e0e\u56de\u6eaf\u7684\u8fc7\u7a0b\u540e\u518d\u63a5\u7740\u9605\u8bfb\u4e0b\u6587\u3002 \u6211\u4eec\u53ef\u4ee5\u6982\u62ec\u51fa X \u7b97\u6cd5\u7684\u8fc7\u7a0b\uff1a \u5bf9\u4e8e\u73b0\u5728\u7684\u77e9\u9635 \\(M\\) \uff0c\u9009\u62e9\u5e76\u6807\u8bb0\u4e00\u5217 \\(r\\) \uff0c\u5c06 \\(r\\) \u6dfb\u52a0\u81f3 \\(S\\) \u4e2d\uff1b \u5982\u679c\u5c1d\u8bd5\u4e86\u6240\u6709\u7684 \\(r\\) \u5374\u65e0\u89e3\uff0c\u5219\u7b97\u6cd5\u7ed3\u675f\uff0c\u8f93\u51fa\u65e0\u89e3\u3002 \u6807\u8bb0\u4e0e \\(r\\) \u76f8\u5173\u7684\u884c \\(r_i\\) \u548c \\(c_i\\) \uff1b \u5220\u9664\u6240\u6709\u6807\u8bb0\u7684\u884c\u548c\u5217\uff0c\u5f97\u5230\u65b0\u77e9\u9635 \\(M'\\) \uff1b \u5982\u679c \\(M'\\) \u4e3a\u7a7a\uff0c\u4e14 \\(r\\) \u4e3a\u5168 \\(1\\) \u7684\uff0c\u5219\u7b97\u6cd5\u7ed3\u675f\uff0c\u8f93\u51fa\u88ab\u5220\u9664\u7684\u884c\u7ec4\u6210\u7684\u96c6\u5408 \\(S\\) \uff1b \u5982\u679c \\(M'\\) \u4e3a\u7a7a\uff0c\u4e14 \\(r\\) \u4e0d\u4e3a\u5168 \\(1\\) \u7684\uff0c\u5219\u6062\u590d\u4e0e \\(r\\) \u76f8\u5173\u7684\u884c \\(r_i\\) \u4ee5\u53ca\u5217 \\(c_i\\) \uff0c\u8df3\u8f6c\u81f3\u6b65\u9aa4 \\(1\\) \uff1b \u5982\u679c \\(M'\\) \u4e0d\u4e3a\u7a7a\uff0c\u5219\u8df3\u8f6c\u81f3\u6b65\u9aa4 \\(1\\) \u3002 \u4e0d\u96be\u770b\u51fa\uff0cX \u7b97\u6cd5\u9700\u8981\u5927\u91cf\u7684\u201c\u5220\u9664\u884c\u201d\u3001\u201c\u5220\u9664\u5217\u201d\u548c\u201c\u6062\u590d\u884c\u201d\u3001\u201c\u6062\u590d\u5217\u201d\u7684\u64cd\u4f5c\u3002 Donald E. Knuth \u60f3\u5230\u4e86\u7528\u53cc\u5411\u5341\u5b57\u94fe\u8868\u6765\u7ef4\u62a4\u8fd9\u4e9b\u64cd\u4f5c\u3002 \u800c\u5728\u53cc\u5411\u5341\u5b57\u94fe\u8868\u4e0a\u4e0d\u65ad\u8df3\u8dc3\u7684\u8fc7\u7a0b\u88ab\u5f62\u8c61\u5730\u6bd4\u55bb\u6210\u201c\u8df3\u8dc3\u201d\uff0c\u56e0\u6b64\u88ab\u7528\u6765\u4f18\u5316 X \u7b97\u6cd5\u7684\u53cc\u5411\u5341\u5b57\u94fe\u8868\u4e5f\u88ab\u79f0\u4e3a\u201cDancing Links\u201d\u3002 Dancing Links \u4f18\u5316\u7684 X \u7b97\u6cd5 \u00b6 \u9884\u7f16\u8bd1\u547d\u4ee4 \u00b6 1 #define IT(i, A, x) for (i = A[x]; i != x; i = A[i]) \u5b9a\u4e49 \u00b6 \u65e2\u7136\u662f\u53cc\u5411\u5341\u5b57\u94fe\u8868\uff0c\u90a3\u4e48\u4e00\u5b9a\u662f\u6709\u56db\u4e2a\u6307\u9488\u57df\u7684\uff1a\u4e00\u4e2a\u6307\u4e0a\u65b9\u7684\u5143\u7d20\uff0c\u4e00\u4e2a\u6307\u4e0b\u65b9\u7684\u5143\u7d20\uff0c\u4e00\u4e2a\u6307\u5de6\u8fb9\u7684\u5143\u7d20\uff0c\u4e00\u4e2a\u6307\u53f3\u8fb9\u7684\u5143\u7d20\u3002\u800c\u6bcf\u4e2a\u5143\u7d20 \\(i\\) \u5728\u6574\u4e2a\u53cc\u5411\u5341\u5b57\u94fe\u8868\u7cfb\u4e2d\u90fd\u5bf9\u5e94\u7740\u4e00\u4e2a\u683c\u5b50\uff0c\u56e0\u6b64\u8fd8\u8981\u8868\u793a \\(i\\) \u6240\u5728\u7684\u5217\u548c\u6240\u5728\u7684\u8fd9\u6837\uff1a \u662f\u4e0d\u662f\u975e\u5e38\u7b80\u5355\uff1f \u800c\u5176\u5b9e\u5927\u578b\u53cc\u5411\u94fe\u8868\u5176\u5b9e\u662f\u957f\u8fd9\u6837\u7684\uff1a \u6bcf\u4e00\u884c\u90fd\u6709\u4e00\u4e2a\u884c\u9996\u6307\u793a\uff0c\u6bcf\u4e00\u5217\u90fd\u6709\u4e00\u4e2a\u5217\u6307\u793a\u3002 \u884c\u9996\u6307\u793a\u4e3a first[] \uff0c\u5217\u6307\u793a\u662f\u6211\u4eec\u865a\u62df\u51fa\u7684 \\(c + 1\\) \u4e2a\u7ed3\u70b9\u3002 \u540c\u65f6\uff0c\u6bcf\u4e00\u5217\u90fd\u6709\u4e00\u4e2a siz[] \u8868\u793a\u8fd9\u4e00\u5217\u7684\u5143\u7d20\u4e2a\u6570\u3002 \u7279\u6b8a\u5730\uff0c \\(0\\) \u53f7\u7ed3\u70b9\u65e0\u53f3\u7ed3\u70b9\u7b49\u4ef7\u4e8e\u8fd9\u4e2a Dancing Links \u4e3a\u7a7a\u3002 1 2 3 4 static const int MS = 1e5 + 5 ; int n , m , idx , first [ MS ], siz [ MS ]; int L [ MS ], R [ MS ], U [ MS ], D [ MS ]; int col [ MS ], row [ MS ]; remove \u64cd\u4f5c \u00b6 \\(\\textrm{remove(c)}\\) \u8868\u793a\u5728 Dancing Links \u4e2d\u5220\u9664\u7b2c \\(c\\) \u5217\u4ee5\u53ca\u4e0e\u5176\u76f8\u5173\u7684\u884c\u548c\u5217\u3002 \u6211\u4eec\u5148\u5c06 \\(c\\) \u5220\u9664\uff0c\u6b64\u65f6\uff1a \\(c\\) \u5de6\u4fa7\u7684\u7ed3\u70b9\u7684\u53f3\u7ed3\u70b9\u5e94\u4e3a \\(c\\) \u7684\u53f3\u7ed3\u70b9\uff1b \\(c\\) \u53f3\u4fa7\u7684\u7ed3\u70b9\u7684\u5de6\u7ed3\u70b9\u5e94\u4e3a \\(c\\) \u7684\u5de6\u7ed3\u70b9\u3002 \u5373 L[R[c]] = L[c], R[L[c]] = R[c]; \u3002 \u7136\u540e\u6211\u4eec\u8981\u987a\u7740\u8fd9\u4e00\u5217\u5f80\u4e0b\u8d70\uff0c\u628a\u8d70\u8fc7\u7684\u6bcf\u4e00\u884c\u90fd\u5220\u6389\u3002 \u5982\u4f55\u5220\u6389\u6bcf\u4e00\u884c\u5462\uff1f\u679a\u4e3e\u5f53\u524d\u884c\u7684\u6307\u9488 \\(j\\) \uff0c\u6b64\u65f6\uff1a \\(j\\) \u4e0a\u65b9\u7684\u7ed3\u70b9\u7684\u4e0b\u7ed3\u70b9\u5e94\u4e3a \\(j\\) \u7684\u4e0b\u7ed3\u70b9\uff1b \\(j\\) \u4e0b\u65b9\u7684\u7ed3\u70b9\u7684\u4e0a\u7ed3\u70b9\u5e94\u4e3a \\(j\\) \u7684\u4e0a\u7ed3\u70b9\u3002 \u6ce8\u610f\u8981\u4fee\u6539\u6bcf\u4e00\u5217\u7684\u5143\u7d20\u4e2a\u6570\u3002 \u5373 U[D[j]] = U[j], D[U[j]] = D[j], --siz[col[j]]; \u3002 \u56e0\u6b64 \\(\\textrm{remove(c)}\\) \u7684\u4ee3\u7801\u5b9e\u73b0\u5c31\u975e\u5e38\u7b80\u5355\u4e86\uff1a \u5176\u4e2d\u7b2c\u4e00\u4e2a IT(i, D, c) \u7b49\u4ef7\u4e8e for(i = D[c]; i != c; i = D[i]) \uff0c\u5373\u5728\u987a\u7740\u8fd9\u4e00\u5217\u4ece\u4e0a\u5f80\u4e0b\u904d\u5386\uff1b \u7b2c\u4e8c\u4e2a IT(j, R, i) \u7b49\u4ef7\u4e8e for(j = R[i]; j != i; j = R[j]) \uff0c\u5373\u5728\u987a\u7740\u8fd9\u4e00\u884c\u4ece\u5de6\u5f80\u53f3\u904d\u5386\u3002 1 2 3 4 5 void remove ( const int & c ) { int i , j ; L [ R [ c ]] = L [ c ], R [ L [ c ]] = R [ c ]; IT ( i , D , c ) IT ( j , R , i ) U [ D [ j ]] = U [ j ], D [ U [ j ]] = D [ j ], -- siz [ col [ j ]]; } recover \u64cd\u4f5c \u00b6 \\(\\textrm{recover(c)}\\) \u8868\u793a\u5728 Dancing Links \u4e2d\u8fd8\u539f\u7b2c \\(c\\) \u5217\u4ee5\u53ca\u4e0e\u5176\u76f8\u5173\u7684\u884c\u548c\u5217\u3002 \\(\\textrm{recover(c)}\\) \u5373 \\(\\textrm{remove(c)}\\) \u7684\u9006\u64cd\u4f5c\uff0c\u5728\u8fd9\u91cc\u5c31\u4e0d\u591a\u8d58\u8ff0\u4e86\u3002 \u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c \\(\\textrm{recover(c)}\\) \u7684\u6240\u6709\u64cd\u4f5c\u7684\u987a\u5e8f\u4e0e \\(\\textrm{remove(c)}\\) \u7684\u64cd\u4f5c\u6070\u597d\u76f8\u53cd\u3002 \u5728\u8fd9\u91cc\u7ed9\u51fa \\(\\textrm{recover(c)}\\) \u7684\u4ee3\u7801\u5b9e\u73b0\uff1a 1 2 3 4 5 void recover ( const int & c ) { int i , j ; IT ( i , U , c ) IT ( j , L , i ) U [ D [ j ]] = D [ U [ j ]] = j , ++ siz [ col [ j ]]; L [ R [ c ]] = R [ L [ c ]] = c ; } build \u64cd\u4f5c \u00b6 \\(\\textrm{build(r, c)}\\) \u8868\u793a\u65b0\u5efa\u4e00\u4e2a\u5927\u5c0f\u4e3a \\(r \\times c\\) \uff0c\u5373\u6709 \\(r\\) \u884c\uff0c \\(c\\) \u5217\u7684 Dancing Links\u3002 \u6211\u4eec\u65b0\u5efa \\(c + 1\\) \u4e2a\u7ed3\u70b9\uff0c\u4e3a\u5217\u6307\u793a\u3002 \u7b2c \\(i\\) \u4e2a\u70b9\u7684\u5de6\u7ed3\u70b9\u4e3a \\(i - 1\\) \uff0c\u53f3\u7ed3\u70b9\u4e3a \\(i + 1\\) \uff0c\u4e0a\u7ed3\u70b9\u4e3a \\(i\\) \uff0c\u4e0b\u7ed3\u70b9\u4e3a \\(i\\) \u3002 \u7279\u6b8a\u5730\uff0c \\(0\\) \u7ed3\u70b9\u7684\u5de6\u7ed3\u70b9\u4e3a \\(c\\) \uff0c \\(c\\) \u7ed3\u70b9\u7684\u53f3\u7ed3\u70b9\u4e3a \\(0\\) \u3002 \u4e8e\u662f\u6211\u4eec\u5f97\u5230\u4e86\u4e00\u6761\u94fe\uff1a 1 2 3 4 5 6 7 8 9 10 void build ( const int & r , const int & c ) { n = r , m = c ; for ( int i = 0 ; i <= c ; ++ i ) { L [ i ] = i - 1 , R [ i ] = i + 1 ; U [ i ] = D [ i ] = i ; } L [ 0 ] = c , R [ c ] = 0 , idx = c ; memset ( first , 0 , sizeof ( first )); memset ( siz , 0 , sizeof ( siz )); } \u8fd9\u6837\u5c31\u521d\u59cb\u5316\u4e86\u4e00\u4e2a Dancing Links\u3002 insert \u64cd\u4f5c \u00b6 \\(\\textrm{insert(r, c)}\\) \u8868\u793a\u5728\u7b2c \\(r\\) \u884c\uff0c\u7b2c \\(c\\) \u5217\u63d2\u5165\u4e00\u4e2a\u7ed3\u70b9\u3002 \u6211\u4eec\u5206\u4e24\u79cd\u60c5\u51b5\u6765\u64cd\u4f5c\uff1a \u5982\u679c\u7b2c \\(r\\) \u884c\u6ca1\u6709\u5143\u7d20\uff0c\u90a3\u4e48\u76f4\u63a5\u63d2\u5165\u4e00\u4e2a\u5143\u7d20\uff0c\u5e76\u4f7f \\(first(r)\\) \u6307\u5411\u8fd9\u4e2a\u5143\u7d20\uff1b \u5982\u679c\u7b2c \\(r\\) \u884c\u6709\u5143\u7d20\uff0c\u90a3\u4e48\u5c06\u8fd9\u4e2a\u65b0\u5143\u7d20 \u7528\u4e00\u79cd\u5947\u5f02\u7684\u65b9\u5f0f \u4e0e \\(c\\) \u548c \\(first(r)\\) \u8fde\u63a5\u8d77\u6765\u3002 \u5bf9\u4e8e\u60c5\u51b5 1\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 first[r] = L[idx] = R[idx] = idx; \u6765\u5b9e\u73b0\uff1b \u5bf9\u4e8e\u60c5\u51b5 2\uff0c\uff08\u6211\u4eec\u79f0\u8fd9\u4e2a\u65b0\u5143\u7d20\u4e3a \\(idx\\) \uff09\uff1a \u6211\u4eec\u628a \\(idx\\) \u63d2\u5165\u5230 \\(c\\) \u7684\u6b63\u4e0b\u65b9\uff0c\u6b64\u65f6\uff1a \\(idx\\) \u4e0b\u65b9\u7684\u7ed3\u70b9\u4e3a\u539f\u6765 \\(c\\) \u7684\u4e0b\u7ed3\u70b9\uff1b \\(idx\\) \u4e0b\u65b9\u7684\u7ed3\u70b9\uff08\u5373\u539f\u6765 \\(c\\) \u7684\u4e0b\u7ed3\u70b9\uff09\u7684\u4e0a\u7ed3\u70b9\u4e3a \\(idx\\) ; \\(idx\\) \u7684\u4e0a\u7ed3\u70b9\u4e3a \\(c\\) \uff1b \\(c\\) \u7684\u4e0b\u7ed3\u70b9\u4e3a \\(idx\\) \u3002 \u6ce8\u610f\u8bb0\u5f55 \\(idx\\) \u7684\u6240\u5728\u5217\u548c\u6240\u5728\u884c\uff0c\u4ee5\u53ca\u66f4\u65b0\u8fd9\u4e00\u5217\u7684\u5143\u7d20\u4e2a\u6570\u3002 1 2 col [ ++ idx ] = c , row [ idx ] = r , ++ siz [ c ]; U [ idx ] = c , D [ idx ] = D [ c ], U [ D [ c ]] = idx , D [ c ] = idx ; \u5f3a\u70c8\u5efa\u8bae\u8bfb\u8005\u5b8c\u5168\u638c\u63e1\u8fd9\u51e0\u6b65\u7684\u987a\u5e8f\u540e\u518d\u7ee7\u7eed\u9605\u8bfb\u672c\u6587\u3002 \u6211\u4eec\u628a \\(idx\\) \u63d2\u5165\u5230 \\(first(r)\\) \u7684\u6b63\u53f3\u65b9\uff0c\u6b64\u65f6\uff1a \\(idx\\) \u53f3\u4fa7\u7684\u7ed3\u70b9\u4e3a\u539f\u6765 \\(first(r)\\) \u7684\u53f3\u7ed3\u70b9\uff1b \u539f\u6765 \\(first(r)\\) \u53f3\u4fa7\u7684\u7ed3\u70b9\u7684\u5de6\u7ed3\u70b9\u4e3a \\(idx\\) \uff1b \\(idx\\) \u7684\u5de6\u7ed3\u70b9\u4e3a \\(first(r)\\) \uff1b \\(first(r)\\) \u7684\u53f3\u7ed3\u70b9\u4e3a \\(idx\\) \u3002 1 2 L [ idx ] = first [ r ], R [ idx ] = R [ first [ r ]]; R [ first [ r ]] = idx , L [ R [ first [ r ]]] = idx ; \u5f3a\u70c8\u5efa\u8bae\u8bfb\u8005\u5b8c\u5168\u638c\u63e1\u8fd9\u51e0\u6b65\u7684\u987a\u5e8f\u540e\u518d\u7ee7\u7eed\u9605\u8bfb\u672c\u6587\u3002 \u5bf9\u4e8e \\(\\textrm{insert(r, c)}\\) \u8fd9\u4e2a\u64cd\u4f5c\uff0c\u6211\u4eec\u53ef\u4ee5\u753b\u56fe\u6765\u8f85\u52a9\u7406\u89e3\uff1a \u7559\u5fc3\u66f2\u7ebf\u7bad\u5934\u7684\u65b9\u5411\u3002 \u5728\u8fd9\u91cc\u7ed9\u51fa \\(\\textrm{insert(r, c)}\\) \u7684\u4ee3\u7801\uff1a 1 2 3 4 5 6 7 8 9 10 void insert ( const int & r , const int & c ) { row [ ++ idx ] = r , col [ idx ] = c , ++ siz [ c ]; U [ idx ] = D [ idx ] = c , U [ D [ c ]] = idx , D [ c ] = idx ; if ( ! first [ r ]) first [ r ] = L [ idx ] = R [ idx ] = idx ; else { L [ idx ] = first [ r ], R [ idx ] = R [ first [ r ]]; L [ R [ first [ r ]]] = idx , R [ first [ r ]] = idx ; } } dance \u64cd\u4f5c \u00b6 \\(\\textrm{dance()}\\) \u5373\u4e3a\u9012\u5f52\u5730\u5220\u9664\u4ee5\u53ca\u8fd8\u539f\u5404\u4e2a\u884c\u5217\u7684\u8fc7\u7a0b\u3002 \u5982\u679c \\(0\\) \u53f7\u7ed3\u70b9\u6ca1\u6709\u53f3\u7ed3\u70b9\uff0c\u90a3\u4e48\u77e9\u9635\u4e3a\u7a7a\uff0c\u8bb0\u5f55\u7b54\u6848\u5e76\u8fd4\u56de\uff1b \u9009\u62e9\u5217\u5143\u7d20\u4e2a\u6570\u6700\u5c11\u7684\u4e00\u5217\uff0c\u5e76\u5220\u6389\u8fd9\u4e00\u5217\uff1b \u904d\u5386\u8fd9\u4e00\u5217\u6240\u6709\u6709 \\(1\\) \u7684\u884c\uff0c\u679a\u4e3e\u5b83\u662f\u5426\u88ab\u9009\u62e9\uff1b \u9012\u5f52\u8c03\u7528 \\(\\textrm{dance()}\\) \uff0c\u5982\u679c\u53ef\u884c\uff0c\u5219\u8fd4\u56de\uff1b\u5982\u679c\u4e0d\u53ef\u884c\uff0c\u5219\u6062\u590d\u88ab\u9009\u62e9\u7684\u884c\uff1b \u5982\u679c\u65e0\u89e3\uff0c\u5219\u8fd4\u56de\uff1b \u5728\u8fd9\u91cc\u7ed9\u51fa \\(\\textrm{dance()}\\) \u7684\u4ee3\u7801\u5b9e\u73b0\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 bool dance ( int dep ) { int i , j , c = R [ 0 ]; if ( ! R [ 0 ]) { ans = dep ; return 1 ; } IT ( i , R , 0 ) if ( siz [ i ] < siz [ c ]) c = i ; remove ( c ); IT ( i , D , c ) { stk [ dep ] = row [ i ]; IT ( j , R , i ) remove ( col [ j ]); if ( dance ( dep + 1 )) return 1 ; IT ( j , L , i ) recover ( col [ j ]); } recover ( c ); return 0 ; } \u5176\u4e2d stk[] \u7528\u6765\u8bb0\u5f55\u7b54\u6848\u3002 \u6ce8\u610f\u6211\u4eec\u6bcf\u6b21\u4f18\u5148\u9009\u62e9\u5217\u5143\u7d20\u4e2a\u6570\u6700\u5c11\u7684\u4e00\u5217\u8fdb\u884c\u5220\u9664\uff0c\u8fd9\u6837\u80fd\u4fdd\u8bc1\u7a0b\u5e8f\u5177\u6709\u4e00\u5b9a\u7684\u542f\u53d1\u6027\uff0c\u4f7f\u641c\u7d22\u6811\u5206\u652f\u6700\u5c11\u3002 \u6a21\u677f \u00b6 \u3010\u6a21\u677f\u3011\u821e\u8e48\u94fe\uff08DLX\uff09 \u6a21\u677f\u4ee3\u7801 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 #include <bits/stdc++.h> #define ll long long #define rgi register int #define rgl register ll #define il inline const int N = 500 + 10 ; int n , m , idx , ans ; int first [ N ], siz [ N ], stk [ N ]; struct DLXNODE { int lc , rc , up , dn , r , c ; }; il int read () { rgi x = 0 , f = 0 , ch ; while ( ! isdigit ( ch = getchar ())) f |= ch == '-' ; while ( isdigit ( ch )) x = ( x << 1 ) + ( x << 3 ) + ( ch ^ 48 ), ch = getchar (); return f ? - x : x ; } struct DLX { static const int MAXSIZE = 1e5 + 10 ; #define IT(i, A, x) for (i = A[x]; i != x; i = A[i]) int n , m , tot , first [ MAXSIZE + 10 ], siz [ MAXSIZE + 10 ]; int L [ MAXSIZE + 10 ], R [ MAXSIZE + 10 ], U [ MAXSIZE + 10 ], D [ MAXSIZE + 10 ]; int col [ MAXSIZE + 10 ], row [ MAXSIZE + 10 ]; void build ( const int & r , const int & c ) { n = r , m = c ; for ( rgi i = 0 ; i <= c ; ++ i ) { L [ i ] = i - 1 , R [ i ] = i + 1 ; U [ i ] = D [ i ] = i ; } L [ 0 ] = c , R [ c ] = 0 , tot = c ; memset ( first , 0 , sizeof ( first )); memset ( siz , 0 , sizeof ( siz )); } void insert ( const int & r , const int & c ) { col [ ++ tot ] = c , row [ tot ] = r , ++ siz [ c ]; D [ tot ] = D [ c ], U [ D [ c ]] = tot , U [ tot ] = c , D [ c ] = tot ; if ( ! first [ r ]) first [ r ] = L [ tot ] = R [ tot ] = tot ; else { R [ tot ] = R [ first [ r ]], L [ R [ first [ r ]]] = tot ; L [ tot ] = first [ r ], R [ first [ r ]] = tot ; } } void remove ( const int & c ) { rgi i , j ; L [ R [ c ]] = L [ c ], R [ L [ c ]] = R [ c ]; IT ( i , D , c ) IT ( j , R , i ) U [ D [ j ]] = U [ j ], D [ U [ j ]] = D [ j ], -- siz [ col [ j ]]; } void recover ( const int & c ) { rgi i , j ; IT ( i , U , c ) IT ( j , L , i ) U [ D [ j ]] = D [ U [ j ]] = j , ++ siz [ col [ j ]]; L [ R [ c ]] = R [ L [ c ]] = c ; } bool dance ( int dep ) { if ( ! R [ 0 ]) { ans = dep ; return 1 ; } rgi i , j , c = R [ 0 ]; IT ( i , R , 0 ) if ( siz [ i ] < siz [ c ]) c = i ; remove ( c ); IT ( i , D , c ) { stk [ dep ] = row [ i ]; IT ( j , R , i ) remove ( col [ j ]); if ( dance ( dep + 1 )) return 1 ; IT ( j , L , i ) recover ( col [ j ]); } recover ( c ); return 0 ; } #undef IT } solver ; int main () { n = read (), m = read (); solver . build ( n , m ); for ( rgi i = 1 ; i <= n ; ++ i ) for ( rgi j = 1 ; j <= m ; ++ j ) { int x = read (); if ( x ) solver . insert ( i , j ); } solver . dance ( 1 ); if ( ans ) for ( rgi i = 1 ; i < ans ; ++ i ) printf ( \"%d \" , stk [ i ]); else puts ( \"No Solution!\" ); return 0 ; } \u65f6\u95f4\u590d\u6742\u5ea6\u5206\u6790 \u00b6 DLX \u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f \u6307\u6570\u7ea7 \u7684\uff0c\u5b83\u9012\u5f52\u53ca\u56de\u6eaf\u7684\u6b21\u6570\u4e0e\u77e9\u9635\u4e2d \\(1\\) \u7684\u4e2a\u6570\u6709\u5173\uff0c\u4e0e\u77e9\u9635\u7684 \\(r, c\\) \u7b49\u53c2\u6570\u65e0\u5173\u3002 \u56e0\u6b64\u7406\u8bba\u590d\u6742\u5ea6\u5927\u6982\u5728 \\(O(c^n)\\) \u5de6\u53f3\uff0c\u5176\u4e2d \\(c\\) \u4e3a\u67d0\u4e2a\u975e\u5e38\u63a5\u8fd1\u4e8e \\(1\\) \u7684\u5e38\u6570\uff0c \\(n\\) \u4e3a\u77e9\u9635\u4e2d \\(1\\) \u7684\u4e2a\u6570\u3002 \u4f46\u5b9e\u9645\u60c5\u51b5\u4e0b DLX \u8868\u73b0\u826f\u597d\uff0c\u4e00\u822c\u80fd\u89e3\u51b3\u5927\u90e8\u5206\u7684\u95ee\u9898\u3002 \u5982\u4f55\u5efa\u6a21 \u00b6 DLX \u7684\u96be\u70b9\uff0c\u4e0d\u5168\u5728\u4e8e\u94fe\u8868\u7684\u5efa\u7acb\uff0c\u800c\u5728\u4e8e\u5efa\u6a21\u3002 \u8bf7\u786e\u4fdd\u5df2\u7ecf\u5b8c\u5168\u638c\u63e1 DLX \u6a21\u677f\u540e\u518d\u7ee7\u7eed\u9605\u8bfb\u672c\u6587\u3002 \u6211\u4eec\u6bcf\u62ff\u5230\u4e00\u4e2a\u9898\uff0c\u5e94\u8be5\u8003\u8651\u884c\u548c\u5217\u6240\u8868\u793a\u7684\u610f\u4e49\uff1a \u884c\u8868\u793a \u51b3\u7b56 \uff0c\u56e0\u4e3a\u6bcf\u884c\u5bf9\u5e94\u7740\u4e00\u4e2a\u96c6\u5408\uff0c\u4e5f\u5c31\u5bf9\u5e94\u7740\u9009/\u4e0d\u9009\uff1b \u5217\u8868\u793a \u72b6\u6001 \uff0c\u56e0\u4e3a\u7b2c \\(i\\) \u5217\u5bf9\u5e94\u7740\u67d0\u4e2a\u6761\u4ef6 \\(P_i\\) \u3002 \u5bf9\u4e8e\u67d0\u4e00\u884c\u800c\u8a00\uff0c\u7531\u4e8e\u4e0d\u540c\u7684\u5217\u7684\u503c\u4e0d\u5c3d\u76f8\u540c\uff0c\u6211\u4eec \u7531\u4e0d\u540c\u7684\u72b6\u6001\uff0c\u5b9a\u4e49\u4e86\u4e00\u4e2a\u51b3\u7b56 \u3002 \u4f8b\u9898\u4e00 \u6570\u72ec \u00b6 \u89e3\u9898\u601d\u8def \u5148\u8003\u8651\u51b3\u7b56\u662f\u4ec0\u4e48\u3002 \u5728\u8fd9\u4e00\u9898\u4e2d\uff0c\u6bcf\u4e00\u4e2a\u51b3\u7b56\u53ef\u4ee5\u7528\u5f62\u5982 \\((r, c, w)\\) \u7684\u6709\u5e8f\u4e09\u5143\u7ec4\u8868\u793a\u3002 \u6ce8\u610f\u5230\u201c\u5bab\u201d\u5e76\u4e0d\u662f\u51b3\u7b56\u7684\u53c2\u6570\uff0c\u56e0\u4e3a\u5b83 \u53ef\u4ee5\u88ab\u6bcf\u4e2a\u786e\u5b9a\u7684 \\((r, c)\\) \u8868\u793a \u3002 \u56e0\u6b64\u6709 \\(9 \\times 9 \\times 9 = 729\\) \u884c\u3002 \u518d\u8003\u8651\u72b6\u6001\u662f\u4ec0\u4e48\u3002 \u6211\u4eec\u601d\u8003\u4e00\u4e0b \\((r, c, w)\\) \u8fd9\u4e2a\u51b3\u5c06\u4f1a\u9020\u6210\u4ec0\u4e48\u5f71\u54cd\u3002\u8bb0 \\((r, c)\\) \u6240\u5728\u7684\u5bab\u4e3a \\(b\\) \u3002 \u7b2c \\(r\\) \u884c\u7528\u4e86\u4e00\u4e2a \\(w\\) \uff08\u7528 \\(9 \\times 9 = 81\\) \u5217\u8868\u793a\uff09\uff1b \u7b2c \\(c\\) \u5217\u7528\u4e86\u4e00\u4e2a \\(w\\) \uff08\u7528 \\(9 \\times 9 = 81\\) \u5217\u8868\u793a\uff09\uff1b \u7b2c \\(b\\) \u5bab\u7528\u4e86\u4e00\u4e2a \\(w\\) \uff08\u7528 \\(9 \\times 9 = 81\\) \u5217\u8868\u793a\uff09\uff1b \\((r, c)\\) \u4e2d\u586b\u5165\u4e86\u4e00\u4e2a\u6570\uff08\u7528 \\(9 \\times 9 = 81\\) \u5217\u8868\u793a\uff09\u3002 \u56e0\u6b64\u6709 \\(81 \\times 4 = 324\\) \u5217\uff0c\u5171 \\(729 \\times 4 = 2916\\) \u4e2a \\(1\\) \u3002 \u81f3\u6b64\uff0c\u6211\u4eec\u6210\u529f\u5730\u5c06 \\(9 \\times 9\\) \u7684\u6570\u72ec\u95ee\u9898\u8f6c\u5316\u6210\u4e86\u4e00\u4e2a **\u6709 \\(729\\) \u884c\uff0c \\(324\\) \u5217\uff0c\u5171 \\(2916\\) \u4e2a \\(1\\) ** \u7684\u7cbe\u786e\u8986\u76d6\u95ee\u9898\u3002 \u53c2\u8003\u4ee3\u7801 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 #include <bits/stdc++.h> #define LL long long #define rgi register int #define il inline const int N = 1e6 + 10 ; #define JUDGE 0 #define DEBUG 0 int ans [ 10 ][ 10 ], stk [ N ]; il int read () { rgi x = 0 , f = 0 , ch ; while ( ! isdigit ( ch = getchar ())) f |= ch == '-' ; while ( isdigit ( ch )) x = ( x << 1 ) + ( x << 3 ) + ( ch ^ 48 ), ch = getchar (); return f ? - x : x ; } struct DLX { static const int MAXSIZE = 1e5 + 10 ; #define IT(i, A, x) for (i = A[x]; i != x; i = A[i]) int n , m , tot , first [ MAXSIZE + 10 ], siz [ MAXSIZE + 10 ]; int L [ MAXSIZE + 10 ], R [ MAXSIZE + 10 ], U [ MAXSIZE + 10 ], D [ MAXSIZE + 10 ]; int col [ MAXSIZE + 10 ], row [ MAXSIZE + 10 ]; void build ( const int & r , const int & c ) { n = r , m = c ; for ( rgi i = 0 ; i <= c ; ++ i ) { L [ i ] = i - 1 , R [ i ] = i + 1 ; U [ i ] = D [ i ] = i ; } L [ 0 ] = c , R [ c ] = 0 , tot = c ; memset ( first , 0 , sizeof ( first )); memset ( siz , 0 , sizeof ( siz )); } void insert ( const int & r , const int & c ) { col [ ++ tot ] = c , row [ tot ] = r , ++ siz [ c ]; D [ tot ] = D [ c ], U [ D [ c ]] = tot , U [ tot ] = c , D [ c ] = tot ; if ( ! first [ r ]) first [ r ] = L [ tot ] = R [ tot ] = tot ; else { R [ tot ] = R [ first [ r ]], L [ R [ first [ r ]]] = tot ; L [ tot ] = first [ r ], R [ first [ r ]] = tot ; } } void remove ( const int & c ) { rgi i , j ; L [ R [ c ]] = L [ c ], R [ L [ c ]] = R [ c ]; IT ( i , D , c ) IT ( j , R , i ) U [ D [ j ]] = U [ j ], D [ U [ j ]] = D [ j ], -- siz [ col [ j ]]; } void recover ( const int & c ) { rgi i , j ; IT ( i , U , c ) IT ( j , L , i ) U [ D [ j ]] = D [ U [ j ]] = j , ++ siz [ col [ j ]]; L [ R [ c ]] = R [ L [ c ]] = c ; } bool dance ( int dep ) { rgi i , j , c = R [ 0 ]; if ( ! R [ 0 ]) { for ( i = 1 ; i < dep ; ++ i ) { int x = ( stk [ i ] - 1 ) / 9 / 9 + 1 ; int y = ( stk [ i ] - 1 ) / 9 % 9 + 1 ; int v = ( stk [ i ] - 1 ) % 9 + 1 ; ans [ x ][ y ] = v ; } return 1 ; } IT ( i , R , 0 ) if ( siz [ i ] < siz [ c ]) c = i ; remove ( c ); IT ( i , D , c ) { stk [ dep ] = row [ i ]; IT ( j , R , i ) remove ( col [ j ]); if ( dance ( dep + 1 )) return 1 ; IT ( j , L , i ) recover ( col [ j ]); } recover ( c ); return 0 ; } } solver ; int GetId ( int row , int col , int num ) { return ( row - 1 ) * 9 * 9 + ( col - 1 ) * 9 + num ; } void Insert ( int row , int col , int num ) { int dx = ( row - 1 ) / 3 + 1 ; int dy = ( col - 1 ) / 3 + 1 ; int room = ( dx - 1 ) * 3 + dy ; int id = GetId ( row , col , num ); int f1 = ( row - 1 ) * 9 + num ; // task 1 int f2 = 81 + ( col - 1 ) * 9 + num ; // task 2 int f3 = 81 * 2 + ( room - 1 ) * 9 + num ; // task 3 int f4 = 81 * 3 + ( row - 1 ) * 9 + col ; // task 4 solver . insert ( id , f1 ); solver . insert ( id , f2 ); solver . insert ( id , f3 ); solver . insert ( id , f4 ); } int main () { #if JUDGE freopen ( \".in\" , \"r\" , stdin ); freopen ( \".out\" , \"w\" , stdout ); #endif solver . build ( 729 , 324 ); for ( rgi i = 1 ; i <= 9 ; ++ i ) for ( rgi j = 1 ; j <= 9 ; ++ j ) { ans [ i ][ j ] = read (); for ( rgi v = 1 ; v <= 9 ; ++ v ) { if ( ans [ i ][ j ] && ans [ i ][ j ] != v ) continue ; Insert ( i , j , v ); } } solver . dance ( 1 ); for ( rgi i = 1 ; i <= 9 ; ++ i , putchar ( '\\n' )) for ( rgi j = 1 ; j <= 9 ; ++ j , putchar ( ' ' )) printf ( \"%d\" , ans [ i ][ j ]); return 0 ; } \u4f8b\u9898\u4e8c \u9776\u5f62\u6570\u72ec \u00b6 \u89e3\u9898\u601d\u8def \u8fd9\u4e00\u9898\u4e0e \u6570\u72ec \u7684\u6a21\u578b\u6784\u5efa \u4e00\u6a21\u4e00\u6837 \uff0c\u4e3b\u8981\u533a\u522b\u5728\u4e8e\u7b54\u6848\u7684\u66f4\u65b0\u3002 \u8fd9\u4e00\u9898\u53ef\u4ee5\u5f00\u4e00\u4e2a\u6743\u503c\u6570\u7ec4\uff0c\u6bcf\u6b21\u627e\u5230\u4e00\u7ec4\u6570\u72ec\u7684\u89e3\u65f6\uff0c \u6bcf\u4e2a\u4f4d\u7f6e\u4e0a\u7684\u6570\u4e58\u4e0a\u5bf9\u5e94\u7684\u6743\u503c\u8ba1\u5165\u7b54\u6848\u5373\u53ef\u3002 \u53c2\u8003\u4ee3\u7801 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 #include <bits/stdc++.h> #define LL long long #define il inline const int oo = 0x3f3f3f3f ; const int N = 1e5 + 10 ; const int e [] = { 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 6 , 6 , 7 , 8 , 8 , 8 , 8 , 8 , 7 , 6 , 6 , 7 , 8 , 9 , 9 , 9 , 8 , 7 , 6 , 6 , 7 , 8 , 9 , 10 , 9 , 8 , 7 , 6 , 6 , 7 , 8 , 9 , 9 , 9 , 8 , 7 , 6 , 6 , 7 , 8 , 8 , 8 , 8 , 8 , 7 , 6 , 6 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 }; int ans = - oo , a [ 10 ][ 10 ], stk [ N ]; il int read () { int x = 0 , f = 0 , ch ; while ( ! isdigit ( ch = getchar ())) f |= ch == '-' ; while ( isdigit ( ch )) x = ( x << 1 ) + ( x << 3 ) + ( ch ^ 48 ), ch = getchar (); return f ? - x : x ; } int GetWeight ( int row , int col , int num ) { return num * e [( row - 1 ) * 9 + ( col - 1 )]; } struct DLX { static const int MAXSIZE = 1e5 + 10 ; #define IT(i, A, x) for (i = A[x]; i != x; i = A[i]) int n , m , tot , first [ MAXSIZE + 10 ], siz [ MAXSIZE + 10 ]; int L [ MAXSIZE + 10 ], R [ MAXSIZE + 10 ], U [ MAXSIZE + 10 ], D [ MAXSIZE + 10 ]; int col [ MAXSIZE + 10 ], row [ MAXSIZE + 10 ]; void build ( const int & r , const int & c ) { n = r , m = c ; for ( int i = 0 ; i <= c ; ++ i ) { L [ i ] = i - 1 , R [ i ] = i + 1 ; U [ i ] = D [ i ] = i ; } L [ 0 ] = c , R [ c ] = 0 , tot = c ; memset ( first , 0 , sizeof ( first )); memset ( siz , 0 , sizeof ( siz )); } void insert ( const int & r , const int & c ) { col [ ++ tot ] = c , row [ tot ] = r , ++ siz [ c ]; D [ tot ] = D [ c ], U [ D [ c ]] = tot , U [ tot ] = c , D [ c ] = tot ; if ( ! first [ r ]) first [ r ] = L [ tot ] = R [ tot ] = tot ; else { R [ tot ] = R [ first [ r ]], L [ R [ first [ r ]]] = tot ; L [ tot ] = first [ r ], R [ first [ r ]] = tot ; } } void remove ( const int & c ) { int i , j ; L [ R [ c ]] = L [ c ], R [ L [ c ]] = R [ c ]; IT ( i , D , c ) IT ( j , R , i ) U [ D [ j ]] = U [ j ], D [ U [ j ]] = D [ j ], -- siz [ col [ j ]]; } void recover ( const int & c ) { int i , j ; IT ( i , U , c ) IT ( j , L , i ) U [ D [ j ]] = D [ U [ j ]] = j , ++ siz [ col [ j ]]; L [ R [ c ]] = R [ L [ c ]] = c ; } void dance ( int dep ) { int i , j , c = R [ 0 ]; if ( ! R [ 0 ]) { int cur_ans = 0 ; for ( i = 1 ; i < dep ; ++ i ) { int cur_row = ( stk [ i ] - 1 ) / 9 / 9 + 1 ; int cur_col = ( stk [ i ] - 1 ) / 9 % 9 + 1 ; int cur_num = ( stk [ i ] - 1 ) % 9 + 1 ; cur_ans += GetWeight ( cur_row , cur_col , cur_num ); } ans = std :: max ( ans , cur_ans ); return ; } IT ( i , R , 0 ) if ( siz [ i ] < siz [ c ]) c = i ; remove ( c ); IT ( i , D , c ) { stk [ dep ] = row [ i ]; IT ( j , R , i ) remove ( col [ j ]); dance ( dep + 1 ); IT ( j , L , i ) recover ( col [ j ]); } recover ( c ); } } solver ; int GetId ( int row , int col , int num ) { return ( row - 1 ) * 9 * 9 + ( col - 1 ) * 9 + num ; } void Insert ( int row , int col , int num ) { int dx = ( row - 1 ) / 3 + 1 ; // r int dy = ( col - 1 ) / 3 + 1 ; // c int room = ( dx - 1 ) * 3 + dy ; // room int id = GetId ( row , col , num ); int f1 = ( row - 1 ) * 9 + num ; // task 1 int f2 = 81 + ( col - 1 ) * 9 + num ; // task 2 int f3 = 81 * 2 + ( room - 1 ) * 9 + num ; // task 3 int f4 = 81 * 3 + ( row - 1 ) * 9 + col ; // task 4 solver . insert ( id , f1 ); solver . insert ( id , f2 ); solver . insert ( id , f3 ); solver . insert ( id , f4 ); } int main () { solver . build ( 729 , 324 ); for ( int i = 1 ; i <= 9 ; ++ i ) for ( int j = 1 ; j <= 9 ; ++ j ) { a [ i ][ j ] = read (); for ( int v = 1 ; v <= 9 ; ++ v ) { if ( a [ i ][ j ] && v != a [ i ][ j ]) continue ; Insert ( i , j , v ); } } solver . dance ( 1 ); printf ( \"%d\" , ans == - oo ? - 1 : ans ); return 0 ; } \u4f8b\u9898\u4e09 \u300cNOI2005\u300d\u667a\u6167\u73e0\u6e38\u620f \u00b6 \u89e3\u9898\u601d\u8def \u5b9a\u4e49\uff1a\u9898\u4e2d\u7ed9\u6211\u4eec\u7684\u667a\u6167\u73e0\u7684\u5f62\u6001\uff0c\u79f0\u4e3a\u8fd9\u4e2a\u667a\u6167\u73e0\u7684 \u6807\u51c6\u5f62\u6001 \u3002 \u663e\u7136\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u6539\u53d8\u4e24\u4e2a\u53c2\u6570 \\(d\\) \uff08\u8868\u793a\u987a\u65f6\u9488\u65cb\u8f6c \\(90^{\\circ}\\) \u7684\u6b21\u6570\uff09\u548c \\(f\\) \uff08\u662f\u5426\u6c34\u5e73\u7ffb\u8f6c\uff09\u6765\u6539\u53d8\u8fd9\u4e2a\u667a\u6167\u73e0\u7684\u5f62\u6001\u3002 \u4ecd\u7136\uff0c\u6211\u4eec\u5148\u8003\u8651\u51b3\u7b56\u662f\u4ec0\u4e48\u3002 \u5728\u8fd9\u4e00\u9898\u4e2d\uff0c\u6bcf\u4e00\u4e2a\u51b3\u7b56\u53ef\u4ee5\u7528\u5f62\u5982 \\((v, d, f, i)\\) \u7684\u6709\u5e8f\u4e94\u5143\u7ec4\u8868\u793a\u3002 \u8868\u793a\u7b2c \\(i\\) \u4e2a\u667a\u6167\u73e0\u7684*\u6807\u51c6\u5f62\u6001*\u7684\u5de6\u4e0a\u89d2\u7684\u4f4d\u7f6e\uff0c\u5e8f\u53f7\u4e3a \\(v\\) \uff0c\u7ecf\u8fc7\u4e86 \\(d\\) \u6b21\u987a\u65f6\u9488\u8f6c \\(90^{\\circ}\\) \u3002 \u5de7\u5408\u7684\u662f\uff0c\u6211\u4eec\u53ef\u4ee5\u4ee4 \\(f = 1\\) \u65f6\u4e0d\u6c34\u5e73\u7ffb\u8f6c\uff0c \\(f = -1\\) \u65f6\u6c34\u5e73\u7ffb\u8f6c\uff0c\u4ece\u800c\u8fbe\u5230\u7b80\u5316\u4ee3\u7801\u7684\u76ee\u7684\u3002 \u56e0\u6b64\u6709 \\(55 \\times 4 \\times 2 \\times 12 = 5280\\) \u884c\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u56e0\u4e3a\u4e00\u4e9b\u4e0d\u5408\u6cd5\u7684\u586b\u5145\uff0c\u5982 \\((1, 0, 1, 4)\\) \uff0c \u6240\u4ee5 \u5728\u5b9e\u9645\u64cd\u4f5c\u4e2d\uff0c\u7a7a\u7684\u667a\u6167\u73e0\u68cb\u76d8\u4e5f\u53ea\u9700\u8981\u5efa\u51fa \\(2730\\) \u884c\u3002 \u518d\u8003\u8651\u72b6\u6001\u662f\u4ec0\u4e48\u3002 \u8fd9\u4e00\u9898\u7684\u72b6\u6001\u6bd4\u8f83\u7b80\u5355\u3002 \u6211\u4eec\u601d\u8003\u4e00\u4e0b\uff0c \\((v, d, f, i)\\) \u8fd9\u4e2a\u51b3\u7b56\u4f1a\u9020\u6210\u4ec0\u4e48\u5f71\u54cd\u3002 \u67d0\u4e9b\u683c\u5b50\u88ab\u5360\u4e86\uff08\u7528 \\(55\\) \u5217\u8868\u793a\uff09\uff1b \u7b2c \\(i\\) \u4e2a\u667a\u6167\u73e0\u88ab\u7528\u4e86\uff08\u7528 \\(12\\) \u5217\u8868\u793a\uff09\u3002 \u56e0\u6b64\u6709 \\(55 + 12 = 67\\) \u5217\uff0c\u5171 \\(5280 \\times (5 + 1) = 31680\\) \u4e2a \\(1\\) \u3002 \u81f3\u6b64\uff0c\u6211\u4eec\u6210\u529f\u5730\u5c06\u667a\u6167\u73e0\u6e38\u620f\u8f6c\u5316\u6210\u4e86\u4e00\u4e2a **\u6709 \\(5280\\) \u884c\uff0c \\(67\\) \u5217\uff0c\u5171 \\(31680\\) \u4e2a \\(1\\) ** \u7684\u7cbe\u786e\u8986\u76d6\u95ee\u9898\u3002 \u53c2\u8003\u4ee3\u7801 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 #include <bits/stdc++.h> #define LL long long int numcol , numrow ; int dfn [ 3000 ], tx [ 2 ], nxt [ 2 ], num [ 50 ][ 50 ], vis [ 50 ]; char ans [ 50 ][ 50 ]; const int f [ 2 ] = { - 1 , 1 }; const int table [ 12 ][ 5 ][ 2 ] = { // directions of shapes {{ 0 , 0 }, { 1 , 0 }, { 0 , 1 }}, // A {{ 0 , 0 }, { 0 , 1 }, { 0 , 2 }, { 0 , 3 }}, // B {{ 0 , 0 }, { 1 , 0 }, { 0 , 1 }, { 0 , 2 }}, // C {{ 0 , 0 }, { 1 , 0 }, { 0 , 1 }, { 1 , 1 }}, // D {{ 0 , 0 }, { 1 , 0 }, { 2 , 0 }, { 2 , 1 }, { 2 , 2 }}, // E {{ 0 , 0 }, { 0 , 1 }, { 1 , 1 }, { 0 , 2 }, { 0 , 3 }}, // F {{ 0 , 0 }, { 1 , 0 }, { 0 , 1 }, { 0 , 2 }, { 1 , 2 }}, // G {{ 0 , 0 }, { 1 , 0 }, { 0 , 1 }, { 1 , 1 }, { 0 , 2 }}, // H {{ 0 , 0 }, { 0 , 1 }, { 0 , 2 }, { 1 , 2 }, { 1 , 3 }}, // I {{ 0 , 0 }, { - 1 , 1 }, { 0 , 1 }, { 1 , 1 }, { 0 , 2 }}, // J {{ 0 , 0 }, { 1 , 0 }, { 1 , 1 }, { 2 , 1 }, { 2 , 2 }}, // K {{ 0 , 0 }, { 1 , 0 }, { 0 , 1 }, { 0 , 2 }, { 0 , 3 }}, // L }; const int len [ 12 ] = { 3 , 4 , 4 , 4 , 5 , 5 , 5 , 5 , 5 , 5 , 5 , 5 }; const int getx [] = { 0 , 1 , 2 , 2 , 3 , 3 , 3 , 4 , 4 , 4 , 4 , 5 , 5 , 5 , 5 , 5 , 6 , 6 , 6 , 6 , 6 , 6 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 8 , 8 , 8 , 8 , 8 , 8 , 8 , 8 , 9 , 9 , 9 , 9 , 9 , 9 , 9 , 9 , 9 , 10 , 10 , 10 , 10 , 10 , 10 , 10 , 10 , 10 , 10 , 11 , 11 , 11 , 11 , 11 , 11 , 11 , 11 , 11 , 11 , 11 , 12 , 12 , 12 , 12 , 12 , 12 , 12 , 12 , 12 , 12 , 12 , 12 , 13 , 13 , 13 , 13 , 13 , 13 , 13 , 13 , 13 , 13 , 13 , 13 , 13 , 14 , 14 , 14 , 14 , 14 , 14 , 14 , 14 , 14 }; const int gety [] = { 0 , 1 , 1 , 2 , 1 , 2 , 3 , 1 , 2 , 3 , 4 , 1 , 2 , 3 , 4 , 5 , 1 , 2 , 3 , 4 , 5 , 6 , 1 , 2 , 3 , 4 , 5 , 6 , 7 , 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 , 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 , 11 , 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 , 11 , 12 , 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 , 11 , 12 , 13 , 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 }; struct DLX { static const int MS = 1e5 + 10 ; #define IT(i, A, x) for (i = A[x]; i != x; i = A[i]) int n , m , tot , first [ MS ], siz [ MS ]; int L [ MS ], R [ MS ], U [ MS ], D [ MS ]; int col [ MS ], row [ MS ]; void build ( const int & r , const int & c ) { n = r , m = c ; for ( rgi i = 0 ; i <= c ; ++ i ) { L [ i ] = i - 1 , R [ i ] = i + 1 ; U [ i ] = D [ i ] = i ; } L [ 0 ] = c , R [ c ] = 0 , tot = c ; memset ( first , 0 , sizeof ( first )); memset ( siz , 0 , sizeof ( siz )); } void insert ( const int & r , const int & c ) { col [ ++ tot ] = c , row [ tot ] = r , ++ siz [ c ]; D [ tot ] = D [ c ], U [ D [ c ]] = tot , U [ tot ] = c , D [ c ] = tot ; if ( ! first [ r ]) first [ r ] = L [ tot ] = R [ tot ] = tot ; else R [ tot ] = R [ first [ r ]], L [ R [ first [ r ]]] = tot , L [ tot ] = first [ r ], R [ first [ r ]] = tot ; // ! } void remove ( const int & c ) { rgi i , j ; L [ R [ c ]] = L [ c ], R [ L [ c ]] = R [ c ]; IT ( i , D , c ) IT ( j , R , i ) U [ D [ j ]] = U [ j ], D [ U [ j ]] = D [ j ], -- siz [ col [ j ]]; } void recover ( const int & c ) { rgi i , j ; IT ( i , U , c ) IT ( j , L , i ) U [ D [ j ]] = D [ U [ j ]] = j , ++ siz [ col [ j ]]; L [ R [ c ]] = R [ L [ c ]] = c ; } bool dance () { if ( ! R [ 0 ]) return 1 ; rgi i , j , c = R [ 0 ]; IT ( i , R , 0 ) if ( siz [ i ] < siz [ c ]) c = i ; remove ( c ); IT ( i , D , c ) { if ( col [ i ] <= 55 ) ans [ getx [ col [ i ]]][ gety [ col [ i ]]] = dfn [ row [ i ]] + 'A' ; IT ( j , R , i ) { remove ( col [ j ]); if ( col [ j ] <= 55 ) ans [ getx [ col [ j ]]][ gety [ col [ j ]]] = dfn [ row [ j ]] + 'A' ; } if ( dance ()) return 1 ; IT ( j , L , i ) recover ( col [ j ]); } recover ( c ); return 0 ; } #undef IT } solver ; int main () { for ( rgi i = 1 ; i <= 10 ; ++ i ) scanf ( \"%s\" , ans [ i ] + 1 ); for ( rgi i = 1 ; i <= 10 ; ++ i ) for ( rgi j = 1 ; j <= i ; ++ j ) { if ( ans [ i ][ j ] != '.' ) vis [ ans [ i ][ j ] - 'A' ] = 1 ; num [ i ][ j ] = ++ numcol ; } solver . build ( 2730 , numcol + 12 ); /*******build*******/ for ( rgi id = 0 , op ; id < 12 ; ++ id ) { // every block for ( ++ numcol , op = 0 ; op <= 1 ; ++ op ) { for ( rgi dx = 0 ; dx <= 1 ; ++ dx ) { for ( rgi dy = 0 ; dy <= 1 ; ++ dy ) { for ( tx [ 0 ] = 1 ; tx [ 0 ] <= 10 ; ++ tx [ 0 ]) { for ( tx [ 1 ] = 1 ; tx [ 1 ] <= tx [ 0 ]; ++ tx [ 1 ]) { bool flag = 1 ; for ( rgi k = 0 ; k < len [ id ]; ++ k ) { nxt [ op ] = tx [ op ] + f [ dx ] * table [ id ][ k ][ 0 ]; nxt [ op ^ 1 ] = tx [ op ^ 1 ] + f [ dy ] * table [ id ][ k ][ 1 ]; if ( vis [ id ]) { if ( ans [ nxt [ 0 ]][ nxt [ 1 ]] != id + 'A' ) { flag = 0 ; break ; } } else if ( ans [ nxt [ 0 ]][ nxt [ 1 ]] != '.' ) { flag = 0 ; break ; } } if ( ! flag ) continue ; dfn [ ++ numrow ] = id ; solver . insert ( numrow , numcol ); for ( rgi k = 0 ; k < len [ id ]; ++ k ) { nxt [ op ] = tx [ op ] + f [ dx ] * table [ id ][ k ][ 0 ]; nxt [ op ^ 1 ] = tx [ op ^ 1 ] + f [ dy ] * table [ id ][ k ][ 1 ]; solver . insert ( numrow , num [ nxt [ 0 ]][ nxt [ 1 ]]); } } } } } } } /********end********/ if ( ! solver . dance ()) puts ( \"No solution\" ); else for ( rgi i = 1 ; i <= 10 ; ++ i , puts ( \"\" )) for ( rgi j = 1 ; j <= i ; ++ j ) putchar ( ans [ i ][ j ]); return 0 ; } \u7ec3\u4e60 \u00b6 SUDOKU - Sudoku \u300ckuangbin \u5e26\u4f60\u98de\u300d\u4e13\u9898\u4e09 Dancing Links \u603b\u7ed3 \u00b6 DLX \u80fd\u7528\u6765\u89e3\u51b3\u7cbe\u786e\u8986\u76d6\u95ee\u9898\uff0c\u9002\u5f53\u5730\u5efa\u7acb\u8d77\u6a21\u578b\u540e\u80fd\u89e3\u51b3\u4e00\u4e9b\u641c\u7d22\u9898\u3002 References \u00b6 [1]\u82f1\u96c4\u54ea\u91cc\u51fa\u6765 \u7684 \u300a\u591c\u6df1\u4eba\u9759\u5199\u7b97\u6cd5\uff08\u4e5d\uff09- Dancing Links X\uff08\u8df3\u821e\u94fe\uff09\u300b [2]\u4e07\u4ed3\u4e00\u9ecd \u7684 \u300a\u8df3\u8dc3\u7684\u821e\u8005\uff0c\u821e\u8e48\u94fe\uff08Dancing Links\uff09\u7b97\u6cd5\u2014\u2014\u6c42\u89e3\u7cbe\u786e\u8986\u76d6\u95ee\u9898\u300b [3]zhangjianjunab \u7684 \u300aDLX \u7b97\u6cd5\u4e00\u89c8\u300b [4]\u9759\u542c\u98ce\u541f\u3002\u7684 \u300a\u641c\u7d22\uff1aDLX \u7b97\u6cd5\u300b [5]\u5218\u6c5d\u4f73\uff0c\u9648\u950b \u7684 \u300a\u7b97\u6cd5\u7ade\u8d5b\u5165\u95e8\u7ecf\u5178-\u8bad\u7ec3\u6307\u5357\u300b","title":"Dancing Links"},{"location":"posts/lectures/dlx/#_1","text":"","title":"\u7cbe\u786e\u8986\u76d6\u95ee\u9898"},{"location":"posts/lectures/dlx/#_2","text":"\u7cbe\u786e\u8986\u76d6\u95ee\u9898 (Exact Cover Problem) \u662f\u6307\u7ed9\u5b9a\u8bb8\u591a\u96c6\u5408 \\(S_i (1 \\le i \\le n)\\) \u4ee5\u53ca\u4e00\u4e2a\u96c6\u5408 \\(X\\) \uff0c\u6c42\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\u7684\u65e0\u5e8f\u591a\u5143\u7ec4 \\((T_1, T_2, \\cdots , T_m)\\) \uff1a \\(\\forall i, j \\in [1, m],T_i\\bigcap T_j = \\varnothing (i \\neq j)\\) \\(X = \\bigcup\\limits_{i = 1}^{m}T_i\\) \\(\\forall i \\in[1, m], T_i \\in \\\\{S_1, S_2, \\cdots, S_n\\\\}\\) \u4e00\u4e2a\u300c\u7cbe\u786e\u8986\u76d6\u95ee\u9898\u300d\u7684\u4f8b\u5b50 \u7ed9\u51fa $$ \\begin{aligned} & S_1 = \\{5, 9, 17\\} \\\\ & S_2 = \\{1, 8, 119\\} \\\\ & S_3 = \\{3, 5, 17\\} \\\\ & S_4 = \\{1, 8\\} \\\\ & S_5 = \\{3, 119\\} \\\\ & S_6 = \\{8, 9, 119\\} \\\\ & X = \\{1, 3, 5, 8, 9, 17, 119\\} \\end{aligned} $$ \u5219 \\((S_1, S_4, S_5)\\) \u4e3a\u4e00\u7ec4\u5408\u6cd5\u89e3\u3002","title":"\u5b9a\u4e49"},{"location":"posts/lectures/dlx/#_3","text":"\u6211\u4eec\u5c06 \\(\\bigcup\\limits_{i = 1}^{n}S_i\\) \u4e2d\u7684\u6240\u6709\u6570\u79bb\u6563\u5316\uff0c\u90a3\u4e48\u53ef\u4ee5\u5f97\u5230\u8fd9\u4e48\u4e00\u4e2a\u6a21\u578b\uff1a \u7ed9\u5b9a\u4e00\u4e2a 01 \u77e9\u9635\uff0c\u4f60\u53ef\u4ee5\u9009\u62e9\u4e00\u4e9b\u884c\uff0c\u4f7f\u5f97\u6700\u7ec8\u6bcf\u5217\u90fd\u6070\u597d\u6709\u4e00\u4e2a 1\u3002 \u4e3e\u4e2a\u4f8b\u5b50\uff0c\u6211\u4eec\u5bf9\u4e0a\u6587\u4e2d\u7684\u4f8b\u5b50\u8fdb\u884c\u5efa\u6a21\uff0c\u53ef\u4ee5\u5f97\u5230\u8fd9\u4e48\u4e00\u4e2a\u77e9\u9635\uff1a $$ \\begin{pmatrix} 0 & 0 & 1 & 0 & 1 & 1 & 0 \\\\ 1 & 0 & 0 & 1 & 0 & 0 & 1 \\\\ 0 & 1 & 1 & 0 & 0 & 1 & 0 \\\\ 1 & 0 & 0 & 1 & 0 & 0 & 0 \\\\ 0 & 1 & 0 & 0 & 0 & 0 & 1 \\\\ 0 & 0 & 0 & 1 & 1 & 0 & 1 \\end{pmatrix} $$ \u5176\u4e2d\u7b2c \\(i\\) \u884c\u8868\u793a\u7740 \\(S_i\\) \uff0c\u800c\u8fd9\u884c\u7684\u6bcf\u4e2a\u6570\u4f9d\u6b21\u8868\u793a \\([1 \\in S_i],[3 \\in S_i],[5 \\in S_i],\\cdots,[119 \\in S_i]\\) \u3002","title":"\u95ee\u9898\u8f6c\u5316"},{"location":"posts/lectures/dlx/#1","text":"\u6211\u4eec\u53ef\u4ee5\u679a\u4e3e\u9009\u62e9\u54ea\u4e9b\u884c\uff0c\u6700\u540e\u68c0\u67e5\u8fd9\u4e2a\u65b9\u6848\u662f\u5426\u5408\u6cd5\u3002 \u56e0\u4e3a\u6bcf\u4e00\u884c\u90fd\u6709\u9009\u6216\u8005\u4e0d\u9009\u4e24\u79cd\u72b6\u6001\uff0c\u6240\u4ee5\u679a\u4e3e\u884c\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f \\(O(2^n)\\) \u7684\uff1b \u800c\u6bcf\u6b21\u68c0\u67e5\u90fd\u9700\u8981 \\(O(nm)\\) \u7684\u65f6\u95f4\u590d\u6742\u5ea6\u3002\u6240\u4ee5\u603b\u7684\u590d\u6742\u5ea6\u662f \\(O(nm\\cdot2^n)\\) \u3002 \u4ee3\u7801\u5b9e\u73b0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 int ok = 0 ; for ( int state = 0 ; state < 1 << n ; ++ state ) { // \u679a\u4e3e\u6bcf\u884c\u662f\u5426\u88ab\u9009 for ( int i = 1 ; i <= n ; ++ i ) if (( 1 << i - 1 ) & state ) for ( int j = 1 ; j <= m ; ++ j ) a [ i ][ j ] = 1 ; int flag = 1 ; for ( int j = 1 ; j <= m ; ++ j ) for ( int i = 1 , bo = 0 ; i <= n ; ++ i ) if ( a [ i ][ j ]) { if ( bo ) flag = 0 ; else bo = 1 ; } if ( ! flag ) continue ; else { ok = 1 ; for ( int i = 1 ; i <= n ; ++ i ) if (( 1 << i - 1 ) & state ) printf ( \"%d \" , i ); puts ( \"\" ); } memset ( a , 0 , sizeof ( a )); } if ( ! ok ) puts ( \"No solution.\" );","title":"\u66b4\u529b 1"},{"location":"posts/lectures/dlx/#2","text":"\u8003\u8651\u5230 01 \u77e9\u9635\u7684\u7279\u6b8a\u6027\u8d28\uff0c\u6211\u4eec\u53ef\u4ee5\u628a\u6bcf\u4e00\u884c\u90fd\u770b\u505a\u6210\u4e00\u4e2a \\(m\\) \u4f4d\u4e8c\u8fdb\u5236\u6570\u3002 \u56e0\u6b64\u88ab\u8f6c\u5316\u4e3a\u4e86 \u7ed9\u4f60 \\(n\\) \u4e2a \\(m\\) \u4f4d\u4e8c\u8fdb\u5236\u6570\uff0c\u8981\u6c42\u9009\u62e9\u4e00\u4e9b\u6570\uff0c\u4f7f\u5f97\u4efb\u610f\u4e24\u4e2a\u6570\u7684\u4e0e\u90fd\u4e3a 0\uff0c\u4e14\u6240\u6709\u6570\u7684\u6216\u4e3a \\(2^m - 1\\) \u3002 tmp \u8868\u793a\u7684\u662f\u622a\u81f3\u76ee\u524d\u7684\u6240\u6709\u88ab\u9009\u62e9\u4e86\u7684 \\(m\\) \u4f4d\u4e8c\u8fdb\u5236\u6570\u7684\u6216\u3002 \u56e0\u4e3a\u6bcf\u4e00\u884c\u90fd\u6709\u9009\u6216\u8005\u4e0d\u9009\u4e24\u79cd\u72b6\u6001\uff0c\u6240\u4ee5\u679a\u4e3e\u884c\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(2^n)\\) \uff1b \u800c\u6bcf\u6b21\u8ba1\u7b97 tmp \u90fd\u9700\u8981 \\(O(n)\\) \u7684\u65f6\u95f4\u590d\u6742\u5ea6\u3002\u6240\u4ee5\u603b\u7684\u590d\u6742\u5ea6\u4e3a \\(O(n\\cdot2^n)\\) \u3002 \u4ee3\u7801\u5b9e\u73b0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 int ok = 0 ; for ( int i = 1 ; i <= n ; ++ i ) for ( int j = m ; j >= 1 ; -- j ) num [ i ] = num [ i ] << 1 | a [ i ][ j ]; for ( int state = 0 ; state < 1 << n ; ++ state ) { int tmp = 0 ; for ( int i = 1 ; i <= n ; ++ i ) if (( 1 << i - 1 ) & state ) { if ( tmp & num [ i ]) break ; tmp |= num [ i ]; } if ( tmp == ( 1 << m ) - 1 ) { ok = 1 ; for ( int i = 1 ; i <= n ; ++ i ) if (( 1 << i - 1 ) & state ) printf ( \"%d \" , i ); puts ( \"\" ); } } if ( ! ok ) puts ( \"No solution.\" );","title":"\u66b4\u529b 2"},{"location":"posts/lectures/dlx/#x","text":"Donald E. Knuth \u63d0\u51fa\u4e86 X \u7b97\u6cd5 (Algorithm X)\uff0c\u5176\u601d\u60f3\u4e0e\u521a\u624d\u7684\u66b4\u529b\u5dee\u4e0d\u591a\uff0c\u4f46\u662f\u65b9\u4fbf\u4f18\u5316\u3002 \u7ee7\u7eed\u4ee5\u4e0a\u6587\u4e2d\u4e2d\u63d0\u5230\u7684\u4f8b\u5b50\u4e3a\u8f7d\u4f53\uff0c\u6211\u4eec\u5f97\u5230\u7684\u662f\u4e00\u4e2a\u8fd9\u6837\u7684 01 \u77e9\u9635\uff1a $$ \\begin{pmatrix} 0 & 0 & 1 & 0 & 1 & 1 & 0 \\\\ 1 & 0 & 0 & 1 & 0 & 0 & 1 \\\\ 0 & 1 & 1 & 0 & 0 & 1 & 0 \\\\ 1 & 0 & 0 & 1 & 0 & 0 & 0 \\\\ 0 & 1 & 0 & 0 & 0 & 0 & 1 \\\\ 0 & 0 & 0 & 1 & 1 & 0 & 1 \\end{pmatrix} $$ 1. \u6b64\u65f6\u7b2c\u4e00\u884c\u6709 \\(3\\) \u4e2a \\(1\\) \uff0c\u7b2c\u4e8c\u884c\u6709 \\(3\\) \u4e2a \\(1\\) \uff0c\u7b2c\u4e09\u884c\u6709 \\(3\\) \u4e2a \\(1\\) \uff0c\u7b2c\u56db\u884c\u6709 \\(2\\) \u4e2a \\(1\\) \uff0c\u7b2c\u4e94\u884c\u6709 \\(2\\) \u4e2a \\(1\\) \uff0c\u7b2c\u516d\u884c\u6709 \\(3\\) \u4e2a \\(1\\) \u3002\u9009\u62e9\u7b2c\u4e00\u884c\uff0c\u5c06\u5b83\u5220\u9664\uff0c\u5e76\u5c06\u6240\u6709 \\(1\\) \u6240\u5728\u7684\u5217\u6253\u4e0a\u6807\u8bb0\uff1b $$ \\begin{pmatrix} \\color{Blue}0 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}1 & \\color{Blue}0 \\\\ 1 & 0 & \\color{Red}0 & 1 & \\color{Red}0 & \\color{Red}0 & 1 \\\\ 0 & 1 & \\color{Red}1 & 0 & \\color{Red}0 & \\color{Red}1 & 0 \\\\ 1 & 0 & \\color{Red}0 & 1 & \\color{Red}0 & \\color{Red}0 & 0 \\\\ 0 & 1 & \\color{Red}0 & 0 & \\color{Red}0 & \\color{Red}0 & 1 \\\\ 0 & 0 & \\color{Red}0 & 1 & \\color{Red}1 & \\color{Red}0 & 1 \\end{pmatrix} $$ 2. \u9009\u62e9\u6240\u6709\u88ab\u6807\u8bb0\u7684\u5217\uff0c\u5c06\u5b83\u4eec\u5220\u9664\uff0c\u5e76\u5c06\u8fd9\u4e9b\u5217\u4e2d\u542b \\(1\\) \u7684\u884c\u6253\u4e0a\u6807\u8bb0\uff1b $$ \\begin{pmatrix} \\color{Blue}0 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}1 & \\color{Blue}0 \\\\ 1 & 0 & \\color{Blue}0 & 1 & \\color{Blue}0 & \\color{Blue}0 & 1 \\\\ \\color{Red}0 & \\color{Red}1 & \\color{Blue}1 & \\color{Red}0 & \\color{Blue}0 & \\color{Blue}1 & \\color{Red}0 \\\\ 1 & 0 & \\color{Blue}0 & 1 & \\color{Blue}0 & \\color{Blue}0 & 0 \\\\ 0 & 1 & \\color{Blue}0 & 0 & \\color{Blue}0 & \\color{Blue}0 & 1 \\\\ \\color{Red}0 & \\color{Red}0 & \\color{Blue}0 & \\color{Red}1 & \\color{Blue}1 & \\color{Blue}0 & \\color{Red}1 \\end{pmatrix} $$ 3. \u9009\u62e9\u6240\u6709\u88ab\u6807\u8bb0\u7684\u884c\uff0c\u5c06\u5b83\u4eec\u5220\u9664\uff1b $$ \\begin{pmatrix} \\color{Blue}0 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}1 & \\color{Blue}0 \\\\ 1 & 0 & \\color{Blue}0 & 1 & \\color{Blue}0 & \\color{Blue}0 & 1 \\\\ \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}1 & \\color{Blue}0 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}0 \\\\ 1 & 0 & \\color{Blue}0 & 1 & \\color{Blue}0 & \\color{Blue}0 & 0 \\\\ 0 & 1 & \\color{Blue}0 & 0 & \\color{Blue}0 & \\color{Blue}0 & 1 \\\\ \\color{Blue}0 & \\color{Blue}0 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}1 & \\color{Blue}0 & \\color{Blue}1 \\end{pmatrix} $$ \u8fd9\u8868\u793a\u8868\u793a\u6211\u4eec\u9009\u62e9\u4e86\u4e00\u884c\uff0c\u4e14\u8fd9\u4e00\u884c\u7684\u6240\u6709 \\(1\\) \u6240\u5728\u7684\u5217\u4e0d\u80fd\u6709\u5176\u4ed6 \\(1\\) \u4e86\u3002 \u4e8e\u662f\u6211\u4eec\u5f97\u5230\u4e86\u8fd9\u6837\u7684\u4e00\u4e2a\u65b0\u7684\u5c0f 01 \u77e9\u9635\uff1a $$ \\begin{pmatrix} 1 & 0 & 1 & 1 \\\\ 1 & 0 & 1 & 0 \\\\ 0 & 1 & 0 & 1 \\end{pmatrix} $$ 4. \u6b64\u65f6\u7b2c\u4e00\u884c\uff08\u539f\u6765\u7684\u7b2c\u4e8c\u884c\uff09\u6709 \\(3\\) \u4e2a \\(1\\) \uff0c\u7b2c\u4e8c\u884c\uff08\u539f\u6765\u7684\u7b2c\u56db\u884c\uff09\u6709 \\(2\\) \u4e2a \\(1\\) \uff0c\u7b2c\u4e09\u884c\uff08\u539f\u6765\u7684\u7b2c\u4e94\u884c\uff09\u6709 \\(2\\) \u4e2a \\(1\\) \u3002\u9009\u62e9\u7b2c\u4e00\u884c\uff08\u539f\u6765\u7684\u7b2c\u4e8c\u884c\uff09\uff0c\u5c06\u5b83\u5220\u9664\uff0c\u5e76\u5c06\u6240\u6709 \\(1\\) \u6240\u5728\u7684\u5217\u6253\u4e0a\u6807\u8bb0\uff1b $$ \\begin{pmatrix} \\color{Blue}1 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}1 \\\\ \\color{Red}1 & 0 & \\color{Red}1 & \\color{Red}0 \\\\ \\color{Red}0 & 1 & \\color{Red}0 & \\color{Red}1 \\end{pmatrix} $$ 5. \u9009\u62e9\u6240\u6709\u88ab\u6807\u8bb0\u7684\u5217\uff0c\u5c06\u5b83\u4eec\u5220\u9664\uff0c\u5e76\u5c06\u8fd9\u4e9b\u5217\u4e2d\u542b \\(1\\) \u7684\u884c\u6253\u4e0a\u6807\u8bb0\uff1b $$ \\begin{pmatrix} \\color{Blue}1 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}1 \\\\ \\color{Blue}1 & \\color{Red}0 & \\color{Blue}1 & \\color{Blue}0 \\\\ \\color{Blue}0 & \\color{Red}1 & \\color{Blue}0 & \\color{Blue}1 \\end{pmatrix} $$ 6. \u9009\u62e9\u6240\u6709\u88ab\u6807\u8bb0\u7684\u884c\uff0c\u5c06\u5b83\u4eec\u5220\u9664\uff1b $$ \\begin{pmatrix} \\color{Blue}1 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}1 \\\\ \\color{Blue}1 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}0 \\\\ \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}0 & \\color{Blue}1 \\end{pmatrix} $$ \u4e8e\u662f\u6211\u4eec\u5f97\u5230\u4e86\u4e00\u4e2a\u7a7a\u77e9\u9635\u3002\u4f46\u662f\u4e0a\u6b21\u5220\u9664\u7684\u884c \"1 0 1 1\" \u4e0d\u662f\u5168 \\(1\\) \u7684\uff0c\u8bf4\u660e\u9009\u62e9\u6709\u8bef\uff1b $$ \\begin{pmatrix} \\end{pmatrix} $$ 7. \u56de\u6eaf\u5230\u6b65\u9aa4 \\(4\\) \uff0c\u6211\u4eec\u8003\u8651\u9009\u62e9\u7b2c\u4e8c\u884c\uff08\u539f\u6765\u7684\u7b2c\u56db\u884c\uff09\uff0c\u5c06\u5b83\u5220\u9664\uff0c\u5e76\u5c06\u6240\u6709 \\(1\\) \u6240\u5728\u7684\u5217\u6253\u4e0a\u6807\u8bb0\uff1b $$ \\begin{pmatrix} \\color{Red}1 & 0 & \\color{Red}1 & 1 \\\\ \\color{Blue}1 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}0 \\\\ \\color{Red}0 & 1 & \\color{Red}0 & 1 \\end{pmatrix} $$ 8. \u9009\u62e9\u6240\u6709\u88ab\u6807\u8bb0\u7684\u5217\uff0c\u5c06\u5b83\u4eec\u5220\u9664\uff0c\u5e76\u5c06\u8fd9\u4e9b\u5217\u4e2d\u542b \\(1\\) \u7684\u884c\u6253\u4e0a\u6807\u8bb0\uff1b $$ \\begin{pmatrix} \\color{Blue}1 & \\color{Red}0 & \\color{Blue}1 & \\color{Red}1 \\\\ \\color{Blue}1 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}0 \\\\ \\color{Blue}0 & 1 & \\color{Blue}0 & 1 \\end{pmatrix} $$ 9. \u9009\u62e9\u6240\u6709\u88ab\u6807\u8bb0\u7684\u884c\uff0c\u5c06\u5b83\u4eec\u5220\u9664\uff1b $$ \\begin{pmatrix} \\color{Blue}1 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}1 \\\\ \\color{Blue}1 & \\color{Blue}0 & \\color{Blue}1 & \\color{Blue}0 \\\\ \\color{Blue}0 & 1 & \\color{Blue}0 & 1 \\end{pmatrix} $$ \u4e8e\u662f\u6211\u4eec\u5f97\u5230\u4e86\u8fd9\u6837\u7684\u4e00\u4e2a\u77e9\u9635\uff1a $$ \\begin{pmatrix} 1 & 1 \\end{pmatrix} $$ 10. \u6b64\u65f6\u7b2c\u4e00\u884c\uff08\u539f\u6765\u7684\u7b2c\u4e94\u884c\uff09\u6709 \\(2\\) \u4e2a \\(1\\) \uff0c\u5c06\u5b83\u4eec\u5168\u90e8\u5220\u9664\uff0c\u6211\u4eec\u5f97\u5230\u4e86\u4e00\u4e2a\u7a7a\u77e9\u9635\uff1a $$ \\begin{pmatrix} \\end{pmatrix} $$ 11. \u4e0a\u4e00\u6b21\u5220\u9664\u7684\u65f6\u5019\uff0c\u5220\u9664\u7684\u662f\u5168 \\(1\\) \u7684\u884c\uff0c\u56e0\u6b64\u6210\u529f\uff0c\u7b97\u6cd5\u7ed3\u675f\u3002\u7b54\u6848\u5373\u4e3a\u6211\u4eec\u5220\u9664\u7684\u4e09\u884c\uff1a \\(1, 4, 5\\) \u3002 \u5f3a\u70c8\u5efa\u8bae\u81ea\u5df1\u6a21\u62df\u4e00\u904d\u77e9\u9635\u5220\u9664\u3001\u8fd8\u539f\u4e0e\u56de\u6eaf\u7684\u8fc7\u7a0b\u540e\u518d\u63a5\u7740\u9605\u8bfb\u4e0b\u6587\u3002 \u6211\u4eec\u53ef\u4ee5\u6982\u62ec\u51fa X \u7b97\u6cd5\u7684\u8fc7\u7a0b\uff1a \u5bf9\u4e8e\u73b0\u5728\u7684\u77e9\u9635 \\(M\\) \uff0c\u9009\u62e9\u5e76\u6807\u8bb0\u4e00\u5217 \\(r\\) \uff0c\u5c06 \\(r\\) \u6dfb\u52a0\u81f3 \\(S\\) \u4e2d\uff1b \u5982\u679c\u5c1d\u8bd5\u4e86\u6240\u6709\u7684 \\(r\\) \u5374\u65e0\u89e3\uff0c\u5219\u7b97\u6cd5\u7ed3\u675f\uff0c\u8f93\u51fa\u65e0\u89e3\u3002 \u6807\u8bb0\u4e0e \\(r\\) \u76f8\u5173\u7684\u884c \\(r_i\\) \u548c \\(c_i\\) \uff1b \u5220\u9664\u6240\u6709\u6807\u8bb0\u7684\u884c\u548c\u5217\uff0c\u5f97\u5230\u65b0\u77e9\u9635 \\(M'\\) \uff1b \u5982\u679c \\(M'\\) \u4e3a\u7a7a\uff0c\u4e14 \\(r\\) \u4e3a\u5168 \\(1\\) \u7684\uff0c\u5219\u7b97\u6cd5\u7ed3\u675f\uff0c\u8f93\u51fa\u88ab\u5220\u9664\u7684\u884c\u7ec4\u6210\u7684\u96c6\u5408 \\(S\\) \uff1b \u5982\u679c \\(M'\\) \u4e3a\u7a7a\uff0c\u4e14 \\(r\\) \u4e0d\u4e3a\u5168 \\(1\\) \u7684\uff0c\u5219\u6062\u590d\u4e0e \\(r\\) \u76f8\u5173\u7684\u884c \\(r_i\\) \u4ee5\u53ca\u5217 \\(c_i\\) \uff0c\u8df3\u8f6c\u81f3\u6b65\u9aa4 \\(1\\) \uff1b \u5982\u679c \\(M'\\) \u4e0d\u4e3a\u7a7a\uff0c\u5219\u8df3\u8f6c\u81f3\u6b65\u9aa4 \\(1\\) \u3002 \u4e0d\u96be\u770b\u51fa\uff0cX \u7b97\u6cd5\u9700\u8981\u5927\u91cf\u7684\u201c\u5220\u9664\u884c\u201d\u3001\u201c\u5220\u9664\u5217\u201d\u548c\u201c\u6062\u590d\u884c\u201d\u3001\u201c\u6062\u590d\u5217\u201d\u7684\u64cd\u4f5c\u3002 Donald E. Knuth \u60f3\u5230\u4e86\u7528\u53cc\u5411\u5341\u5b57\u94fe\u8868\u6765\u7ef4\u62a4\u8fd9\u4e9b\u64cd\u4f5c\u3002 \u800c\u5728\u53cc\u5411\u5341\u5b57\u94fe\u8868\u4e0a\u4e0d\u65ad\u8df3\u8dc3\u7684\u8fc7\u7a0b\u88ab\u5f62\u8c61\u5730\u6bd4\u55bb\u6210\u201c\u8df3\u8dc3\u201d\uff0c\u56e0\u6b64\u88ab\u7528\u6765\u4f18\u5316 X \u7b97\u6cd5\u7684\u53cc\u5411\u5341\u5b57\u94fe\u8868\u4e5f\u88ab\u79f0\u4e3a\u201cDancing Links\u201d\u3002","title":"X \u7b97\u6cd5"},{"location":"posts/lectures/dlx/#dancing-links-x","text":"","title":"Dancing Links \u4f18\u5316\u7684 X \u7b97\u6cd5"},{"location":"posts/lectures/dlx/#_4","text":"1 #define IT(i, A, x) for (i = A[x]; i != x; i = A[i])","title":"\u9884\u7f16\u8bd1\u547d\u4ee4"},{"location":"posts/lectures/dlx/#_5","text":"\u65e2\u7136\u662f\u53cc\u5411\u5341\u5b57\u94fe\u8868\uff0c\u90a3\u4e48\u4e00\u5b9a\u662f\u6709\u56db\u4e2a\u6307\u9488\u57df\u7684\uff1a\u4e00\u4e2a\u6307\u4e0a\u65b9\u7684\u5143\u7d20\uff0c\u4e00\u4e2a\u6307\u4e0b\u65b9\u7684\u5143\u7d20\uff0c\u4e00\u4e2a\u6307\u5de6\u8fb9\u7684\u5143\u7d20\uff0c\u4e00\u4e2a\u6307\u53f3\u8fb9\u7684\u5143\u7d20\u3002\u800c\u6bcf\u4e2a\u5143\u7d20 \\(i\\) \u5728\u6574\u4e2a\u53cc\u5411\u5341\u5b57\u94fe\u8868\u7cfb\u4e2d\u90fd\u5bf9\u5e94\u7740\u4e00\u4e2a\u683c\u5b50\uff0c\u56e0\u6b64\u8fd8\u8981\u8868\u793a \\(i\\) \u6240\u5728\u7684\u5217\u548c\u6240\u5728\u7684\u8fd9\u6837\uff1a \u662f\u4e0d\u662f\u975e\u5e38\u7b80\u5355\uff1f \u800c\u5176\u5b9e\u5927\u578b\u53cc\u5411\u94fe\u8868\u5176\u5b9e\u662f\u957f\u8fd9\u6837\u7684\uff1a \u6bcf\u4e00\u884c\u90fd\u6709\u4e00\u4e2a\u884c\u9996\u6307\u793a\uff0c\u6bcf\u4e00\u5217\u90fd\u6709\u4e00\u4e2a\u5217\u6307\u793a\u3002 \u884c\u9996\u6307\u793a\u4e3a first[] \uff0c\u5217\u6307\u793a\u662f\u6211\u4eec\u865a\u62df\u51fa\u7684 \\(c + 1\\) \u4e2a\u7ed3\u70b9\u3002 \u540c\u65f6\uff0c\u6bcf\u4e00\u5217\u90fd\u6709\u4e00\u4e2a siz[] \u8868\u793a\u8fd9\u4e00\u5217\u7684\u5143\u7d20\u4e2a\u6570\u3002 \u7279\u6b8a\u5730\uff0c \\(0\\) \u53f7\u7ed3\u70b9\u65e0\u53f3\u7ed3\u70b9\u7b49\u4ef7\u4e8e\u8fd9\u4e2a Dancing Links \u4e3a\u7a7a\u3002 1 2 3 4 static const int MS = 1e5 + 5 ; int n , m , idx , first [ MS ], siz [ MS ]; int L [ MS ], R [ MS ], U [ MS ], D [ MS ]; int col [ MS ], row [ MS ];","title":"\u5b9a\u4e49"},{"location":"posts/lectures/dlx/#remove","text":"\\(\\textrm{remove(c)}\\) \u8868\u793a\u5728 Dancing Links \u4e2d\u5220\u9664\u7b2c \\(c\\) \u5217\u4ee5\u53ca\u4e0e\u5176\u76f8\u5173\u7684\u884c\u548c\u5217\u3002 \u6211\u4eec\u5148\u5c06 \\(c\\) \u5220\u9664\uff0c\u6b64\u65f6\uff1a \\(c\\) \u5de6\u4fa7\u7684\u7ed3\u70b9\u7684\u53f3\u7ed3\u70b9\u5e94\u4e3a \\(c\\) \u7684\u53f3\u7ed3\u70b9\uff1b \\(c\\) \u53f3\u4fa7\u7684\u7ed3\u70b9\u7684\u5de6\u7ed3\u70b9\u5e94\u4e3a \\(c\\) \u7684\u5de6\u7ed3\u70b9\u3002 \u5373 L[R[c]] = L[c], R[L[c]] = R[c]; \u3002 \u7136\u540e\u6211\u4eec\u8981\u987a\u7740\u8fd9\u4e00\u5217\u5f80\u4e0b\u8d70\uff0c\u628a\u8d70\u8fc7\u7684\u6bcf\u4e00\u884c\u90fd\u5220\u6389\u3002 \u5982\u4f55\u5220\u6389\u6bcf\u4e00\u884c\u5462\uff1f\u679a\u4e3e\u5f53\u524d\u884c\u7684\u6307\u9488 \\(j\\) \uff0c\u6b64\u65f6\uff1a \\(j\\) \u4e0a\u65b9\u7684\u7ed3\u70b9\u7684\u4e0b\u7ed3\u70b9\u5e94\u4e3a \\(j\\) \u7684\u4e0b\u7ed3\u70b9\uff1b \\(j\\) \u4e0b\u65b9\u7684\u7ed3\u70b9\u7684\u4e0a\u7ed3\u70b9\u5e94\u4e3a \\(j\\) \u7684\u4e0a\u7ed3\u70b9\u3002 \u6ce8\u610f\u8981\u4fee\u6539\u6bcf\u4e00\u5217\u7684\u5143\u7d20\u4e2a\u6570\u3002 \u5373 U[D[j]] = U[j], D[U[j]] = D[j], --siz[col[j]]; \u3002 \u56e0\u6b64 \\(\\textrm{remove(c)}\\) \u7684\u4ee3\u7801\u5b9e\u73b0\u5c31\u975e\u5e38\u7b80\u5355\u4e86\uff1a \u5176\u4e2d\u7b2c\u4e00\u4e2a IT(i, D, c) \u7b49\u4ef7\u4e8e for(i = D[c]; i != c; i = D[i]) \uff0c\u5373\u5728\u987a\u7740\u8fd9\u4e00\u5217\u4ece\u4e0a\u5f80\u4e0b\u904d\u5386\uff1b \u7b2c\u4e8c\u4e2a IT(j, R, i) \u7b49\u4ef7\u4e8e for(j = R[i]; j != i; j = R[j]) \uff0c\u5373\u5728\u987a\u7740\u8fd9\u4e00\u884c\u4ece\u5de6\u5f80\u53f3\u904d\u5386\u3002 1 2 3 4 5 void remove ( const int & c ) { int i , j ; L [ R [ c ]] = L [ c ], R [ L [ c ]] = R [ c ]; IT ( i , D , c ) IT ( j , R , i ) U [ D [ j ]] = U [ j ], D [ U [ j ]] = D [ j ], -- siz [ col [ j ]]; }","title":"remove \u64cd\u4f5c"},{"location":"posts/lectures/dlx/#recover","text":"\\(\\textrm{recover(c)}\\) \u8868\u793a\u5728 Dancing Links \u4e2d\u8fd8\u539f\u7b2c \\(c\\) \u5217\u4ee5\u53ca\u4e0e\u5176\u76f8\u5173\u7684\u884c\u548c\u5217\u3002 \\(\\textrm{recover(c)}\\) \u5373 \\(\\textrm{remove(c)}\\) \u7684\u9006\u64cd\u4f5c\uff0c\u5728\u8fd9\u91cc\u5c31\u4e0d\u591a\u8d58\u8ff0\u4e86\u3002 \u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c \\(\\textrm{recover(c)}\\) \u7684\u6240\u6709\u64cd\u4f5c\u7684\u987a\u5e8f\u4e0e \\(\\textrm{remove(c)}\\) \u7684\u64cd\u4f5c\u6070\u597d\u76f8\u53cd\u3002 \u5728\u8fd9\u91cc\u7ed9\u51fa \\(\\textrm{recover(c)}\\) \u7684\u4ee3\u7801\u5b9e\u73b0\uff1a 1 2 3 4 5 void recover ( const int & c ) { int i , j ; IT ( i , U , c ) IT ( j , L , i ) U [ D [ j ]] = D [ U [ j ]] = j , ++ siz [ col [ j ]]; L [ R [ c ]] = R [ L [ c ]] = c ; }","title":"recover \u64cd\u4f5c"},{"location":"posts/lectures/dlx/#build","text":"\\(\\textrm{build(r, c)}\\) \u8868\u793a\u65b0\u5efa\u4e00\u4e2a\u5927\u5c0f\u4e3a \\(r \\times c\\) \uff0c\u5373\u6709 \\(r\\) \u884c\uff0c \\(c\\) \u5217\u7684 Dancing Links\u3002 \u6211\u4eec\u65b0\u5efa \\(c + 1\\) \u4e2a\u7ed3\u70b9\uff0c\u4e3a\u5217\u6307\u793a\u3002 \u7b2c \\(i\\) \u4e2a\u70b9\u7684\u5de6\u7ed3\u70b9\u4e3a \\(i - 1\\) \uff0c\u53f3\u7ed3\u70b9\u4e3a \\(i + 1\\) \uff0c\u4e0a\u7ed3\u70b9\u4e3a \\(i\\) \uff0c\u4e0b\u7ed3\u70b9\u4e3a \\(i\\) \u3002 \u7279\u6b8a\u5730\uff0c \\(0\\) \u7ed3\u70b9\u7684\u5de6\u7ed3\u70b9\u4e3a \\(c\\) \uff0c \\(c\\) \u7ed3\u70b9\u7684\u53f3\u7ed3\u70b9\u4e3a \\(0\\) \u3002 \u4e8e\u662f\u6211\u4eec\u5f97\u5230\u4e86\u4e00\u6761\u94fe\uff1a 1 2 3 4 5 6 7 8 9 10 void build ( const int & r , const int & c ) { n = r , m = c ; for ( int i = 0 ; i <= c ; ++ i ) { L [ i ] = i - 1 , R [ i ] = i + 1 ; U [ i ] = D [ i ] = i ; } L [ 0 ] = c , R [ c ] = 0 , idx = c ; memset ( first , 0 , sizeof ( first )); memset ( siz , 0 , sizeof ( siz )); } \u8fd9\u6837\u5c31\u521d\u59cb\u5316\u4e86\u4e00\u4e2a Dancing Links\u3002","title":"build \u64cd\u4f5c"},{"location":"posts/lectures/dlx/#insert","text":"\\(\\textrm{insert(r, c)}\\) \u8868\u793a\u5728\u7b2c \\(r\\) \u884c\uff0c\u7b2c \\(c\\) \u5217\u63d2\u5165\u4e00\u4e2a\u7ed3\u70b9\u3002 \u6211\u4eec\u5206\u4e24\u79cd\u60c5\u51b5\u6765\u64cd\u4f5c\uff1a \u5982\u679c\u7b2c \\(r\\) \u884c\u6ca1\u6709\u5143\u7d20\uff0c\u90a3\u4e48\u76f4\u63a5\u63d2\u5165\u4e00\u4e2a\u5143\u7d20\uff0c\u5e76\u4f7f \\(first(r)\\) \u6307\u5411\u8fd9\u4e2a\u5143\u7d20\uff1b \u5982\u679c\u7b2c \\(r\\) \u884c\u6709\u5143\u7d20\uff0c\u90a3\u4e48\u5c06\u8fd9\u4e2a\u65b0\u5143\u7d20 \u7528\u4e00\u79cd\u5947\u5f02\u7684\u65b9\u5f0f \u4e0e \\(c\\) \u548c \\(first(r)\\) \u8fde\u63a5\u8d77\u6765\u3002 \u5bf9\u4e8e\u60c5\u51b5 1\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 first[r] = L[idx] = R[idx] = idx; \u6765\u5b9e\u73b0\uff1b \u5bf9\u4e8e\u60c5\u51b5 2\uff0c\uff08\u6211\u4eec\u79f0\u8fd9\u4e2a\u65b0\u5143\u7d20\u4e3a \\(idx\\) \uff09\uff1a \u6211\u4eec\u628a \\(idx\\) \u63d2\u5165\u5230 \\(c\\) \u7684\u6b63\u4e0b\u65b9\uff0c\u6b64\u65f6\uff1a \\(idx\\) \u4e0b\u65b9\u7684\u7ed3\u70b9\u4e3a\u539f\u6765 \\(c\\) \u7684\u4e0b\u7ed3\u70b9\uff1b \\(idx\\) \u4e0b\u65b9\u7684\u7ed3\u70b9\uff08\u5373\u539f\u6765 \\(c\\) \u7684\u4e0b\u7ed3\u70b9\uff09\u7684\u4e0a\u7ed3\u70b9\u4e3a \\(idx\\) ; \\(idx\\) \u7684\u4e0a\u7ed3\u70b9\u4e3a \\(c\\) \uff1b \\(c\\) \u7684\u4e0b\u7ed3\u70b9\u4e3a \\(idx\\) \u3002 \u6ce8\u610f\u8bb0\u5f55 \\(idx\\) \u7684\u6240\u5728\u5217\u548c\u6240\u5728\u884c\uff0c\u4ee5\u53ca\u66f4\u65b0\u8fd9\u4e00\u5217\u7684\u5143\u7d20\u4e2a\u6570\u3002 1 2 col [ ++ idx ] = c , row [ idx ] = r , ++ siz [ c ]; U [ idx ] = c , D [ idx ] = D [ c ], U [ D [ c ]] = idx , D [ c ] = idx ; \u5f3a\u70c8\u5efa\u8bae\u8bfb\u8005\u5b8c\u5168\u638c\u63e1\u8fd9\u51e0\u6b65\u7684\u987a\u5e8f\u540e\u518d\u7ee7\u7eed\u9605\u8bfb\u672c\u6587\u3002 \u6211\u4eec\u628a \\(idx\\) \u63d2\u5165\u5230 \\(first(r)\\) \u7684\u6b63\u53f3\u65b9\uff0c\u6b64\u65f6\uff1a \\(idx\\) \u53f3\u4fa7\u7684\u7ed3\u70b9\u4e3a\u539f\u6765 \\(first(r)\\) \u7684\u53f3\u7ed3\u70b9\uff1b \u539f\u6765 \\(first(r)\\) \u53f3\u4fa7\u7684\u7ed3\u70b9\u7684\u5de6\u7ed3\u70b9\u4e3a \\(idx\\) \uff1b \\(idx\\) \u7684\u5de6\u7ed3\u70b9\u4e3a \\(first(r)\\) \uff1b \\(first(r)\\) \u7684\u53f3\u7ed3\u70b9\u4e3a \\(idx\\) \u3002 1 2 L [ idx ] = first [ r ], R [ idx ] = R [ first [ r ]]; R [ first [ r ]] = idx , L [ R [ first [ r ]]] = idx ; \u5f3a\u70c8\u5efa\u8bae\u8bfb\u8005\u5b8c\u5168\u638c\u63e1\u8fd9\u51e0\u6b65\u7684\u987a\u5e8f\u540e\u518d\u7ee7\u7eed\u9605\u8bfb\u672c\u6587\u3002 \u5bf9\u4e8e \\(\\textrm{insert(r, c)}\\) \u8fd9\u4e2a\u64cd\u4f5c\uff0c\u6211\u4eec\u53ef\u4ee5\u753b\u56fe\u6765\u8f85\u52a9\u7406\u89e3\uff1a \u7559\u5fc3\u66f2\u7ebf\u7bad\u5934\u7684\u65b9\u5411\u3002 \u5728\u8fd9\u91cc\u7ed9\u51fa \\(\\textrm{insert(r, c)}\\) \u7684\u4ee3\u7801\uff1a 1 2 3 4 5 6 7 8 9 10 void insert ( const int & r , const int & c ) { row [ ++ idx ] = r , col [ idx ] = c , ++ siz [ c ]; U [ idx ] = D [ idx ] = c , U [ D [ c ]] = idx , D [ c ] = idx ; if ( ! first [ r ]) first [ r ] = L [ idx ] = R [ idx ] = idx ; else { L [ idx ] = first [ r ], R [ idx ] = R [ first [ r ]]; L [ R [ first [ r ]]] = idx , R [ first [ r ]] = idx ; } }","title":"insert \u64cd\u4f5c"},{"location":"posts/lectures/dlx/#dance","text":"\\(\\textrm{dance()}\\) \u5373\u4e3a\u9012\u5f52\u5730\u5220\u9664\u4ee5\u53ca\u8fd8\u539f\u5404\u4e2a\u884c\u5217\u7684\u8fc7\u7a0b\u3002 \u5982\u679c \\(0\\) \u53f7\u7ed3\u70b9\u6ca1\u6709\u53f3\u7ed3\u70b9\uff0c\u90a3\u4e48\u77e9\u9635\u4e3a\u7a7a\uff0c\u8bb0\u5f55\u7b54\u6848\u5e76\u8fd4\u56de\uff1b \u9009\u62e9\u5217\u5143\u7d20\u4e2a\u6570\u6700\u5c11\u7684\u4e00\u5217\uff0c\u5e76\u5220\u6389\u8fd9\u4e00\u5217\uff1b \u904d\u5386\u8fd9\u4e00\u5217\u6240\u6709\u6709 \\(1\\) \u7684\u884c\uff0c\u679a\u4e3e\u5b83\u662f\u5426\u88ab\u9009\u62e9\uff1b \u9012\u5f52\u8c03\u7528 \\(\\textrm{dance()}\\) \uff0c\u5982\u679c\u53ef\u884c\uff0c\u5219\u8fd4\u56de\uff1b\u5982\u679c\u4e0d\u53ef\u884c\uff0c\u5219\u6062\u590d\u88ab\u9009\u62e9\u7684\u884c\uff1b \u5982\u679c\u65e0\u89e3\uff0c\u5219\u8fd4\u56de\uff1b \u5728\u8fd9\u91cc\u7ed9\u51fa \\(\\textrm{dance()}\\) \u7684\u4ee3\u7801\u5b9e\u73b0\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 bool dance ( int dep ) { int i , j , c = R [ 0 ]; if ( ! R [ 0 ]) { ans = dep ; return 1 ; } IT ( i , R , 0 ) if ( siz [ i ] < siz [ c ]) c = i ; remove ( c ); IT ( i , D , c ) { stk [ dep ] = row [ i ]; IT ( j , R , i ) remove ( col [ j ]); if ( dance ( dep + 1 )) return 1 ; IT ( j , L , i ) recover ( col [ j ]); } recover ( c ); return 0 ; } \u5176\u4e2d stk[] \u7528\u6765\u8bb0\u5f55\u7b54\u6848\u3002 \u6ce8\u610f\u6211\u4eec\u6bcf\u6b21\u4f18\u5148\u9009\u62e9\u5217\u5143\u7d20\u4e2a\u6570\u6700\u5c11\u7684\u4e00\u5217\u8fdb\u884c\u5220\u9664\uff0c\u8fd9\u6837\u80fd\u4fdd\u8bc1\u7a0b\u5e8f\u5177\u6709\u4e00\u5b9a\u7684\u542f\u53d1\u6027\uff0c\u4f7f\u641c\u7d22\u6811\u5206\u652f\u6700\u5c11\u3002","title":"dance \u64cd\u4f5c"},{"location":"posts/lectures/dlx/#_6","text":"\u3010\u6a21\u677f\u3011\u821e\u8e48\u94fe\uff08DLX\uff09 \u6a21\u677f\u4ee3\u7801 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 #include <bits/stdc++.h> #define ll long long #define rgi register int #define rgl register ll #define il inline const int N = 500 + 10 ; int n , m , idx , ans ; int first [ N ], siz [ N ], stk [ N ]; struct DLXNODE { int lc , rc , up , dn , r , c ; }; il int read () { rgi x = 0 , f = 0 , ch ; while ( ! isdigit ( ch = getchar ())) f |= ch == '-' ; while ( isdigit ( ch )) x = ( x << 1 ) + ( x << 3 ) + ( ch ^ 48 ), ch = getchar (); return f ? - x : x ; } struct DLX { static const int MAXSIZE = 1e5 + 10 ; #define IT(i, A, x) for (i = A[x]; i != x; i = A[i]) int n , m , tot , first [ MAXSIZE + 10 ], siz [ MAXSIZE + 10 ]; int L [ MAXSIZE + 10 ], R [ MAXSIZE + 10 ], U [ MAXSIZE + 10 ], D [ MAXSIZE + 10 ]; int col [ MAXSIZE + 10 ], row [ MAXSIZE + 10 ]; void build ( const int & r , const int & c ) { n = r , m = c ; for ( rgi i = 0 ; i <= c ; ++ i ) { L [ i ] = i - 1 , R [ i ] = i + 1 ; U [ i ] = D [ i ] = i ; } L [ 0 ] = c , R [ c ] = 0 , tot = c ; memset ( first , 0 , sizeof ( first )); memset ( siz , 0 , sizeof ( siz )); } void insert ( const int & r , const int & c ) { col [ ++ tot ] = c , row [ tot ] = r , ++ siz [ c ]; D [ tot ] = D [ c ], U [ D [ c ]] = tot , U [ tot ] = c , D [ c ] = tot ; if ( ! first [ r ]) first [ r ] = L [ tot ] = R [ tot ] = tot ; else { R [ tot ] = R [ first [ r ]], L [ R [ first [ r ]]] = tot ; L [ tot ] = first [ r ], R [ first [ r ]] = tot ; } } void remove ( const int & c ) { rgi i , j ; L [ R [ c ]] = L [ c ], R [ L [ c ]] = R [ c ]; IT ( i , D , c ) IT ( j , R , i ) U [ D [ j ]] = U [ j ], D [ U [ j ]] = D [ j ], -- siz [ col [ j ]]; } void recover ( const int & c ) { rgi i , j ; IT ( i , U , c ) IT ( j , L , i ) U [ D [ j ]] = D [ U [ j ]] = j , ++ siz [ col [ j ]]; L [ R [ c ]] = R [ L [ c ]] = c ; } bool dance ( int dep ) { if ( ! R [ 0 ]) { ans = dep ; return 1 ; } rgi i , j , c = R [ 0 ]; IT ( i , R , 0 ) if ( siz [ i ] < siz [ c ]) c = i ; remove ( c ); IT ( i , D , c ) { stk [ dep ] = row [ i ]; IT ( j , R , i ) remove ( col [ j ]); if ( dance ( dep + 1 )) return 1 ; IT ( j , L , i ) recover ( col [ j ]); } recover ( c ); return 0 ; } #undef IT } solver ; int main () { n = read (), m = read (); solver . build ( n , m ); for ( rgi i = 1 ; i <= n ; ++ i ) for ( rgi j = 1 ; j <= m ; ++ j ) { int x = read (); if ( x ) solver . insert ( i , j ); } solver . dance ( 1 ); if ( ans ) for ( rgi i = 1 ; i < ans ; ++ i ) printf ( \"%d \" , stk [ i ]); else puts ( \"No Solution!\" ); return 0 ; }","title":"\u6a21\u677f"},{"location":"posts/lectures/dlx/#_7","text":"DLX \u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f \u6307\u6570\u7ea7 \u7684\uff0c\u5b83\u9012\u5f52\u53ca\u56de\u6eaf\u7684\u6b21\u6570\u4e0e\u77e9\u9635\u4e2d \\(1\\) \u7684\u4e2a\u6570\u6709\u5173\uff0c\u4e0e\u77e9\u9635\u7684 \\(r, c\\) \u7b49\u53c2\u6570\u65e0\u5173\u3002 \u56e0\u6b64\u7406\u8bba\u590d\u6742\u5ea6\u5927\u6982\u5728 \\(O(c^n)\\) \u5de6\u53f3\uff0c\u5176\u4e2d \\(c\\) \u4e3a\u67d0\u4e2a\u975e\u5e38\u63a5\u8fd1\u4e8e \\(1\\) \u7684\u5e38\u6570\uff0c \\(n\\) \u4e3a\u77e9\u9635\u4e2d \\(1\\) \u7684\u4e2a\u6570\u3002 \u4f46\u5b9e\u9645\u60c5\u51b5\u4e0b DLX \u8868\u73b0\u826f\u597d\uff0c\u4e00\u822c\u80fd\u89e3\u51b3\u5927\u90e8\u5206\u7684\u95ee\u9898\u3002","title":"\u65f6\u95f4\u590d\u6742\u5ea6\u5206\u6790"},{"location":"posts/lectures/dlx/#_8","text":"DLX \u7684\u96be\u70b9\uff0c\u4e0d\u5168\u5728\u4e8e\u94fe\u8868\u7684\u5efa\u7acb\uff0c\u800c\u5728\u4e8e\u5efa\u6a21\u3002 \u8bf7\u786e\u4fdd\u5df2\u7ecf\u5b8c\u5168\u638c\u63e1 DLX \u6a21\u677f\u540e\u518d\u7ee7\u7eed\u9605\u8bfb\u672c\u6587\u3002 \u6211\u4eec\u6bcf\u62ff\u5230\u4e00\u4e2a\u9898\uff0c\u5e94\u8be5\u8003\u8651\u884c\u548c\u5217\u6240\u8868\u793a\u7684\u610f\u4e49\uff1a \u884c\u8868\u793a \u51b3\u7b56 \uff0c\u56e0\u4e3a\u6bcf\u884c\u5bf9\u5e94\u7740\u4e00\u4e2a\u96c6\u5408\uff0c\u4e5f\u5c31\u5bf9\u5e94\u7740\u9009/\u4e0d\u9009\uff1b \u5217\u8868\u793a \u72b6\u6001 \uff0c\u56e0\u4e3a\u7b2c \\(i\\) \u5217\u5bf9\u5e94\u7740\u67d0\u4e2a\u6761\u4ef6 \\(P_i\\) \u3002 \u5bf9\u4e8e\u67d0\u4e00\u884c\u800c\u8a00\uff0c\u7531\u4e8e\u4e0d\u540c\u7684\u5217\u7684\u503c\u4e0d\u5c3d\u76f8\u540c\uff0c\u6211\u4eec \u7531\u4e0d\u540c\u7684\u72b6\u6001\uff0c\u5b9a\u4e49\u4e86\u4e00\u4e2a\u51b3\u7b56 \u3002","title":"\u5982\u4f55\u5efa\u6a21"},{"location":"posts/lectures/dlx/#_9","text":"\u89e3\u9898\u601d\u8def \u5148\u8003\u8651\u51b3\u7b56\u662f\u4ec0\u4e48\u3002 \u5728\u8fd9\u4e00\u9898\u4e2d\uff0c\u6bcf\u4e00\u4e2a\u51b3\u7b56\u53ef\u4ee5\u7528\u5f62\u5982 \\((r, c, w)\\) \u7684\u6709\u5e8f\u4e09\u5143\u7ec4\u8868\u793a\u3002 \u6ce8\u610f\u5230\u201c\u5bab\u201d\u5e76\u4e0d\u662f\u51b3\u7b56\u7684\u53c2\u6570\uff0c\u56e0\u4e3a\u5b83 \u53ef\u4ee5\u88ab\u6bcf\u4e2a\u786e\u5b9a\u7684 \\((r, c)\\) \u8868\u793a \u3002 \u56e0\u6b64\u6709 \\(9 \\times 9 \\times 9 = 729\\) \u884c\u3002 \u518d\u8003\u8651\u72b6\u6001\u662f\u4ec0\u4e48\u3002 \u6211\u4eec\u601d\u8003\u4e00\u4e0b \\((r, c, w)\\) \u8fd9\u4e2a\u51b3\u5c06\u4f1a\u9020\u6210\u4ec0\u4e48\u5f71\u54cd\u3002\u8bb0 \\((r, c)\\) \u6240\u5728\u7684\u5bab\u4e3a \\(b\\) \u3002 \u7b2c \\(r\\) \u884c\u7528\u4e86\u4e00\u4e2a \\(w\\) \uff08\u7528 \\(9 \\times 9 = 81\\) \u5217\u8868\u793a\uff09\uff1b \u7b2c \\(c\\) \u5217\u7528\u4e86\u4e00\u4e2a \\(w\\) \uff08\u7528 \\(9 \\times 9 = 81\\) \u5217\u8868\u793a\uff09\uff1b \u7b2c \\(b\\) \u5bab\u7528\u4e86\u4e00\u4e2a \\(w\\) \uff08\u7528 \\(9 \\times 9 = 81\\) \u5217\u8868\u793a\uff09\uff1b \\((r, c)\\) \u4e2d\u586b\u5165\u4e86\u4e00\u4e2a\u6570\uff08\u7528 \\(9 \\times 9 = 81\\) \u5217\u8868\u793a\uff09\u3002 \u56e0\u6b64\u6709 \\(81 \\times 4 = 324\\) \u5217\uff0c\u5171 \\(729 \\times 4 = 2916\\) \u4e2a \\(1\\) \u3002 \u81f3\u6b64\uff0c\u6211\u4eec\u6210\u529f\u5730\u5c06 \\(9 \\times 9\\) \u7684\u6570\u72ec\u95ee\u9898\u8f6c\u5316\u6210\u4e86\u4e00\u4e2a **\u6709 \\(729\\) \u884c\uff0c \\(324\\) \u5217\uff0c\u5171 \\(2916\\) \u4e2a \\(1\\) ** \u7684\u7cbe\u786e\u8986\u76d6\u95ee\u9898\u3002 \u53c2\u8003\u4ee3\u7801 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 #include <bits/stdc++.h> #define LL long long #define rgi register int #define il inline const int N = 1e6 + 10 ; #define JUDGE 0 #define DEBUG 0 int ans [ 10 ][ 10 ], stk [ N ]; il int read () { rgi x = 0 , f = 0 , ch ; while ( ! isdigit ( ch = getchar ())) f |= ch == '-' ; while ( isdigit ( ch )) x = ( x << 1 ) + ( x << 3 ) + ( ch ^ 48 ), ch = getchar (); return f ? - x : x ; } struct DLX { static const int MAXSIZE = 1e5 + 10 ; #define IT(i, A, x) for (i = A[x]; i != x; i = A[i]) int n , m , tot , first [ MAXSIZE + 10 ], siz [ MAXSIZE + 10 ]; int L [ MAXSIZE + 10 ], R [ MAXSIZE + 10 ], U [ MAXSIZE + 10 ], D [ MAXSIZE + 10 ]; int col [ MAXSIZE + 10 ], row [ MAXSIZE + 10 ]; void build ( const int & r , const int & c ) { n = r , m = c ; for ( rgi i = 0 ; i <= c ; ++ i ) { L [ i ] = i - 1 , R [ i ] = i + 1 ; U [ i ] = D [ i ] = i ; } L [ 0 ] = c , R [ c ] = 0 , tot = c ; memset ( first , 0 , sizeof ( first )); memset ( siz , 0 , sizeof ( siz )); } void insert ( const int & r , const int & c ) { col [ ++ tot ] = c , row [ tot ] = r , ++ siz [ c ]; D [ tot ] = D [ c ], U [ D [ c ]] = tot , U [ tot ] = c , D [ c ] = tot ; if ( ! first [ r ]) first [ r ] = L [ tot ] = R [ tot ] = tot ; else { R [ tot ] = R [ first [ r ]], L [ R [ first [ r ]]] = tot ; L [ tot ] = first [ r ], R [ first [ r ]] = tot ; } } void remove ( const int & c ) { rgi i , j ; L [ R [ c ]] = L [ c ], R [ L [ c ]] = R [ c ]; IT ( i , D , c ) IT ( j , R , i ) U [ D [ j ]] = U [ j ], D [ U [ j ]] = D [ j ], -- siz [ col [ j ]]; } void recover ( const int & c ) { rgi i , j ; IT ( i , U , c ) IT ( j , L , i ) U [ D [ j ]] = D [ U [ j ]] = j , ++ siz [ col [ j ]]; L [ R [ c ]] = R [ L [ c ]] = c ; } bool dance ( int dep ) { rgi i , j , c = R [ 0 ]; if ( ! R [ 0 ]) { for ( i = 1 ; i < dep ; ++ i ) { int x = ( stk [ i ] - 1 ) / 9 / 9 + 1 ; int y = ( stk [ i ] - 1 ) / 9 % 9 + 1 ; int v = ( stk [ i ] - 1 ) % 9 + 1 ; ans [ x ][ y ] = v ; } return 1 ; } IT ( i , R , 0 ) if ( siz [ i ] < siz [ c ]) c = i ; remove ( c ); IT ( i , D , c ) { stk [ dep ] = row [ i ]; IT ( j , R , i ) remove ( col [ j ]); if ( dance ( dep + 1 )) return 1 ; IT ( j , L , i ) recover ( col [ j ]); } recover ( c ); return 0 ; } } solver ; int GetId ( int row , int col , int num ) { return ( row - 1 ) * 9 * 9 + ( col - 1 ) * 9 + num ; } void Insert ( int row , int col , int num ) { int dx = ( row - 1 ) / 3 + 1 ; int dy = ( col - 1 ) / 3 + 1 ; int room = ( dx - 1 ) * 3 + dy ; int id = GetId ( row , col , num ); int f1 = ( row - 1 ) * 9 + num ; // task 1 int f2 = 81 + ( col - 1 ) * 9 + num ; // task 2 int f3 = 81 * 2 + ( room - 1 ) * 9 + num ; // task 3 int f4 = 81 * 3 + ( row - 1 ) * 9 + col ; // task 4 solver . insert ( id , f1 ); solver . insert ( id , f2 ); solver . insert ( id , f3 ); solver . insert ( id , f4 ); } int main () { #if JUDGE freopen ( \".in\" , \"r\" , stdin ); freopen ( \".out\" , \"w\" , stdout ); #endif solver . build ( 729 , 324 ); for ( rgi i = 1 ; i <= 9 ; ++ i ) for ( rgi j = 1 ; j <= 9 ; ++ j ) { ans [ i ][ j ] = read (); for ( rgi v = 1 ; v <= 9 ; ++ v ) { if ( ans [ i ][ j ] && ans [ i ][ j ] != v ) continue ; Insert ( i , j , v ); } } solver . dance ( 1 ); for ( rgi i = 1 ; i <= 9 ; ++ i , putchar ( '\\n' )) for ( rgi j = 1 ; j <= 9 ; ++ j , putchar ( ' ' )) printf ( \"%d\" , ans [ i ][ j ]); return 0 ; }","title":"\u4f8b\u9898\u4e00 \u6570\u72ec"},{"location":"posts/lectures/dlx/#_10","text":"\u89e3\u9898\u601d\u8def \u8fd9\u4e00\u9898\u4e0e \u6570\u72ec \u7684\u6a21\u578b\u6784\u5efa \u4e00\u6a21\u4e00\u6837 \uff0c\u4e3b\u8981\u533a\u522b\u5728\u4e8e\u7b54\u6848\u7684\u66f4\u65b0\u3002 \u8fd9\u4e00\u9898\u53ef\u4ee5\u5f00\u4e00\u4e2a\u6743\u503c\u6570\u7ec4\uff0c\u6bcf\u6b21\u627e\u5230\u4e00\u7ec4\u6570\u72ec\u7684\u89e3\u65f6\uff0c \u6bcf\u4e2a\u4f4d\u7f6e\u4e0a\u7684\u6570\u4e58\u4e0a\u5bf9\u5e94\u7684\u6743\u503c\u8ba1\u5165\u7b54\u6848\u5373\u53ef\u3002 \u53c2\u8003\u4ee3\u7801 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 #include <bits/stdc++.h> #define LL long long #define il inline const int oo = 0x3f3f3f3f ; const int N = 1e5 + 10 ; const int e [] = { 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 6 , 6 , 7 , 8 , 8 , 8 , 8 , 8 , 7 , 6 , 6 , 7 , 8 , 9 , 9 , 9 , 8 , 7 , 6 , 6 , 7 , 8 , 9 , 10 , 9 , 8 , 7 , 6 , 6 , 7 , 8 , 9 , 9 , 9 , 8 , 7 , 6 , 6 , 7 , 8 , 8 , 8 , 8 , 8 , 7 , 6 , 6 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 , 6 }; int ans = - oo , a [ 10 ][ 10 ], stk [ N ]; il int read () { int x = 0 , f = 0 , ch ; while ( ! isdigit ( ch = getchar ())) f |= ch == '-' ; while ( isdigit ( ch )) x = ( x << 1 ) + ( x << 3 ) + ( ch ^ 48 ), ch = getchar (); return f ? - x : x ; } int GetWeight ( int row , int col , int num ) { return num * e [( row - 1 ) * 9 + ( col - 1 )]; } struct DLX { static const int MAXSIZE = 1e5 + 10 ; #define IT(i, A, x) for (i = A[x]; i != x; i = A[i]) int n , m , tot , first [ MAXSIZE + 10 ], siz [ MAXSIZE + 10 ]; int L [ MAXSIZE + 10 ], R [ MAXSIZE + 10 ], U [ MAXSIZE + 10 ], D [ MAXSIZE + 10 ]; int col [ MAXSIZE + 10 ], row [ MAXSIZE + 10 ]; void build ( const int & r , const int & c ) { n = r , m = c ; for ( int i = 0 ; i <= c ; ++ i ) { L [ i ] = i - 1 , R [ i ] = i + 1 ; U [ i ] = D [ i ] = i ; } L [ 0 ] = c , R [ c ] = 0 , tot = c ; memset ( first , 0 , sizeof ( first )); memset ( siz , 0 , sizeof ( siz )); } void insert ( const int & r , const int & c ) { col [ ++ tot ] = c , row [ tot ] = r , ++ siz [ c ]; D [ tot ] = D [ c ], U [ D [ c ]] = tot , U [ tot ] = c , D [ c ] = tot ; if ( ! first [ r ]) first [ r ] = L [ tot ] = R [ tot ] = tot ; else { R [ tot ] = R [ first [ r ]], L [ R [ first [ r ]]] = tot ; L [ tot ] = first [ r ], R [ first [ r ]] = tot ; } } void remove ( const int & c ) { int i , j ; L [ R [ c ]] = L [ c ], R [ L [ c ]] = R [ c ]; IT ( i , D , c ) IT ( j , R , i ) U [ D [ j ]] = U [ j ], D [ U [ j ]] = D [ j ], -- siz [ col [ j ]]; } void recover ( const int & c ) { int i , j ; IT ( i , U , c ) IT ( j , L , i ) U [ D [ j ]] = D [ U [ j ]] = j , ++ siz [ col [ j ]]; L [ R [ c ]] = R [ L [ c ]] = c ; } void dance ( int dep ) { int i , j , c = R [ 0 ]; if ( ! R [ 0 ]) { int cur_ans = 0 ; for ( i = 1 ; i < dep ; ++ i ) { int cur_row = ( stk [ i ] - 1 ) / 9 / 9 + 1 ; int cur_col = ( stk [ i ] - 1 ) / 9 % 9 + 1 ; int cur_num = ( stk [ i ] - 1 ) % 9 + 1 ; cur_ans += GetWeight ( cur_row , cur_col , cur_num ); } ans = std :: max ( ans , cur_ans ); return ; } IT ( i , R , 0 ) if ( siz [ i ] < siz [ c ]) c = i ; remove ( c ); IT ( i , D , c ) { stk [ dep ] = row [ i ]; IT ( j , R , i ) remove ( col [ j ]); dance ( dep + 1 ); IT ( j , L , i ) recover ( col [ j ]); } recover ( c ); } } solver ; int GetId ( int row , int col , int num ) { return ( row - 1 ) * 9 * 9 + ( col - 1 ) * 9 + num ; } void Insert ( int row , int col , int num ) { int dx = ( row - 1 ) / 3 + 1 ; // r int dy = ( col - 1 ) / 3 + 1 ; // c int room = ( dx - 1 ) * 3 + dy ; // room int id = GetId ( row , col , num ); int f1 = ( row - 1 ) * 9 + num ; // task 1 int f2 = 81 + ( col - 1 ) * 9 + num ; // task 2 int f3 = 81 * 2 + ( room - 1 ) * 9 + num ; // task 3 int f4 = 81 * 3 + ( row - 1 ) * 9 + col ; // task 4 solver . insert ( id , f1 ); solver . insert ( id , f2 ); solver . insert ( id , f3 ); solver . insert ( id , f4 ); } int main () { solver . build ( 729 , 324 ); for ( int i = 1 ; i <= 9 ; ++ i ) for ( int j = 1 ; j <= 9 ; ++ j ) { a [ i ][ j ] = read (); for ( int v = 1 ; v <= 9 ; ++ v ) { if ( a [ i ][ j ] && v != a [ i ][ j ]) continue ; Insert ( i , j , v ); } } solver . dance ( 1 ); printf ( \"%d\" , ans == - oo ? - 1 : ans ); return 0 ; }","title":"\u4f8b\u9898\u4e8c \u9776\u5f62\u6570\u72ec"},{"location":"posts/lectures/dlx/#noi2005","text":"\u89e3\u9898\u601d\u8def \u5b9a\u4e49\uff1a\u9898\u4e2d\u7ed9\u6211\u4eec\u7684\u667a\u6167\u73e0\u7684\u5f62\u6001\uff0c\u79f0\u4e3a\u8fd9\u4e2a\u667a\u6167\u73e0\u7684 \u6807\u51c6\u5f62\u6001 \u3002 \u663e\u7136\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u6539\u53d8\u4e24\u4e2a\u53c2\u6570 \\(d\\) \uff08\u8868\u793a\u987a\u65f6\u9488\u65cb\u8f6c \\(90^{\\circ}\\) \u7684\u6b21\u6570\uff09\u548c \\(f\\) \uff08\u662f\u5426\u6c34\u5e73\u7ffb\u8f6c\uff09\u6765\u6539\u53d8\u8fd9\u4e2a\u667a\u6167\u73e0\u7684\u5f62\u6001\u3002 \u4ecd\u7136\uff0c\u6211\u4eec\u5148\u8003\u8651\u51b3\u7b56\u662f\u4ec0\u4e48\u3002 \u5728\u8fd9\u4e00\u9898\u4e2d\uff0c\u6bcf\u4e00\u4e2a\u51b3\u7b56\u53ef\u4ee5\u7528\u5f62\u5982 \\((v, d, f, i)\\) \u7684\u6709\u5e8f\u4e94\u5143\u7ec4\u8868\u793a\u3002 \u8868\u793a\u7b2c \\(i\\) \u4e2a\u667a\u6167\u73e0\u7684*\u6807\u51c6\u5f62\u6001*\u7684\u5de6\u4e0a\u89d2\u7684\u4f4d\u7f6e\uff0c\u5e8f\u53f7\u4e3a \\(v\\) \uff0c\u7ecf\u8fc7\u4e86 \\(d\\) \u6b21\u987a\u65f6\u9488\u8f6c \\(90^{\\circ}\\) \u3002 \u5de7\u5408\u7684\u662f\uff0c\u6211\u4eec\u53ef\u4ee5\u4ee4 \\(f = 1\\) \u65f6\u4e0d\u6c34\u5e73\u7ffb\u8f6c\uff0c \\(f = -1\\) \u65f6\u6c34\u5e73\u7ffb\u8f6c\uff0c\u4ece\u800c\u8fbe\u5230\u7b80\u5316\u4ee3\u7801\u7684\u76ee\u7684\u3002 \u56e0\u6b64\u6709 \\(55 \\times 4 \\times 2 \\times 12 = 5280\\) \u884c\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u56e0\u4e3a\u4e00\u4e9b\u4e0d\u5408\u6cd5\u7684\u586b\u5145\uff0c\u5982 \\((1, 0, 1, 4)\\) \uff0c \u6240\u4ee5 \u5728\u5b9e\u9645\u64cd\u4f5c\u4e2d\uff0c\u7a7a\u7684\u667a\u6167\u73e0\u68cb\u76d8\u4e5f\u53ea\u9700\u8981\u5efa\u51fa \\(2730\\) \u884c\u3002 \u518d\u8003\u8651\u72b6\u6001\u662f\u4ec0\u4e48\u3002 \u8fd9\u4e00\u9898\u7684\u72b6\u6001\u6bd4\u8f83\u7b80\u5355\u3002 \u6211\u4eec\u601d\u8003\u4e00\u4e0b\uff0c \\((v, d, f, i)\\) \u8fd9\u4e2a\u51b3\u7b56\u4f1a\u9020\u6210\u4ec0\u4e48\u5f71\u54cd\u3002 \u67d0\u4e9b\u683c\u5b50\u88ab\u5360\u4e86\uff08\u7528 \\(55\\) \u5217\u8868\u793a\uff09\uff1b \u7b2c \\(i\\) \u4e2a\u667a\u6167\u73e0\u88ab\u7528\u4e86\uff08\u7528 \\(12\\) \u5217\u8868\u793a\uff09\u3002 \u56e0\u6b64\u6709 \\(55 + 12 = 67\\) \u5217\uff0c\u5171 \\(5280 \\times (5 + 1) = 31680\\) \u4e2a \\(1\\) \u3002 \u81f3\u6b64\uff0c\u6211\u4eec\u6210\u529f\u5730\u5c06\u667a\u6167\u73e0\u6e38\u620f\u8f6c\u5316\u6210\u4e86\u4e00\u4e2a **\u6709 \\(5280\\) \u884c\uff0c \\(67\\) \u5217\uff0c\u5171 \\(31680\\) \u4e2a \\(1\\) ** \u7684\u7cbe\u786e\u8986\u76d6\u95ee\u9898\u3002 \u53c2\u8003\u4ee3\u7801 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 #include <bits/stdc++.h> #define LL long long int numcol , numrow ; int dfn [ 3000 ], tx [ 2 ], nxt [ 2 ], num [ 50 ][ 50 ], vis [ 50 ]; char ans [ 50 ][ 50 ]; const int f [ 2 ] = { - 1 , 1 }; const int table [ 12 ][ 5 ][ 2 ] = { // directions of shapes {{ 0 , 0 }, { 1 , 0 }, { 0 , 1 }}, // A {{ 0 , 0 }, { 0 , 1 }, { 0 , 2 }, { 0 , 3 }}, // B {{ 0 , 0 }, { 1 , 0 }, { 0 , 1 }, { 0 , 2 }}, // C {{ 0 , 0 }, { 1 , 0 }, { 0 , 1 }, { 1 , 1 }}, // D {{ 0 , 0 }, { 1 , 0 }, { 2 , 0 }, { 2 , 1 }, { 2 , 2 }}, // E {{ 0 , 0 }, { 0 , 1 }, { 1 , 1 }, { 0 , 2 }, { 0 , 3 }}, // F {{ 0 , 0 }, { 1 , 0 }, { 0 , 1 }, { 0 , 2 }, { 1 , 2 }}, // G {{ 0 , 0 }, { 1 , 0 }, { 0 , 1 }, { 1 , 1 }, { 0 , 2 }}, // H {{ 0 , 0 }, { 0 , 1 }, { 0 , 2 }, { 1 , 2 }, { 1 , 3 }}, // I {{ 0 , 0 }, { - 1 , 1 }, { 0 , 1 }, { 1 , 1 }, { 0 , 2 }}, // J {{ 0 , 0 }, { 1 , 0 }, { 1 , 1 }, { 2 , 1 }, { 2 , 2 }}, // K {{ 0 , 0 }, { 1 , 0 }, { 0 , 1 }, { 0 , 2 }, { 0 , 3 }}, // L }; const int len [ 12 ] = { 3 , 4 , 4 , 4 , 5 , 5 , 5 , 5 , 5 , 5 , 5 , 5 }; const int getx [] = { 0 , 1 , 2 , 2 , 3 , 3 , 3 , 4 , 4 , 4 , 4 , 5 , 5 , 5 , 5 , 5 , 6 , 6 , 6 , 6 , 6 , 6 , 7 , 7 , 7 , 7 , 7 , 7 , 7 , 8 , 8 , 8 , 8 , 8 , 8 , 8 , 8 , 9 , 9 , 9 , 9 , 9 , 9 , 9 , 9 , 9 , 10 , 10 , 10 , 10 , 10 , 10 , 10 , 10 , 10 , 10 , 11 , 11 , 11 , 11 , 11 , 11 , 11 , 11 , 11 , 11 , 11 , 12 , 12 , 12 , 12 , 12 , 12 , 12 , 12 , 12 , 12 , 12 , 12 , 13 , 13 , 13 , 13 , 13 , 13 , 13 , 13 , 13 , 13 , 13 , 13 , 13 , 14 , 14 , 14 , 14 , 14 , 14 , 14 , 14 , 14 }; const int gety [] = { 0 , 1 , 1 , 2 , 1 , 2 , 3 , 1 , 2 , 3 , 4 , 1 , 2 , 3 , 4 , 5 , 1 , 2 , 3 , 4 , 5 , 6 , 1 , 2 , 3 , 4 , 5 , 6 , 7 , 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 , 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 , 11 , 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 , 11 , 12 , 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 , 10 , 11 , 12 , 13 , 1 , 2 , 3 , 4 , 5 , 6 , 7 , 8 , 9 }; struct DLX { static const int MS = 1e5 + 10 ; #define IT(i, A, x) for (i = A[x]; i != x; i = A[i]) int n , m , tot , first [ MS ], siz [ MS ]; int L [ MS ], R [ MS ], U [ MS ], D [ MS ]; int col [ MS ], row [ MS ]; void build ( const int & r , const int & c ) { n = r , m = c ; for ( rgi i = 0 ; i <= c ; ++ i ) { L [ i ] = i - 1 , R [ i ] = i + 1 ; U [ i ] = D [ i ] = i ; } L [ 0 ] = c , R [ c ] = 0 , tot = c ; memset ( first , 0 , sizeof ( first )); memset ( siz , 0 , sizeof ( siz )); } void insert ( const int & r , const int & c ) { col [ ++ tot ] = c , row [ tot ] = r , ++ siz [ c ]; D [ tot ] = D [ c ], U [ D [ c ]] = tot , U [ tot ] = c , D [ c ] = tot ; if ( ! first [ r ]) first [ r ] = L [ tot ] = R [ tot ] = tot ; else R [ tot ] = R [ first [ r ]], L [ R [ first [ r ]]] = tot , L [ tot ] = first [ r ], R [ first [ r ]] = tot ; // ! } void remove ( const int & c ) { rgi i , j ; L [ R [ c ]] = L [ c ], R [ L [ c ]] = R [ c ]; IT ( i , D , c ) IT ( j , R , i ) U [ D [ j ]] = U [ j ], D [ U [ j ]] = D [ j ], -- siz [ col [ j ]]; } void recover ( const int & c ) { rgi i , j ; IT ( i , U , c ) IT ( j , L , i ) U [ D [ j ]] = D [ U [ j ]] = j , ++ siz [ col [ j ]]; L [ R [ c ]] = R [ L [ c ]] = c ; } bool dance () { if ( ! R [ 0 ]) return 1 ; rgi i , j , c = R [ 0 ]; IT ( i , R , 0 ) if ( siz [ i ] < siz [ c ]) c = i ; remove ( c ); IT ( i , D , c ) { if ( col [ i ] <= 55 ) ans [ getx [ col [ i ]]][ gety [ col [ i ]]] = dfn [ row [ i ]] + 'A' ; IT ( j , R , i ) { remove ( col [ j ]); if ( col [ j ] <= 55 ) ans [ getx [ col [ j ]]][ gety [ col [ j ]]] = dfn [ row [ j ]] + 'A' ; } if ( dance ()) return 1 ; IT ( j , L , i ) recover ( col [ j ]); } recover ( c ); return 0 ; } #undef IT } solver ; int main () { for ( rgi i = 1 ; i <= 10 ; ++ i ) scanf ( \"%s\" , ans [ i ] + 1 ); for ( rgi i = 1 ; i <= 10 ; ++ i ) for ( rgi j = 1 ; j <= i ; ++ j ) { if ( ans [ i ][ j ] != '.' ) vis [ ans [ i ][ j ] - 'A' ] = 1 ; num [ i ][ j ] = ++ numcol ; } solver . build ( 2730 , numcol + 12 ); /*******build*******/ for ( rgi id = 0 , op ; id < 12 ; ++ id ) { // every block for ( ++ numcol , op = 0 ; op <= 1 ; ++ op ) { for ( rgi dx = 0 ; dx <= 1 ; ++ dx ) { for ( rgi dy = 0 ; dy <= 1 ; ++ dy ) { for ( tx [ 0 ] = 1 ; tx [ 0 ] <= 10 ; ++ tx [ 0 ]) { for ( tx [ 1 ] = 1 ; tx [ 1 ] <= tx [ 0 ]; ++ tx [ 1 ]) { bool flag = 1 ; for ( rgi k = 0 ; k < len [ id ]; ++ k ) { nxt [ op ] = tx [ op ] + f [ dx ] * table [ id ][ k ][ 0 ]; nxt [ op ^ 1 ] = tx [ op ^ 1 ] + f [ dy ] * table [ id ][ k ][ 1 ]; if ( vis [ id ]) { if ( ans [ nxt [ 0 ]][ nxt [ 1 ]] != id + 'A' ) { flag = 0 ; break ; } } else if ( ans [ nxt [ 0 ]][ nxt [ 1 ]] != '.' ) { flag = 0 ; break ; } } if ( ! flag ) continue ; dfn [ ++ numrow ] = id ; solver . insert ( numrow , numcol ); for ( rgi k = 0 ; k < len [ id ]; ++ k ) { nxt [ op ] = tx [ op ] + f [ dx ] * table [ id ][ k ][ 0 ]; nxt [ op ^ 1 ] = tx [ op ^ 1 ] + f [ dy ] * table [ id ][ k ][ 1 ]; solver . insert ( numrow , num [ nxt [ 0 ]][ nxt [ 1 ]]); } } } } } } } /********end********/ if ( ! solver . dance ()) puts ( \"No solution\" ); else for ( rgi i = 1 ; i <= 10 ; ++ i , puts ( \"\" )) for ( rgi j = 1 ; j <= i ; ++ j ) putchar ( ans [ i ][ j ]); return 0 ; }","title":"\u4f8b\u9898\u4e09 \u300cNOI2005\u300d\u667a\u6167\u73e0\u6e38\u620f"},{"location":"posts/lectures/dlx/#_11","text":"SUDOKU - Sudoku \u300ckuangbin \u5e26\u4f60\u98de\u300d\u4e13\u9898\u4e09 Dancing Links","title":"\u7ec3\u4e60"},{"location":"posts/lectures/dlx/#_12","text":"DLX \u80fd\u7528\u6765\u89e3\u51b3\u7cbe\u786e\u8986\u76d6\u95ee\u9898\uff0c\u9002\u5f53\u5730\u5efa\u7acb\u8d77\u6a21\u578b\u540e\u80fd\u89e3\u51b3\u4e00\u4e9b\u641c\u7d22\u9898\u3002","title":"\u603b\u7ed3"},{"location":"posts/lectures/dlx/#references","text":"[1]\u82f1\u96c4\u54ea\u91cc\u51fa\u6765 \u7684 \u300a\u591c\u6df1\u4eba\u9759\u5199\u7b97\u6cd5\uff08\u4e5d\uff09- Dancing Links X\uff08\u8df3\u821e\u94fe\uff09\u300b [2]\u4e07\u4ed3\u4e00\u9ecd \u7684 \u300a\u8df3\u8dc3\u7684\u821e\u8005\uff0c\u821e\u8e48\u94fe\uff08Dancing Links\uff09\u7b97\u6cd5\u2014\u2014\u6c42\u89e3\u7cbe\u786e\u8986\u76d6\u95ee\u9898\u300b [3]zhangjianjunab \u7684 \u300aDLX \u7b97\u6cd5\u4e00\u89c8\u300b [4]\u9759\u542c\u98ce\u541f\u3002\u7684 \u300a\u641c\u7d22\uff1aDLX \u7b97\u6cd5\u300b [5]\u5218\u6c5d\u4f73\uff0c\u9648\u950b \u7684 \u300a\u7b97\u6cd5\u7ade\u8d5b\u5165\u95e8\u7ecf\u5178-\u8bad\u7ec3\u6307\u5357\u300b","title":"References"},{"location":"posts/lectures/eertree/","text":"","title":"\u56de\u6587\u6811"},{"location":"posts/lectures/kmp/","text":"\u53d1\u73b0\u81ea\u5df1\u4e0d\u4f1a KMP \u7684\u6a21\u677f\u4e86\uff0c\u501f\u6b64\u673a\u4f1a\u590d\u4e60\u4e00\u4e0b KMP\uff0c\u987a\u4fbf\u66f4\u6df1\u5165\u5730\u7814\u7a76\u524d\u7f00\u51fd\u6570 \\(\\pi\\) \u7684\u5e94\u7528\u3002 \u5199\u5728\u524d\u9762 \u00b6 \u4e3a\u4e86\u66f4\u65b9\u4fbf\u5730\u63cf\u8ff0\u5b57\u7b26\u4e32\u76f8\u5173\u5185\u5bb9\uff0c\u6211\u4eec\u505a\u51fa\u4ee5\u4e0b\u89c4\u5b9a\uff1a \u5b57\u7b26\u4e32\u901a\u5e38\u7528 \\(S, T\\) \u7b49\u8868\u793a\uff0c \\(c\\) \u901a\u5e38\u8868\u793a\u4e00\u4e2a\u5b57\u7b26\uff0c \\(\\Sigma\\) \u8868\u793a\u5b57\u7b26\u96c6\uff1b \u5b57\u7b26\u4e32\u957f\u5ea6\u7528 \\(\\left|S\\right|\\) \u8868\u793a\uff1b \u5b57\u7b26\u96c6\u5927\u5c0f\u7528 \\(\\left|\\Sigma\\right|\\) \u8868\u793a\uff1b \\(S[l..r]\\) \u8868\u793a \\(S[l], S[l + 1], \\ldots, S[r - 1], S[r]\\) \uff1b \u7a7a\u4e32\u7528 \\(\\epsilon\\) \u8868\u793a\uff1b \\(S\\) \u662f \\(T\\) \u7684\u524d\u7f00\uff0c\u7528 \\(S \\sqsubset T\\) \u8868\u793a\uff1b \\(S\\) \u662f \\(T\\) \u7684\u540e\u7f00\uff0c\u7528 \\(S \\sqsupset T\\) \u8868\u793a\uff1b \\(S\\) \u7684\u7b2c \\(i\\) \u4e2a\u524d\u7f00\uff0c\u5373 \\(S[1..i]\\) \uff0c\u7528 \\(S_i\\) \u8868\u793a\u3002 \u7279\u6b8a\u5730\uff0c\u672c\u6587\u7684\u5b57\u7b26\u4e32\u4e0b\u6807\u3001 \\(\\pi\\) \u6570\u7ec4\u4e0b\u6807 \u5747\u4ece \\(1\\) \u5f00\u59cb \u3002 \u4e00\u4e9b\u5b57\u7b26\u4e32\u6709\u5173\u672f\u8bed\u7684\u4f8b\u5b50 \u5bf9\u4e8e \\(S = \\mathtt{ABCBAD}\\) \u800c\u8a00\uff1a \\(\\left|S\\right| = 6\\) \uff1b \\(\\left|\\Sigma\\right| = 4\\) \uff1b \\(S[2..4] = \\mathtt{BCBA}\\) \uff1b \\(S_4 = \\mathtt{ABCB}\\) \u3002 \u524d\u7f00\u51fd\u6570\u6570\u7ec4 \u00b6 \u5b9a\u4e49 \u00b6 \u5bf9\u4e8e\u4e00\u4e2a\u5b57\u7b26\u4e32 \\(S\\) \uff0c\u6211\u4eec\u5b9a\u4e49\u5176\u524d\u7f00\u51fd\u6570 \\(\\pi(S)\\) \u7684\u503c\u4e3a \\(S\\) \u7684\u6700\u957f\u76f8\u7b49\u7684\u771f\u524d\u7f00\u548c\u771f\u540e\u7f00\u7684\u957f\u5ea6\uff0c\u5373\uff1a $$ \\begin{aligned} \\pi(S) & = \\mathop{\\operatorname{argmax}}\\limits_{k < \\left|S\\right|}\\{S[1..k] = S[\\left|S\\right| - k + 1..\\left|S\\right|]\\} \\\\ & = \\mathop{\\operatorname{argmax}}\\limits_{k < \\left|S\\right|}\\{S_k \\sqsupset S\\} \\end{aligned} $$ \u5bf9\u4e8e\u4e00\u4e2a\u5b57\u7b26\u4e32 \\(S\\) \uff0c\u6211\u4eec\u5b9a\u4e49\u5176\u524d\u7f00\u51fd\u6570\u6570\u7ec4 \\(\\pi\\) \u4e3a \\(\\pi[i] = \\pi(S_i)\\) \u3002 \\(\\pi[1]\\) \u7b49\u4e8e\u2026\u2026\uff1f \u7279\u6b8a\u5730\uff0c\u5f53 \\(\\left|S\\right| = 1\\) \u65f6 \\(\\pi(S) = \\mathop{\\operatorname{argmax}}\\limits_{k < 1}\\\\{S[1..k] = S[2 - k..1]\\\\}\\) \u6b64\u65f6\u6709 \\(k = 0\\) \u6ee1\u8db3 \\(S[1..0] = S[2..1] = \\epsilon\\) \uff0c\u6545 \\(\\left|S\\right| = 1 \\Longrightarrow \\pi(S) = 0\\) \u3002 \u6027\u8d28 1 \\(\\pi(S_i) = \\pi[i] < i\\) \u3002 \u8bc1\u660e \u7531\u5b9a\u4e49\u77e5 \\(\\pi[i] < i\\) \uff0c\u5373\u5f97\u8bc1\u3002 \u7b97\u6cd5\u6d41\u7a0b \u00b6 \u6839\u636e\u5b9a\u4e49\uff0c \\(\\pi[1] = 0\\) \uff1b \u5047\u8bbe\u6211\u4eec\u5faa\u73af\u5230\u4e86\u8981\u6c42 \\(\\pi[i]\\quad(i \\ge 2)\\) \uff0c\u4ee4 \\(k \\gets \\pi[i - 1]\\) \u3002 \u7531 \\(\\pi\\) \u6570\u7ec4\u7684\u5b9a\u4e49\u5f97\uff0c\u6b64\u65f6 \\(S[1..k] = S[i - k, i - 1]\\) \u3002 \u6211\u4eec\u73b0\u5728\u8981\u505a\u7684\uff0c\u5c31\u662f\u4ece \\(\\pi[1..i - 1]\\) \u9012\u63a8\u5230 \\(\\pi[i]\\) \uff1a \u8003\u8651\u5230 \\(\\pi\\) \u6570\u7ec4\u7684\u5b9a\u4e49\uff0c\u6211\u4eec\u4e0d\u65ad\u5730\u679a\u4e3e\u5171\u540c\u7684\u524d\u540e\u7f00\uff08\u5373\u4f7f\u7528 \\(k = \\pi[k]\\) \u6765\u8fed\u4ee3\uff09\u3002 \u7ed3\u675f\u8fd9\u4e2a\u8fed\u4ee3\uff0c\u6709\u4e14\u4ec5\u6709\u4e24\u79cd\u60c5\u51b5\uff1a \\(k = 0\\) \u6216 \\(S[k + 1] = S[i]\\) \u3002 \u5bf9\u4e8e\u524d\u8005\uff0c\u8bf4\u660e\u5bf9\u4e8e\u5b57\u7b26\u4e32 \\(S[1..i]\\) \uff0c\u4e0d\u5b58\u5728\u4efb\u4f55\u4e24\u4e2a\u771f\u524d\u7f00\u4e0e\u771f\u540e\u7f00\u76f8\u540c\uff0c \\(\\pi[i] = 0\\) \u3002 \u5bf9\u4e8e\u540e\u8005\uff0c\u8bf4\u660e\u6211\u4eec\u627e\u5230\u4e86\u4e00\u4e2a \\(k\\) \uff0c\u4f7f\u5f97 \\(S[1..k + 1] = S[i - k..i]\\) \uff0c\u6839\u636e\u5b9a\u4e49\uff0c\u6709 \\(\\pi[i] = k + 1\\) \u3002 \u81f3\u6b64\uff0c\u6211\u4eec\u6c42\u51fa\u4e86\u5b57\u7b26\u4e32 \\(S\\) \u7684\u524d\u7f00\u51fd\u6570\u6570\u7ec4 \\(\\pi\\) \u3002 \u4ee3\u7801\u5b9e\u73b0 \u00b6 1 2 3 4 5 6 7 8 9 10 11 12 #include <bits/stdc++.h> void calcPi ( char * S ) { pi [ 1 ] = 0 ; int len = strlen ( S + 1 ); for ( int i = 2 , k = 0 ; i <= len ; ++ i ) { while ( k > 0 && S [ k + 1 ] != S [ i ]) k = pi [ k ]; if ( S [ k + 1 ] == S [ i ]) ++ k ; pi [ i ] = k ; } } \u6b63\u786e\u6027 \u00b6 \u5f15\u7406 1\uff08\u540e\u7f00\u91cd\u53e0\u5f15\u7406\uff09 \u5bf9\u4e8e \\(x, y\\) \u6ee1\u8db3 \\(x \\sqsupset z, y \\sqsupset z\\) \u800c\u8a00\uff0c\u6709\uff1a \u82e5 \\(\\left|x\\right| \\le \\left|y\\right|\\) \uff0c\u5219 \\(x \\sqsupset y\\) \uff1b \u82e5 \\(\\left|x\\right| \\ge \\left|y\\right|\\) \uff0c\u5219 \\(y \\sqsupset x\\) \uff1b \u82e5 \\(\\left|x\\right| = \\left|y\\right|\\) \uff0c\u5219 \\(x = y\\) \u3002 \u8bc1\u660e \u8fc7\u4e8e\u663e\u7136\uff0c\u8bc1\u660e\u7565\u3002 \u8bbe $$ \\pi^{\\star}[q] = \\{\\pi[q], \\pi^{(2)}[q], \\cdots, \\pi^{(t)}[q]\\} $$ \u5176\u4e2d $$ \\pi^{(i)}[q] = \\begin{cases}q & i = 0 \\\\ \\pi[\\pi^{(i - 1)}[q]] & i \\ge 1\\end{cases} $$ \u5f53 \\(\\pi^{(t)}[q] = 0\\) \u65f6 \\(\\pi^{\\star}[q]\\) \u4e2d\u7684\u5e8f\u5217\u7ec8\u6b62\u3002 \u5f15\u7406 2\uff08\u524d\u7f00\u51fd\u6570\u8fed\u4ee3\u5f15\u7406\uff09 \u5bf9\u4efb\u610f\u957f\u5ea6\u4e3a \\(n\\) \u7684\u5b57\u7b26\u4e32 \\(S\\) \uff0c\u6709 $$ \\forall q \\in [1, n], \\pi^{\\star}[q] = \\{k: k < q \\land S_k \\sqsupset S_q\\} $$ \u8bc1\u660e \u5148\u8bc1\u660e \\(\\pi^{\\star}[q] \\subseteq \\\\{k:k < q \\land S_k \\sqsupset S_q\\\\}\\) \uff0c \u5373\u8bc1\u660e \\(\\forall x \\in \\pi^{\\star}[q], x < q \\land S_x \\sqsupset S_q\\) \u3002 \u4efb\u53d6 \\(x \\in \\pi^{\\star}[q]\\) \uff0c\u4e0d\u59a8\u8bbe \\(x = \\pi^{u}[q] \\quad (u > 0)\\) \uff0c\u4e0b\u9762\u901a\u8fc7\u5bf9 \\(u\\) \u7684\u6570\u5b66\u5f52\u7eb3\u6cd5\u8bc1\u660e\u547d\u9898\u6210\u7acb\u3002 \uff08\u57fa\u7840\uff09\u5f53 \\(u = 1\\) \u65f6\uff0c \\(x = \\pi[q]\\) \uff0c\u7531 \\(\\pi\\) \u6570\u7ec4\u7684\u5b9a\u4e49\u53ef\u77e5 \\(\\pi[q] < q \\land S_{\\pi[q]} \\sqsupset S_q\\) \u3002 \uff08\u5047\u8bbe\uff09\u5047\u8bbe\u5f53 \\(u = v\\) \u65f6 \\(\\pi^{v}[q] < q \\land S_{\\pi^{v}[q]} \\sqsupset S_q\\) \u3002 \uff08\u63a8\u5bfc\uff09\u5219\u5f53 \\(u = v + 1\\) \u65f6\uff0c \\(\\pi^{v + 1}[q] = \\pi[\\pi^{v}[q]] < \\pi^{v}[q] < q\\) \uff08\u6027\u8d28 1\uff09\uff1b \\(S_{\\pi^{v + 1}[q]} \\sqsupset S_{\\pi^{v}[q]} \\sqsupset S_q\\) \uff08\u7531\u6027\u8d28 1 \u5f97\u5230\u4e0b\u6807\u7684\u5927\u5c0f\u5173\u7cfb\uff0c\u7531\u5f15\u7406 1 \u5f97\u5230\u524d\u7f00\u4e4b\u95f4\u7684\u5173\u7cfb\uff09 \u56e0\u6b64 \\(\\forall x \\in \\pi^{\\star}[q], x < q \\land S_x \\sqsupset S_q\\) \u3002 \u518d\u8bc1\u660e \\(\\\\{k:k < q \\land S_k \\sqsupset S_q\\\\} \\subseteq \\pi^{\\star}[q]\\) \uff0c \u5373\u8bc1\u660e \\(\\forall x \\in \\\\{k:k < q \\land S_x \\sqsupset S_q\\\\}, x \\in\\pi^{\\star}[q]\\) \u8003\u8651\u4f7f\u7528\u53cd\u8bc1\u6cd5\u6765\u8bc1\u660e\u547d\u9898\u6210\u7acb\u3002 \u5047\u8bbe\u96c6\u5408 \\(M = \\\\{k:k < q \\land S_k \\sqsupset S_q\\\\} - \\pi^{\\star}[q]\\) \u975e\u7a7a\uff0c \\(j\\) \u662f \\(M\\) \u4e2d\u7684\u6700\u5927\u503c\u3002 \\(\\because\\) \\(\\pi[q]\\) \u662f \\(\\\\{k:k < q \\land S_x \\sqsupset S_q\\\\}\\) \u4e2d\u7684\u6700\u5927\u503c\uff0c\u4e14 \\(j \\in \\\\{k:k < q \\land S_x \\sqsupset S_q\\\\}\\) \\(\\therefore j < \\pi[q], S_j \\sqsupset S_q\\) \u53c8 \\(\\because \\pi[q] \\in \\pi^{\\star}[q]\\) \\(\\therefore \\exists j' \\in \\pi^{\\star}[q], \\text{s.t. }j' > j\\) \u8bbe \\(j'\\) \u8868\u793a \\(\\pi^{\\star}[q]\\) \u4e2d\u6bd4 \\(j\\) \u5927\u7684\u6700\u5c0f\u6574\u6570\u3002 \\(\\because \\\\{k:k < q \\land S_k \\sqsupset S_q\\\\} \\subseteq \\pi^{\\star}[q]\\) \u4e14 \\(j' \\in \\pi^{\\star}[q]\\) \\(\\therefore S_{j'} \\sqsupset S_q\\) \\(\\because j' > j\\) \u4e14 \\(j\\) \u662f\u5c0f\u4e8e \\(j'\\) \u7684\u6700\u5927\u503c \\(\\therefore S_j \\sqsupset S_{j'}\\) \uff08\u5f15\u7406 1\uff09 \u7531 \\(\\pi\\) \u6570\u7ec4\u7684\u5b9a\u4e49\u77e5 \\(\\pi[j'] = j\\) \\(\\because j' \\in \\pi^{\\star}[q]\\) \\(\\therefore j = \\pi[j'] \\in \\pi^{\\star}[q]\\) \uff0c\u4e0e\u5047\u8bbe\u77db\u76fe \u56e0\u6b64 \\(\\\\{k:k < q \\land S_k \\sqsupset S_q\\\\} \\subseteq \\pi^{\\star}[q]\\) \u3002 \u7efc\u4e0a\u6240\u8ff0\uff0c\u5bf9\u4efb\u610f\u957f\u5ea6\u4e3a \\(n\\) \u7684\u5b57\u7b26\u4e32 \\(S\\) \uff0c\u6709 \\(\\forall q \\in [1, n], \\pi^{\\star}[q] = \\\\{k: k < q \\land S_k \\sqsupset S_q\\\\}\\) \u3002 \u5f15\u7406 3 \u5bf9\u4efb\u610f\u957f\u5ea6\u4e3a \\(n\\) \u7684\u5b57\u7b26\u4e32 \\(S\\) \uff0c\u6709 \\(\\forall q \\in [1, n]\\) \uff0c\u82e5 \\(\\pi[q] > 0\\) \uff0c\u5219 \\(\\pi[q] - 1 \\in \\pi^{\\star}[q - 1]\\) \u3002 \u8bc1\u660e \u4ee4 \\(x = \\pi[q] > 0\\) \uff0c\u5219 \\(x < q, S_x \\sqsupset S_q\\) \\(\\because x > 0\\) \uff0c\u5219 \\(x - 1\\) \u6709\u610f\u4e49 \\(\\therefore x - 1 < q - 1, S_{x - 1} \\sqsupset S_{q - 1}\\) \uff08\u628a \\(S_x\\) \u548c \\(S_q\\) \u7684\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u53bb\u6389\uff09 \u7531\u5f15\u7406 2 \u77e5 \\(x - 1 \\in \\pi^{\\star}[q - 1]\\) \\(\\therefore \\forall q \\in [1, n] \\land \\pi[q] > 0,\\pi[q] - 1 \\in \\pi^{\\star}[q - 1]\\) \u5bf9 \\(q \\in [2, n]\\) \u5b9a\u4e49\u5b50\u96c6 \\(E_{q - i} \\subseteq \\pi^{\\star}[q - 1]\\) \u4e3a\uff1a $$ E_{q - 1} = \\{k\\in\\pi^{\\star}[q - 1]:S_{k + 1} = S_k\\} $$ \u5219\u6709\uff1a $$ \\begin{aligned} E_{q - 1} & = \\{k\\in\\pi^{\\star}[q - 1]:S_{k + 1} = S_k\\} \\\\ & = \\{k: k < q - 1, S_k \\sqsupset S_{q - 1}, S[k + 1] = S[q]\\} \\\\ & = \\{k: k < q - 1, S_{k + 1} \\sqsupset S_q\\} \\end{aligned} $$ \u56e0\u6b64\uff0c \\(E_{q - 1}\\) \u662f\u7531 \\(\\pi^{\\star}[q - 1]\\) \u4e2d\u7684\u503c\u7ec4\u6210\u7684\u3001\u80fd\u6ee1\u8db3 \\(S_{k + 1}\\) \u4e0e \\(S_q\\) \u7684\u67d0\u4e2a\u540e\u7f00\u76f8\u7b49\u7684 \\(k\\) \u7ec4\u6210\u7684\u96c6\u5408\u3002 \u63a8\u8bba 1 \u8bc1\u660e \u5f53 \\(E_{q - 1} = \\varnothing\\) \u65f6\uff0c\u4e0d\u5b58\u5728\u4efb\u4f55\u4e00\u4e2a \\(k \\in \\pi^{\\star}[q - 1]\\) \uff0c\u4f7f\u5f97 \\(S_{k + 1} \\sqsupset S_q\\) \u3002 \u663e\u7136\u6b64\u65f6 \\(\\pi[q]\\) \u53ea\u80fd\u4e3a \\(0\\) \u3002 \u5f53 \\(E_{q - 1} \\neq \\varnothing\\) \u65f6\uff0c \\(\\forall k \\in E_{q - 1}, k < q - 1 \\land S_{k + 1} \\sqsupset S_q \\Longrightarrow k + 1 < q\\) \u5219\u7531 \\(\\pi[q]\\) \u7684\u5b9a\u4e49\uff0c \\(k\\) \u662f\u62d3\u5c55\u5230 \\(S_q\\) \u7684\u67d0\u4e00\u540e\u7f00\u7684\u5907\u9009\u9879\uff0c \\(\\pi[q] \\ge 1 + \\max\\\\{k \\in E_{q - 1}\\\\}\\) \u3002 \u6ce8\u610f\u5230\u6b64\u65f6 \\(\\pi[q] > 0\\) \uff0c\u8bbe \\(r = \\pi[q] - 1\\) \u3002 \u5219 \\(r + 1 = \\pi[q] < q, S_{r + 1} = S_{\\pi[q]} \\sqsupset S_q\\) \u3002 \\(\\because r + 1 > 0\\) \\(\\therefore S_{r + 1} = S_q\\) \u7531\u5f15\u7406 3 \u53ef\u5f97 \\(r = \\pi[q] - 1 \\in \\pi^{\\star}[q - 1]\\) \\(\\therefore r \\in E_{q - 1}\\) \\(\\therefore \\pi[q] - 1 = r \\le \\max\\\\{k \\in E_{q - 1}\\\\}\\) \u5373 \\(\\pi[q] \\le 1 + \\max\\\\{k \\in E_{q - 1}\\\\}\\) \u7efc\u4e0a\u6240\u8ff0\uff0c\u5f53 \\(E_{q - 1} \\neq \\varnothing\\) \uff0c \\(\\pi[q] = 1 + \\max\\\\{k \\in E_{q - 1}\\\\}\\) \u3002 \u518d\u770b\u4e00\u6b21\u4ee3\u7801\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 #include <bits/stdc++.h> void calcPi ( char * S ) { pi [ 1 ] = 0 ; int len = strlen ( S + 1 ); for ( int i = 2 , k = 0 ; i <= len ; ++ i ) { while ( k > 0 && S [ k + 1 ] != S [ i ]) k = pi [ k ]; if ( S [ k + 1 ] == S [ i ]) ++ k ; pi [ i ] = k ; } } \u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u4f7f\u7528\u5faa\u73af\u4e0d\u53d8\u5f0f\u6765\u8bc1\u660e\u4e0a\u8ff0\u4ee3\u7801\u7684\u6b63\u786e\u6027\u3002 \u8bc1\u660e \u521d\u59cb\u5316 \u5728\u7b2c 4 \u884c\u7684\u8fed\u4ee3\u5f00\u59cb\u524d\uff0c\u6709 \\(i = 1, k = \\pi[i] = 0\\) \uff0c\u4e0d\u53d8\u5f0f\u6210\u7acb\u3002 \u4fdd\u6301 \u5728\u6bcf\u6b21\u8fed\u4ee3\u5f00\u59cb\u524d\uff0c\u6709 \\(k = \\pi[i - 1]\\) \uff1a \u82e5\u662f\u7b2c\u4e00\u6b21\u8fed\u4ee3\uff0c\u6b64\u7b49\u5f0f\u7531\u7b2c 4 \u884c\u4fdd\u8bc1\uff1b \u5176\u4f59\u8fed\u4ee3\u5747\u7531\u7b2c 9 \u884c\u4fdd\u8bc1\u3002 \u63a5\u4e0b\u6765\u8981\u8bc1\u660e\u6bcf\u6b21\u8fed\u4ee3\u7ed3\u675f\u540e\u5747\u6709 \\(k = \\pi[i]\\) \u6210\u7acb\u3002 \u82e5 \\(k \\neq \\pi[i]\\) \uff0c\u5219\u4f1a\u5728\u7b2c 5-8 \u884c\u5c06 \\(k\\) \u8c03\u6574\u81f3 \\(\\pi[i]\\) \u3002 \u7b2c 5 \u884c\u7684 while \u5faa\u73af\u904d\u5386\u6bcf\u4e00\u4e2a \\(k \\in \\pi^{\\star}[i - 1]\\) \uff0c\u76f4\u81f3\u627e\u5230\u4e00\u4e2a \\(k\\) \uff0c\u4f7f\u5f97 \\(S[k + 1] = S[i]\\) \u3002\uff08\u5f15\u7406 2\uff09 \u82e5\u627e\u4e0d\u5230\u8fd9\u6837\u7684\u503c\uff0c\u5219\u5728\u7b2c 7 \u884c \\(k = 0\\) \u3002 \u82e5\u627e\u5230\u4e86\u8fd9\u6837\u7684\u503c\uff0c\u6b64\u65f6 \\(k\\) \u4e3a\u6ee1\u8db3\u6761\u4ef6\u7684\u96c6\u5408\u4e2d\u7684\u6700\u5927\u503c\uff0c\u5e94\u5c06 \\(\\pi[i] \\gets k + 1\\) \u3002\uff08\u63a8\u8bba 1\uff09 \u7b2c 9 \u884c\u7684\u8d4b\u503c\u8bed\u53e5\u4f7f\u5f97 \\(k = \\pi[i]\\) \u6052\u6210\u7acb\u3002 \u7ec8\u6b62 \u5f53 \\(i = n + 1\\) \u65f6\uff0c\u8fed\u4ee3\u7ec8\u6b62\uff0c\u6b64\u65f6\u6211\u4eec\u6c42\u51fa\u4e86 \\(\\pi[1..n]\\) \u3002 \u81f3\u6b64\uff0c\u7b97\u6cd5\u7ed3\u675f\u3002 \u56e0\u6b64\uff0c\u4e0a\u8ff0\u4ee3\u7801\u5b9e\u73b0\u80fd\u6b63\u786e\u5730\u6c42\u51fa\u5b57\u7b26\u4e32 \\(S\\) \u7684\u524d\u7f00\u51fd\u6570\u6570\u7ec4\u3002 \u65f6\u95f4\u590d\u6742\u5ea6 \u00b6 \u4e0d\u96be\u53d1\u73b0\uff0c\u7b2c 7-9 \u884c\u4ee3\u7801\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5747\u4e3a \\(O(n)\\) \uff0c\u552f\u4e00\u68d8\u624b\u7684\u662f\u7b2c 6-7 \u884c\u4ee3\u7801\u3002 \u8003\u8651 \\(k\\) \u7684\u53d8\u5316\uff0c \\(k\\) \u5728\u7b2c 7-8 \u884c\u589e\u52a0\u7684\u6b21\u6570\u4e0d\u8d85\u8fc7 \\(n\\) \u6b21\uff0c\u5373 \\(k \\le n\\) \uff1b \\(k\\) \u5728\u7b2c 6 \u884c\u7684\u64cd\u4f5c\u4e2d\uff0c\u56e0\u4e3a\u6709 \\(\\pi(S_i) < i\\) \u7684\u6027\u8d28\uff0c\u5bfc\u81f4\u6bcf\u6b21\u8fed\u4ee3\u81f3\u5c11\u4f7f \\(k\\) \u51cf\u5c0f \\(1\\) \uff0c\u5373\u6700\u591a\u8fed\u4ee3 \\(n\\) \u6b21\u3002 \u7efc\u4e0a\u6240\u8ff0\uff0c\u7528\u4e0a\u8ff0\u65b9\u6cd5\u6c42\u4e00\u4e2a\u5b57\u7b26\u4e32\u7684\u524d\u7f00\u51fd\u6570\u6570\u7ec4\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(n)\\) \u3002 \u7a7a\u95f4\u590d\u6742\u5ea6 \u00b6 \u6613\u77e5\u7528\u6b64\u79cd\u65b9\u6cd5\u6c42\u524d\u7f00\u51fd\u6570\u6570\u7ec4\u7684\u7a7a\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(n)\\) \u3002 KMP \u7b97\u6cd5 \u00b6 \u7b97\u6cd5\u6d41\u7a0b \u00b6 \u6211\u4eec\u4e3e\u4e00\u4e2a\u4f8b\u5b50\uff1a\u7528 \\(S = \\mathtt{CCFCCFMONEY}\\) \u88ab \\(T = \\mathtt{CCFCCFSB}\\) \u5339\u914d\u3002 \u6211\u4eec\u5b9a\u4e49\u4e24\u4e2a\u6307\u9488 \\(i,k\\) \uff0c\u8868\u793a \\(S[i - k..i - 1] = T[1..k]\\) \u3002 \u6211\u4eec\u8981\u62d3\u5c55\u7684\uff0c\u5c31\u662f \\(S[i]\\) \u4e0e \\(T[k + 1]\\) \u4e4b\u95f4\u7684\u5173\u7cfb\u3002 \u9996\u5148\u6211\u4eec\u8003\u8651\u6734\u7d20\u7b97\u6cd5\u7684\u5f0a\u7aef\uff1a\u5f53\u4f60\u5339\u914d\u5230\u4e86 \\(i = 8, k = 7\\) \u65f6\uff1a $$ \\begin{aligned} S & = \\mathtt{\\color{green}CCFXCCF\\color{red}M\\color{black}ONEY} \\\\ T & = \\mathtt{\\color{green}CCFXCCF\\color{red}S\\color{black}B} \\\\ \\text{index} & =\\mathtt{123456789} \\end{aligned} $$ \u4f60\u53d1\u73b0 \\(S[i] = S[8] = \\mathtt{M}\\) \uff0c\u53ef \\(T[k + 1] = T[8] = \\mathtt{S}\\) \uff0c\u6211\u4eec\u524d\u529f\u5c3d\u5f03\uff0c\u53ea\u80fd\u5c06 \\(T\\) \u5f80\u53f3\u5e73\u79fb\u4e00\u683c\u3002 \u800c\u4e14\u8981\u91cd\u65b0\u5f00\u59cb\uff1a \\(i = 1, k = 1\\) \u3002 $$ \\begin{aligned} S & = \\mathtt{CCFXCCFMONEY} \\\\ T & = \\mathtt{\\text{ }CCFXCCFSB} \\\\ \\text{index} & =\\mathtt{123456789} \\end{aligned} $$ \u663e\u7136\u6734\u7d20\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(nm)\\) \u3002 \u518d\u8003\u8651\u4f7f\u7528\u524d\u7f00\u51fd\u6570 \\(\\pi\\) \u6765\u4f18\u5316\u5339\u914d\u7684\u8fc7\u7a0b\u3002 \u4e0d\u96be\u6c42\u51fa \\(T\\) \u7684\u524d\u7f00\u6570\u7ec4 \\(\\pi[1..n] = \\\\{0, 1, 0, 0, 1, 2, 3, 0, 0\\\\}\\) \u3002 \u8003\u8651\u524d\u7f00\u6570\u7ec4\u7684\u610f\u4e49\uff1a \\(T_i\\) \u7684\u6700\u957f\u7684\u76f8\u7b49\u7684\u524d\u540e\u7f00\u957f\u5ea6\u3002 \u4f60\u77e5\u9053\u4e86\u5f53 \\(i = 8, k = 7\\) \u65f6\uff0c\u6709 \\(S[1..7] = T[1..7]\\) \uff0c\u800c\u4e14 \\(T[1..3] = T[5..7]\\) \u3002 \u5728\u4e0a\u8ff0\u7684\u4f8b\u5b50\u4e2d\uff0c\u4e5f\u5c31\u662f\u6211\u4eec\u53ef\u4ee5\u628a \\(T[1..3]\\) \u8fd9\u4e2a\u5730\u65b9\u5339\u914d\u5230\u7684 \\(\\mathtt{\\color{green}CCF}\\) \u79fb\u52a8\u5230 \\(S[5..8]\\) \u53bb\u3002 \u8fd9\u6837\u5c31\u76f4\u63a5\u8282\u7701\u4e86\u4e09\u6b21\u79fb\u52a8\u3002 \u603b\u7ed3\u4e00\u4e0b\u4f7f\u7528\u524d\u7f00\u51fd\u6570 \\(\\pi\\) \u65f6\u6211\u4eec\u7684\u5339\u914d\u8fc7\u7a0b\uff1a \u4f7f\u7528 \\(i, k\\) \u6765\u8868\u793a\u5f53\u524d \\(S[i - k..i - 1] = T[1..k]\\) \uff1b \u5982\u679c \\(S[i] \\neq T[k + 1]\\) \uff0c\u6211\u4eec\u5c31\u7528 \\(\\pi\\) \u51fd\u6570\u6765\u5b9e\u73b0\u5927\u5e45\u5ea6\u7684\u8df3\u8dc3\uff1b \u5426\u5219 \\(k' \\gets k + 1\\) \uff0c\u8868\u793a \\(S[i - k..i] = T[1..k + 1]\\) \uff1b \u5f53 \\(k = m\\) \u65f6\uff0c\u8bf4\u660e\u627e\u5230\u4e86\u4e00\u4e2a\u5339\u914d \\(S[i - m + 1..i] = T[1..m]\\) \u3002 \u4ee3\u7801\u5b9e\u73b0 \u00b6 1 2 3 4 5 6 7 8 9 10 11 12 13 #include <bits/stdc++.h> void KMP ( char * S , char * T ) { for ( int i = 1 , k = 0 ; i <= n ; ++ i ) { while ( k > 0 && T [ k + 1 ] != S [ i ]) k = pi [ k ]; if ( T [ k + 1 ] == S [ i ]) ++ k ; if ( k == m ) { printf ( \"%d \\n \" , i - m + 1 ); // S[i - m + 1..i] = T[1..m] k = pi [ k ]; } } } \u6b63\u786e\u6027 \u00b6 \u53ef\u4ee5\u8bc1\u660e\uff0c\u4e0a\u8ff0\u4ee3\u7801\u5b9e\u73b0\u662f\u6b63\u786e\u7684\u3002 \u65f6\u95f4\u590d\u6742\u5ea6 \u00b6 \u4f9d\u846b\u82a6\u753b\u74e2\u5730\u4f7f\u7528\u6c42\u524d\u7f00\u51fd\u6570\u6570\u7ec4\u65f6\u7684\u644a\u8fd8\u5206\u6790\u65b9\u6cd5\uff0c\u4e0d\u96be\u5f97\u51fa KMP \u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(n + m)\\) \u3002 \u7a7a\u95f4\u590d\u6742\u5ea6 \u00b6 \u4e0d\u96be\u53d1\u73b0 KMP \u7b97\u6cd5\u7684\u7a7a\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(n + m)\\) \u3002 \u4f8b\u9898 \u00b6 \u300cNOI2014\u300d\u52a8\u7269\u56ed \u300cPOJ 1961\u300dPeriod \u300cCF1200E\u300dCompress Words \u300cPOI2006\u300dOKR-Periods of Words \u5199\u5728\u6700\u540e \u00b6 KMP Reflect upon yourself before you judge others. \u611f\u89c9\u524d\u7f00\u51fd\u6570\u7684\u6027\u8d28\u975e\u5e38\u4f18\u79c0\uff0c\u53ef\u4ee5\u6709\u500d\u589e next \u6570\u7ec4\u4e4b\u7c7b\u7684\u795e\u5947\u64cd\u4f5c\u6765\u8279\u6807\u7b97\u3002\uff08\u5927\u96fe","title":"\u524d\u7f00\u51fd\u6570\u4e0e KMP \u7b97\u6cd5"},{"location":"posts/lectures/kmp/#_1","text":"\u4e3a\u4e86\u66f4\u65b9\u4fbf\u5730\u63cf\u8ff0\u5b57\u7b26\u4e32\u76f8\u5173\u5185\u5bb9\uff0c\u6211\u4eec\u505a\u51fa\u4ee5\u4e0b\u89c4\u5b9a\uff1a \u5b57\u7b26\u4e32\u901a\u5e38\u7528 \\(S, T\\) \u7b49\u8868\u793a\uff0c \\(c\\) \u901a\u5e38\u8868\u793a\u4e00\u4e2a\u5b57\u7b26\uff0c \\(\\Sigma\\) \u8868\u793a\u5b57\u7b26\u96c6\uff1b \u5b57\u7b26\u4e32\u957f\u5ea6\u7528 \\(\\left|S\\right|\\) \u8868\u793a\uff1b \u5b57\u7b26\u96c6\u5927\u5c0f\u7528 \\(\\left|\\Sigma\\right|\\) \u8868\u793a\uff1b \\(S[l..r]\\) \u8868\u793a \\(S[l], S[l + 1], \\ldots, S[r - 1], S[r]\\) \uff1b \u7a7a\u4e32\u7528 \\(\\epsilon\\) \u8868\u793a\uff1b \\(S\\) \u662f \\(T\\) \u7684\u524d\u7f00\uff0c\u7528 \\(S \\sqsubset T\\) \u8868\u793a\uff1b \\(S\\) \u662f \\(T\\) \u7684\u540e\u7f00\uff0c\u7528 \\(S \\sqsupset T\\) \u8868\u793a\uff1b \\(S\\) \u7684\u7b2c \\(i\\) \u4e2a\u524d\u7f00\uff0c\u5373 \\(S[1..i]\\) \uff0c\u7528 \\(S_i\\) \u8868\u793a\u3002 \u7279\u6b8a\u5730\uff0c\u672c\u6587\u7684\u5b57\u7b26\u4e32\u4e0b\u6807\u3001 \\(\\pi\\) \u6570\u7ec4\u4e0b\u6807 \u5747\u4ece \\(1\\) \u5f00\u59cb \u3002 \u4e00\u4e9b\u5b57\u7b26\u4e32\u6709\u5173\u672f\u8bed\u7684\u4f8b\u5b50 \u5bf9\u4e8e \\(S = \\mathtt{ABCBAD}\\) \u800c\u8a00\uff1a \\(\\left|S\\right| = 6\\) \uff1b \\(\\left|\\Sigma\\right| = 4\\) \uff1b \\(S[2..4] = \\mathtt{BCBA}\\) \uff1b \\(S_4 = \\mathtt{ABCB}\\) \u3002","title":"\u5199\u5728\u524d\u9762"},{"location":"posts/lectures/kmp/#_2","text":"","title":"\u524d\u7f00\u51fd\u6570\u6570\u7ec4"},{"location":"posts/lectures/kmp/#_3","text":"\u5bf9\u4e8e\u4e00\u4e2a\u5b57\u7b26\u4e32 \\(S\\) \uff0c\u6211\u4eec\u5b9a\u4e49\u5176\u524d\u7f00\u51fd\u6570 \\(\\pi(S)\\) \u7684\u503c\u4e3a \\(S\\) \u7684\u6700\u957f\u76f8\u7b49\u7684\u771f\u524d\u7f00\u548c\u771f\u540e\u7f00\u7684\u957f\u5ea6\uff0c\u5373\uff1a $$ \\begin{aligned} \\pi(S) & = \\mathop{\\operatorname{argmax}}\\limits_{k < \\left|S\\right|}\\{S[1..k] = S[\\left|S\\right| - k + 1..\\left|S\\right|]\\} \\\\ & = \\mathop{\\operatorname{argmax}}\\limits_{k < \\left|S\\right|}\\{S_k \\sqsupset S\\} \\end{aligned} $$ \u5bf9\u4e8e\u4e00\u4e2a\u5b57\u7b26\u4e32 \\(S\\) \uff0c\u6211\u4eec\u5b9a\u4e49\u5176\u524d\u7f00\u51fd\u6570\u6570\u7ec4 \\(\\pi\\) \u4e3a \\(\\pi[i] = \\pi(S_i)\\) \u3002 \\(\\pi[1]\\) \u7b49\u4e8e\u2026\u2026\uff1f \u7279\u6b8a\u5730\uff0c\u5f53 \\(\\left|S\\right| = 1\\) \u65f6 \\(\\pi(S) = \\mathop{\\operatorname{argmax}}\\limits_{k < 1}\\\\{S[1..k] = S[2 - k..1]\\\\}\\) \u6b64\u65f6\u6709 \\(k = 0\\) \u6ee1\u8db3 \\(S[1..0] = S[2..1] = \\epsilon\\) \uff0c\u6545 \\(\\left|S\\right| = 1 \\Longrightarrow \\pi(S) = 0\\) \u3002 \u6027\u8d28 1 \\(\\pi(S_i) = \\pi[i] < i\\) \u3002 \u8bc1\u660e \u7531\u5b9a\u4e49\u77e5 \\(\\pi[i] < i\\) \uff0c\u5373\u5f97\u8bc1\u3002","title":"\u5b9a\u4e49"},{"location":"posts/lectures/kmp/#_4","text":"\u6839\u636e\u5b9a\u4e49\uff0c \\(\\pi[1] = 0\\) \uff1b \u5047\u8bbe\u6211\u4eec\u5faa\u73af\u5230\u4e86\u8981\u6c42 \\(\\pi[i]\\quad(i \\ge 2)\\) \uff0c\u4ee4 \\(k \\gets \\pi[i - 1]\\) \u3002 \u7531 \\(\\pi\\) \u6570\u7ec4\u7684\u5b9a\u4e49\u5f97\uff0c\u6b64\u65f6 \\(S[1..k] = S[i - k, i - 1]\\) \u3002 \u6211\u4eec\u73b0\u5728\u8981\u505a\u7684\uff0c\u5c31\u662f\u4ece \\(\\pi[1..i - 1]\\) \u9012\u63a8\u5230 \\(\\pi[i]\\) \uff1a \u8003\u8651\u5230 \\(\\pi\\) \u6570\u7ec4\u7684\u5b9a\u4e49\uff0c\u6211\u4eec\u4e0d\u65ad\u5730\u679a\u4e3e\u5171\u540c\u7684\u524d\u540e\u7f00\uff08\u5373\u4f7f\u7528 \\(k = \\pi[k]\\) \u6765\u8fed\u4ee3\uff09\u3002 \u7ed3\u675f\u8fd9\u4e2a\u8fed\u4ee3\uff0c\u6709\u4e14\u4ec5\u6709\u4e24\u79cd\u60c5\u51b5\uff1a \\(k = 0\\) \u6216 \\(S[k + 1] = S[i]\\) \u3002 \u5bf9\u4e8e\u524d\u8005\uff0c\u8bf4\u660e\u5bf9\u4e8e\u5b57\u7b26\u4e32 \\(S[1..i]\\) \uff0c\u4e0d\u5b58\u5728\u4efb\u4f55\u4e24\u4e2a\u771f\u524d\u7f00\u4e0e\u771f\u540e\u7f00\u76f8\u540c\uff0c \\(\\pi[i] = 0\\) \u3002 \u5bf9\u4e8e\u540e\u8005\uff0c\u8bf4\u660e\u6211\u4eec\u627e\u5230\u4e86\u4e00\u4e2a \\(k\\) \uff0c\u4f7f\u5f97 \\(S[1..k + 1] = S[i - k..i]\\) \uff0c\u6839\u636e\u5b9a\u4e49\uff0c\u6709 \\(\\pi[i] = k + 1\\) \u3002 \u81f3\u6b64\uff0c\u6211\u4eec\u6c42\u51fa\u4e86\u5b57\u7b26\u4e32 \\(S\\) \u7684\u524d\u7f00\u51fd\u6570\u6570\u7ec4 \\(\\pi\\) \u3002","title":"\u7b97\u6cd5\u6d41\u7a0b"},{"location":"posts/lectures/kmp/#_5","text":"1 2 3 4 5 6 7 8 9 10 11 12 #include <bits/stdc++.h> void calcPi ( char * S ) { pi [ 1 ] = 0 ; int len = strlen ( S + 1 ); for ( int i = 2 , k = 0 ; i <= len ; ++ i ) { while ( k > 0 && S [ k + 1 ] != S [ i ]) k = pi [ k ]; if ( S [ k + 1 ] == S [ i ]) ++ k ; pi [ i ] = k ; } }","title":"\u4ee3\u7801\u5b9e\u73b0"},{"location":"posts/lectures/kmp/#_6","text":"\u5f15\u7406 1\uff08\u540e\u7f00\u91cd\u53e0\u5f15\u7406\uff09 \u5bf9\u4e8e \\(x, y\\) \u6ee1\u8db3 \\(x \\sqsupset z, y \\sqsupset z\\) \u800c\u8a00\uff0c\u6709\uff1a \u82e5 \\(\\left|x\\right| \\le \\left|y\\right|\\) \uff0c\u5219 \\(x \\sqsupset y\\) \uff1b \u82e5 \\(\\left|x\\right| \\ge \\left|y\\right|\\) \uff0c\u5219 \\(y \\sqsupset x\\) \uff1b \u82e5 \\(\\left|x\\right| = \\left|y\\right|\\) \uff0c\u5219 \\(x = y\\) \u3002 \u8bc1\u660e \u8fc7\u4e8e\u663e\u7136\uff0c\u8bc1\u660e\u7565\u3002 \u8bbe $$ \\pi^{\\star}[q] = \\{\\pi[q], \\pi^{(2)}[q], \\cdots, \\pi^{(t)}[q]\\} $$ \u5176\u4e2d $$ \\pi^{(i)}[q] = \\begin{cases}q & i = 0 \\\\ \\pi[\\pi^{(i - 1)}[q]] & i \\ge 1\\end{cases} $$ \u5f53 \\(\\pi^{(t)}[q] = 0\\) \u65f6 \\(\\pi^{\\star}[q]\\) \u4e2d\u7684\u5e8f\u5217\u7ec8\u6b62\u3002 \u5f15\u7406 2\uff08\u524d\u7f00\u51fd\u6570\u8fed\u4ee3\u5f15\u7406\uff09 \u5bf9\u4efb\u610f\u957f\u5ea6\u4e3a \\(n\\) \u7684\u5b57\u7b26\u4e32 \\(S\\) \uff0c\u6709 $$ \\forall q \\in [1, n], \\pi^{\\star}[q] = \\{k: k < q \\land S_k \\sqsupset S_q\\} $$ \u8bc1\u660e \u5148\u8bc1\u660e \\(\\pi^{\\star}[q] \\subseteq \\\\{k:k < q \\land S_k \\sqsupset S_q\\\\}\\) \uff0c \u5373\u8bc1\u660e \\(\\forall x \\in \\pi^{\\star}[q], x < q \\land S_x \\sqsupset S_q\\) \u3002 \u4efb\u53d6 \\(x \\in \\pi^{\\star}[q]\\) \uff0c\u4e0d\u59a8\u8bbe \\(x = \\pi^{u}[q] \\quad (u > 0)\\) \uff0c\u4e0b\u9762\u901a\u8fc7\u5bf9 \\(u\\) \u7684\u6570\u5b66\u5f52\u7eb3\u6cd5\u8bc1\u660e\u547d\u9898\u6210\u7acb\u3002 \uff08\u57fa\u7840\uff09\u5f53 \\(u = 1\\) \u65f6\uff0c \\(x = \\pi[q]\\) \uff0c\u7531 \\(\\pi\\) \u6570\u7ec4\u7684\u5b9a\u4e49\u53ef\u77e5 \\(\\pi[q] < q \\land S_{\\pi[q]} \\sqsupset S_q\\) \u3002 \uff08\u5047\u8bbe\uff09\u5047\u8bbe\u5f53 \\(u = v\\) \u65f6 \\(\\pi^{v}[q] < q \\land S_{\\pi^{v}[q]} \\sqsupset S_q\\) \u3002 \uff08\u63a8\u5bfc\uff09\u5219\u5f53 \\(u = v + 1\\) \u65f6\uff0c \\(\\pi^{v + 1}[q] = \\pi[\\pi^{v}[q]] < \\pi^{v}[q] < q\\) \uff08\u6027\u8d28 1\uff09\uff1b \\(S_{\\pi^{v + 1}[q]} \\sqsupset S_{\\pi^{v}[q]} \\sqsupset S_q\\) \uff08\u7531\u6027\u8d28 1 \u5f97\u5230\u4e0b\u6807\u7684\u5927\u5c0f\u5173\u7cfb\uff0c\u7531\u5f15\u7406 1 \u5f97\u5230\u524d\u7f00\u4e4b\u95f4\u7684\u5173\u7cfb\uff09 \u56e0\u6b64 \\(\\forall x \\in \\pi^{\\star}[q], x < q \\land S_x \\sqsupset S_q\\) \u3002 \u518d\u8bc1\u660e \\(\\\\{k:k < q \\land S_k \\sqsupset S_q\\\\} \\subseteq \\pi^{\\star}[q]\\) \uff0c \u5373\u8bc1\u660e \\(\\forall x \\in \\\\{k:k < q \\land S_x \\sqsupset S_q\\\\}, x \\in\\pi^{\\star}[q]\\) \u8003\u8651\u4f7f\u7528\u53cd\u8bc1\u6cd5\u6765\u8bc1\u660e\u547d\u9898\u6210\u7acb\u3002 \u5047\u8bbe\u96c6\u5408 \\(M = \\\\{k:k < q \\land S_k \\sqsupset S_q\\\\} - \\pi^{\\star}[q]\\) \u975e\u7a7a\uff0c \\(j\\) \u662f \\(M\\) \u4e2d\u7684\u6700\u5927\u503c\u3002 \\(\\because\\) \\(\\pi[q]\\) \u662f \\(\\\\{k:k < q \\land S_x \\sqsupset S_q\\\\}\\) \u4e2d\u7684\u6700\u5927\u503c\uff0c\u4e14 \\(j \\in \\\\{k:k < q \\land S_x \\sqsupset S_q\\\\}\\) \\(\\therefore j < \\pi[q], S_j \\sqsupset S_q\\) \u53c8 \\(\\because \\pi[q] \\in \\pi^{\\star}[q]\\) \\(\\therefore \\exists j' \\in \\pi^{\\star}[q], \\text{s.t. }j' > j\\) \u8bbe \\(j'\\) \u8868\u793a \\(\\pi^{\\star}[q]\\) \u4e2d\u6bd4 \\(j\\) \u5927\u7684\u6700\u5c0f\u6574\u6570\u3002 \\(\\because \\\\{k:k < q \\land S_k \\sqsupset S_q\\\\} \\subseteq \\pi^{\\star}[q]\\) \u4e14 \\(j' \\in \\pi^{\\star}[q]\\) \\(\\therefore S_{j'} \\sqsupset S_q\\) \\(\\because j' > j\\) \u4e14 \\(j\\) \u662f\u5c0f\u4e8e \\(j'\\) \u7684\u6700\u5927\u503c \\(\\therefore S_j \\sqsupset S_{j'}\\) \uff08\u5f15\u7406 1\uff09 \u7531 \\(\\pi\\) \u6570\u7ec4\u7684\u5b9a\u4e49\u77e5 \\(\\pi[j'] = j\\) \\(\\because j' \\in \\pi^{\\star}[q]\\) \\(\\therefore j = \\pi[j'] \\in \\pi^{\\star}[q]\\) \uff0c\u4e0e\u5047\u8bbe\u77db\u76fe \u56e0\u6b64 \\(\\\\{k:k < q \\land S_k \\sqsupset S_q\\\\} \\subseteq \\pi^{\\star}[q]\\) \u3002 \u7efc\u4e0a\u6240\u8ff0\uff0c\u5bf9\u4efb\u610f\u957f\u5ea6\u4e3a \\(n\\) \u7684\u5b57\u7b26\u4e32 \\(S\\) \uff0c\u6709 \\(\\forall q \\in [1, n], \\pi^{\\star}[q] = \\\\{k: k < q \\land S_k \\sqsupset S_q\\\\}\\) \u3002 \u5f15\u7406 3 \u5bf9\u4efb\u610f\u957f\u5ea6\u4e3a \\(n\\) \u7684\u5b57\u7b26\u4e32 \\(S\\) \uff0c\u6709 \\(\\forall q \\in [1, n]\\) \uff0c\u82e5 \\(\\pi[q] > 0\\) \uff0c\u5219 \\(\\pi[q] - 1 \\in \\pi^{\\star}[q - 1]\\) \u3002 \u8bc1\u660e \u4ee4 \\(x = \\pi[q] > 0\\) \uff0c\u5219 \\(x < q, S_x \\sqsupset S_q\\) \\(\\because x > 0\\) \uff0c\u5219 \\(x - 1\\) \u6709\u610f\u4e49 \\(\\therefore x - 1 < q - 1, S_{x - 1} \\sqsupset S_{q - 1}\\) \uff08\u628a \\(S_x\\) \u548c \\(S_q\\) \u7684\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u53bb\u6389\uff09 \u7531\u5f15\u7406 2 \u77e5 \\(x - 1 \\in \\pi^{\\star}[q - 1]\\) \\(\\therefore \\forall q \\in [1, n] \\land \\pi[q] > 0,\\pi[q] - 1 \\in \\pi^{\\star}[q - 1]\\) \u5bf9 \\(q \\in [2, n]\\) \u5b9a\u4e49\u5b50\u96c6 \\(E_{q - i} \\subseteq \\pi^{\\star}[q - 1]\\) \u4e3a\uff1a $$ E_{q - 1} = \\{k\\in\\pi^{\\star}[q - 1]:S_{k + 1} = S_k\\} $$ \u5219\u6709\uff1a $$ \\begin{aligned} E_{q - 1} & = \\{k\\in\\pi^{\\star}[q - 1]:S_{k + 1} = S_k\\} \\\\ & = \\{k: k < q - 1, S_k \\sqsupset S_{q - 1}, S[k + 1] = S[q]\\} \\\\ & = \\{k: k < q - 1, S_{k + 1} \\sqsupset S_q\\} \\end{aligned} $$ \u56e0\u6b64\uff0c \\(E_{q - 1}\\) \u662f\u7531 \\(\\pi^{\\star}[q - 1]\\) \u4e2d\u7684\u503c\u7ec4\u6210\u7684\u3001\u80fd\u6ee1\u8db3 \\(S_{k + 1}\\) \u4e0e \\(S_q\\) \u7684\u67d0\u4e2a\u540e\u7f00\u76f8\u7b49\u7684 \\(k\\) \u7ec4\u6210\u7684\u96c6\u5408\u3002 \u63a8\u8bba 1 \u8bc1\u660e \u5f53 \\(E_{q - 1} = \\varnothing\\) \u65f6\uff0c\u4e0d\u5b58\u5728\u4efb\u4f55\u4e00\u4e2a \\(k \\in \\pi^{\\star}[q - 1]\\) \uff0c\u4f7f\u5f97 \\(S_{k + 1} \\sqsupset S_q\\) \u3002 \u663e\u7136\u6b64\u65f6 \\(\\pi[q]\\) \u53ea\u80fd\u4e3a \\(0\\) \u3002 \u5f53 \\(E_{q - 1} \\neq \\varnothing\\) \u65f6\uff0c \\(\\forall k \\in E_{q - 1}, k < q - 1 \\land S_{k + 1} \\sqsupset S_q \\Longrightarrow k + 1 < q\\) \u5219\u7531 \\(\\pi[q]\\) \u7684\u5b9a\u4e49\uff0c \\(k\\) \u662f\u62d3\u5c55\u5230 \\(S_q\\) \u7684\u67d0\u4e00\u540e\u7f00\u7684\u5907\u9009\u9879\uff0c \\(\\pi[q] \\ge 1 + \\max\\\\{k \\in E_{q - 1}\\\\}\\) \u3002 \u6ce8\u610f\u5230\u6b64\u65f6 \\(\\pi[q] > 0\\) \uff0c\u8bbe \\(r = \\pi[q] - 1\\) \u3002 \u5219 \\(r + 1 = \\pi[q] < q, S_{r + 1} = S_{\\pi[q]} \\sqsupset S_q\\) \u3002 \\(\\because r + 1 > 0\\) \\(\\therefore S_{r + 1} = S_q\\) \u7531\u5f15\u7406 3 \u53ef\u5f97 \\(r = \\pi[q] - 1 \\in \\pi^{\\star}[q - 1]\\) \\(\\therefore r \\in E_{q - 1}\\) \\(\\therefore \\pi[q] - 1 = r \\le \\max\\\\{k \\in E_{q - 1}\\\\}\\) \u5373 \\(\\pi[q] \\le 1 + \\max\\\\{k \\in E_{q - 1}\\\\}\\) \u7efc\u4e0a\u6240\u8ff0\uff0c\u5f53 \\(E_{q - 1} \\neq \\varnothing\\) \uff0c \\(\\pi[q] = 1 + \\max\\\\{k \\in E_{q - 1}\\\\}\\) \u3002 \u518d\u770b\u4e00\u6b21\u4ee3\u7801\uff1a 1 2 3 4 5 6 7 8 9 10 11 12 #include <bits/stdc++.h> void calcPi ( char * S ) { pi [ 1 ] = 0 ; int len = strlen ( S + 1 ); for ( int i = 2 , k = 0 ; i <= len ; ++ i ) { while ( k > 0 && S [ k + 1 ] != S [ i ]) k = pi [ k ]; if ( S [ k + 1 ] == S [ i ]) ++ k ; pi [ i ] = k ; } } \u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u4f7f\u7528\u5faa\u73af\u4e0d\u53d8\u5f0f\u6765\u8bc1\u660e\u4e0a\u8ff0\u4ee3\u7801\u7684\u6b63\u786e\u6027\u3002 \u8bc1\u660e \u521d\u59cb\u5316 \u5728\u7b2c 4 \u884c\u7684\u8fed\u4ee3\u5f00\u59cb\u524d\uff0c\u6709 \\(i = 1, k = \\pi[i] = 0\\) \uff0c\u4e0d\u53d8\u5f0f\u6210\u7acb\u3002 \u4fdd\u6301 \u5728\u6bcf\u6b21\u8fed\u4ee3\u5f00\u59cb\u524d\uff0c\u6709 \\(k = \\pi[i - 1]\\) \uff1a \u82e5\u662f\u7b2c\u4e00\u6b21\u8fed\u4ee3\uff0c\u6b64\u7b49\u5f0f\u7531\u7b2c 4 \u884c\u4fdd\u8bc1\uff1b \u5176\u4f59\u8fed\u4ee3\u5747\u7531\u7b2c 9 \u884c\u4fdd\u8bc1\u3002 \u63a5\u4e0b\u6765\u8981\u8bc1\u660e\u6bcf\u6b21\u8fed\u4ee3\u7ed3\u675f\u540e\u5747\u6709 \\(k = \\pi[i]\\) \u6210\u7acb\u3002 \u82e5 \\(k \\neq \\pi[i]\\) \uff0c\u5219\u4f1a\u5728\u7b2c 5-8 \u884c\u5c06 \\(k\\) \u8c03\u6574\u81f3 \\(\\pi[i]\\) \u3002 \u7b2c 5 \u884c\u7684 while \u5faa\u73af\u904d\u5386\u6bcf\u4e00\u4e2a \\(k \\in \\pi^{\\star}[i - 1]\\) \uff0c\u76f4\u81f3\u627e\u5230\u4e00\u4e2a \\(k\\) \uff0c\u4f7f\u5f97 \\(S[k + 1] = S[i]\\) \u3002\uff08\u5f15\u7406 2\uff09 \u82e5\u627e\u4e0d\u5230\u8fd9\u6837\u7684\u503c\uff0c\u5219\u5728\u7b2c 7 \u884c \\(k = 0\\) \u3002 \u82e5\u627e\u5230\u4e86\u8fd9\u6837\u7684\u503c\uff0c\u6b64\u65f6 \\(k\\) \u4e3a\u6ee1\u8db3\u6761\u4ef6\u7684\u96c6\u5408\u4e2d\u7684\u6700\u5927\u503c\uff0c\u5e94\u5c06 \\(\\pi[i] \\gets k + 1\\) \u3002\uff08\u63a8\u8bba 1\uff09 \u7b2c 9 \u884c\u7684\u8d4b\u503c\u8bed\u53e5\u4f7f\u5f97 \\(k = \\pi[i]\\) \u6052\u6210\u7acb\u3002 \u7ec8\u6b62 \u5f53 \\(i = n + 1\\) \u65f6\uff0c\u8fed\u4ee3\u7ec8\u6b62\uff0c\u6b64\u65f6\u6211\u4eec\u6c42\u51fa\u4e86 \\(\\pi[1..n]\\) \u3002 \u81f3\u6b64\uff0c\u7b97\u6cd5\u7ed3\u675f\u3002 \u56e0\u6b64\uff0c\u4e0a\u8ff0\u4ee3\u7801\u5b9e\u73b0\u80fd\u6b63\u786e\u5730\u6c42\u51fa\u5b57\u7b26\u4e32 \\(S\\) \u7684\u524d\u7f00\u51fd\u6570\u6570\u7ec4\u3002","title":"\u6b63\u786e\u6027"},{"location":"posts/lectures/kmp/#_7","text":"\u4e0d\u96be\u53d1\u73b0\uff0c\u7b2c 7-9 \u884c\u4ee3\u7801\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5747\u4e3a \\(O(n)\\) \uff0c\u552f\u4e00\u68d8\u624b\u7684\u662f\u7b2c 6-7 \u884c\u4ee3\u7801\u3002 \u8003\u8651 \\(k\\) \u7684\u53d8\u5316\uff0c \\(k\\) \u5728\u7b2c 7-8 \u884c\u589e\u52a0\u7684\u6b21\u6570\u4e0d\u8d85\u8fc7 \\(n\\) \u6b21\uff0c\u5373 \\(k \\le n\\) \uff1b \\(k\\) \u5728\u7b2c 6 \u884c\u7684\u64cd\u4f5c\u4e2d\uff0c\u56e0\u4e3a\u6709 \\(\\pi(S_i) < i\\) \u7684\u6027\u8d28\uff0c\u5bfc\u81f4\u6bcf\u6b21\u8fed\u4ee3\u81f3\u5c11\u4f7f \\(k\\) \u51cf\u5c0f \\(1\\) \uff0c\u5373\u6700\u591a\u8fed\u4ee3 \\(n\\) \u6b21\u3002 \u7efc\u4e0a\u6240\u8ff0\uff0c\u7528\u4e0a\u8ff0\u65b9\u6cd5\u6c42\u4e00\u4e2a\u5b57\u7b26\u4e32\u7684\u524d\u7f00\u51fd\u6570\u6570\u7ec4\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(n)\\) \u3002","title":"\u65f6\u95f4\u590d\u6742\u5ea6"},{"location":"posts/lectures/kmp/#_8","text":"\u6613\u77e5\u7528\u6b64\u79cd\u65b9\u6cd5\u6c42\u524d\u7f00\u51fd\u6570\u6570\u7ec4\u7684\u7a7a\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(n)\\) \u3002","title":"\u7a7a\u95f4\u590d\u6742\u5ea6"},{"location":"posts/lectures/kmp/#kmp","text":"","title":"KMP \u7b97\u6cd5"},{"location":"posts/lectures/kmp/#_9","text":"\u6211\u4eec\u4e3e\u4e00\u4e2a\u4f8b\u5b50\uff1a\u7528 \\(S = \\mathtt{CCFCCFMONEY}\\) \u88ab \\(T = \\mathtt{CCFCCFSB}\\) \u5339\u914d\u3002 \u6211\u4eec\u5b9a\u4e49\u4e24\u4e2a\u6307\u9488 \\(i,k\\) \uff0c\u8868\u793a \\(S[i - k..i - 1] = T[1..k]\\) \u3002 \u6211\u4eec\u8981\u62d3\u5c55\u7684\uff0c\u5c31\u662f \\(S[i]\\) \u4e0e \\(T[k + 1]\\) \u4e4b\u95f4\u7684\u5173\u7cfb\u3002 \u9996\u5148\u6211\u4eec\u8003\u8651\u6734\u7d20\u7b97\u6cd5\u7684\u5f0a\u7aef\uff1a\u5f53\u4f60\u5339\u914d\u5230\u4e86 \\(i = 8, k = 7\\) \u65f6\uff1a $$ \\begin{aligned} S & = \\mathtt{\\color{green}CCFXCCF\\color{red}M\\color{black}ONEY} \\\\ T & = \\mathtt{\\color{green}CCFXCCF\\color{red}S\\color{black}B} \\\\ \\text{index} & =\\mathtt{123456789} \\end{aligned} $$ \u4f60\u53d1\u73b0 \\(S[i] = S[8] = \\mathtt{M}\\) \uff0c\u53ef \\(T[k + 1] = T[8] = \\mathtt{S}\\) \uff0c\u6211\u4eec\u524d\u529f\u5c3d\u5f03\uff0c\u53ea\u80fd\u5c06 \\(T\\) \u5f80\u53f3\u5e73\u79fb\u4e00\u683c\u3002 \u800c\u4e14\u8981\u91cd\u65b0\u5f00\u59cb\uff1a \\(i = 1, k = 1\\) \u3002 $$ \\begin{aligned} S & = \\mathtt{CCFXCCFMONEY} \\\\ T & = \\mathtt{\\text{ }CCFXCCFSB} \\\\ \\text{index} & =\\mathtt{123456789} \\end{aligned} $$ \u663e\u7136\u6734\u7d20\u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(nm)\\) \u3002 \u518d\u8003\u8651\u4f7f\u7528\u524d\u7f00\u51fd\u6570 \\(\\pi\\) \u6765\u4f18\u5316\u5339\u914d\u7684\u8fc7\u7a0b\u3002 \u4e0d\u96be\u6c42\u51fa \\(T\\) \u7684\u524d\u7f00\u6570\u7ec4 \\(\\pi[1..n] = \\\\{0, 1, 0, 0, 1, 2, 3, 0, 0\\\\}\\) \u3002 \u8003\u8651\u524d\u7f00\u6570\u7ec4\u7684\u610f\u4e49\uff1a \\(T_i\\) \u7684\u6700\u957f\u7684\u76f8\u7b49\u7684\u524d\u540e\u7f00\u957f\u5ea6\u3002 \u4f60\u77e5\u9053\u4e86\u5f53 \\(i = 8, k = 7\\) \u65f6\uff0c\u6709 \\(S[1..7] = T[1..7]\\) \uff0c\u800c\u4e14 \\(T[1..3] = T[5..7]\\) \u3002 \u5728\u4e0a\u8ff0\u7684\u4f8b\u5b50\u4e2d\uff0c\u4e5f\u5c31\u662f\u6211\u4eec\u53ef\u4ee5\u628a \\(T[1..3]\\) \u8fd9\u4e2a\u5730\u65b9\u5339\u914d\u5230\u7684 \\(\\mathtt{\\color{green}CCF}\\) \u79fb\u52a8\u5230 \\(S[5..8]\\) \u53bb\u3002 \u8fd9\u6837\u5c31\u76f4\u63a5\u8282\u7701\u4e86\u4e09\u6b21\u79fb\u52a8\u3002 \u603b\u7ed3\u4e00\u4e0b\u4f7f\u7528\u524d\u7f00\u51fd\u6570 \\(\\pi\\) \u65f6\u6211\u4eec\u7684\u5339\u914d\u8fc7\u7a0b\uff1a \u4f7f\u7528 \\(i, k\\) \u6765\u8868\u793a\u5f53\u524d \\(S[i - k..i - 1] = T[1..k]\\) \uff1b \u5982\u679c \\(S[i] \\neq T[k + 1]\\) \uff0c\u6211\u4eec\u5c31\u7528 \\(\\pi\\) \u51fd\u6570\u6765\u5b9e\u73b0\u5927\u5e45\u5ea6\u7684\u8df3\u8dc3\uff1b \u5426\u5219 \\(k' \\gets k + 1\\) \uff0c\u8868\u793a \\(S[i - k..i] = T[1..k + 1]\\) \uff1b \u5f53 \\(k = m\\) \u65f6\uff0c\u8bf4\u660e\u627e\u5230\u4e86\u4e00\u4e2a\u5339\u914d \\(S[i - m + 1..i] = T[1..m]\\) \u3002","title":"\u7b97\u6cd5\u6d41\u7a0b"},{"location":"posts/lectures/kmp/#_10","text":"1 2 3 4 5 6 7 8 9 10 11 12 13 #include <bits/stdc++.h> void KMP ( char * S , char * T ) { for ( int i = 1 , k = 0 ; i <= n ; ++ i ) { while ( k > 0 && T [ k + 1 ] != S [ i ]) k = pi [ k ]; if ( T [ k + 1 ] == S [ i ]) ++ k ; if ( k == m ) { printf ( \"%d \\n \" , i - m + 1 ); // S[i - m + 1..i] = T[1..m] k = pi [ k ]; } } }","title":"\u4ee3\u7801\u5b9e\u73b0"},{"location":"posts/lectures/kmp/#_11","text":"\u53ef\u4ee5\u8bc1\u660e\uff0c\u4e0a\u8ff0\u4ee3\u7801\u5b9e\u73b0\u662f\u6b63\u786e\u7684\u3002","title":"\u6b63\u786e\u6027"},{"location":"posts/lectures/kmp/#_12","text":"\u4f9d\u846b\u82a6\u753b\u74e2\u5730\u4f7f\u7528\u6c42\u524d\u7f00\u51fd\u6570\u6570\u7ec4\u65f6\u7684\u644a\u8fd8\u5206\u6790\u65b9\u6cd5\uff0c\u4e0d\u96be\u5f97\u51fa KMP \u7b97\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(n + m)\\) \u3002","title":"\u65f6\u95f4\u590d\u6742\u5ea6"},{"location":"posts/lectures/kmp/#_13","text":"\u4e0d\u96be\u53d1\u73b0 KMP \u7b97\u6cd5\u7684\u7a7a\u95f4\u590d\u6742\u5ea6\u4e3a \\(O(n + m)\\) \u3002","title":"\u7a7a\u95f4\u590d\u6742\u5ea6"},{"location":"posts/lectures/kmp/#_14","text":"\u300cNOI2014\u300d\u52a8\u7269\u56ed \u300cPOJ 1961\u300dPeriod \u300cCF1200E\u300dCompress Words \u300cPOI2006\u300dOKR-Periods of Words","title":"\u4f8b\u9898"},{"location":"posts/lectures/kmp/#_15","text":"KMP Reflect upon yourself before you judge others. \u611f\u89c9\u524d\u7f00\u51fd\u6570\u7684\u6027\u8d28\u975e\u5e38\u4f18\u79c0\uff0c\u53ef\u4ee5\u6709\u500d\u589e next \u6570\u7ec4\u4e4b\u7c7b\u7684\u795e\u5947\u64cd\u4f5c\u6765\u8279\u6807\u7b97\u3002\uff08\u5927\u96fe","title":"\u5199\u5728\u6700\u540e"},{"location":"posts/lectures/pairing-heap/","text":"","title":"\u914d\u5bf9\u5806"},{"location":"posts/mood/","text":"\u8fd9\u91cc\u653e\u7f6e\u7684\u662f\u4e00\u4e9b\u6211\u7684\u8bf4\u8bf4\uff0cQQ \u7a7a\u95f4\u6bd5\u7adf\u4eba\u591a\u773c\u6742\u3002","title":"\u6982\u89c8"},{"location":"posts/mood/2020-08/","text":"2020-08-08 \u00b6 \u4eca\u5929\u7684 cf \u597d\u61a8\u554a\uff0cA \u9898\u9762\u53c8\u81ed\u53c8\u957f\uff0c\u7ed3\u8bba\u53c8\u77ed\u53c8\u5c0f\u3002 B \u548c C \u7b97\u662f\u6bd4\u8f83\u7b80\u5355\u7684\u9898\uff0c\u968f\u4fbf\u5199\u4e86\u51e0\u4e0b\u5c31\u8fc7\u4e86\u3002 D \u662f\u4e2a\u60ac\u7ebf\u6cd5 dp\uff0c\u4e0d\u662f\u5f88\u4f1a\u3002 E1 \u548c E2 \u5e94\u8be5\u662f AC \u81ea\u52a8\u673a\u4e0a dp\u3002 \u4e09\u9898\u80fd\u4ece 900 \u5230 1900\uff0c\u5c31\u770b\u624b\u901f\u548c\u6b63\u786e\u7387\u4e86\u3002","title":"2020.08"},{"location":"posts/mood/2020-08/#2020-08-08","text":"\u4eca\u5929\u7684 cf \u597d\u61a8\u554a\uff0cA \u9898\u9762\u53c8\u81ed\u53c8\u957f\uff0c\u7ed3\u8bba\u53c8\u77ed\u53c8\u5c0f\u3002 B \u548c C \u7b97\u662f\u6bd4\u8f83\u7b80\u5355\u7684\u9898\uff0c\u968f\u4fbf\u5199\u4e86\u51e0\u4e0b\u5c31\u8fc7\u4e86\u3002 D \u662f\u4e2a\u60ac\u7ebf\u6cd5 dp\uff0c\u4e0d\u662f\u5f88\u4f1a\u3002 E1 \u548c E2 \u5e94\u8be5\u662f AC \u81ea\u52a8\u673a\u4e0a dp\u3002 \u4e09\u9898\u80fd\u4ece 900 \u5230 1900\uff0c\u5c31\u770b\u624b\u901f\u548c\u6b63\u786e\u7387\u4e86\u3002","title":"2020-08-08"},{"location":"posts/mood/2020-09/","text":"","title":"2020.09"},{"location":"posts/whk/","text":"\u8fd9\u91cc\u653e\u7f6e\u7684\u662f\u4e00\u4e9b\u6211\u7684\u6587\u5316\u8bfe\u76f8\u5173\u5185\u5bb9\u3002","title":"\u6982\u89c8"},{"location":"posts/whk/maths/immovable-point-of-an-array/","text":"\u6570\u5217\u4e0d\u52a8\u70b9\u53ef\u4ee5\u8f85\u52a9\u6211\u4eec\u5feb\u901f\u89e3\u51b3\u4e0e\u6570\u5217\u901a\u9879\u516c\u5f0f\u6709\u5173\u7684\u95ee\u9898\u3002 \u57fa\u7840\u77e5\u8bc6 \u00b6 \u5b9a\u4e49 \u00b6 \u5df2\u77e5\u51fd\u6570 \\(f(x)\\) \uff0c\u82e5\u5b58\u5728 \\(x_0\\) \u4f7f\u5f97 \\(f(x_0) = x_0\\) \uff0c\u5219\u79f0 \\(x_0\\) \u4e3a \\(f(x)\\) \u7684\u4e00\u4e2a\u4e0d\u52a8\u70b9\u3002 \u82e5\u6570\u5217 \\(\\{a_n\\}\\) \u6ee1\u8db3 \\(a_{n + 1} = g(a_n) \\quad(n \\in \\mathbb{N}^{*})\\) \uff0c\u5219\u79f0 \\(g(x)\\) \u4e3a\u6570\u5217 \\(\\{a_n\\}\\) \u7684\u9012\u63a8\u51fd\u6570\u3002 \u5b9a\u7406\u4e00 \u00b6 \u82e5 \\(f(x) = ax + b\\quad(a \\notin \\{0, 1\\})\\) \u4e3a\u6570\u5217 \\(\\{a_n\\}\\) \u7684\u9012\u63a8\u51fd\u6570\uff0c\u4e14 \\(p\\) \u4e3a \\(f(x)\\) \u7684\u4e0d\u52a8\u70b9\uff0c\u5219\u6570\u5217 \\(\\{a_n - p\\}\\) \u4e3a\u516c\u6bd4\u4e3a \\(a\\) \u7684\u7b49\u6bd4\u6570\u5217\u3002 \u8bc1\u660e \\(\\because\\) \\(p\\) \u4e3a \\(f(x)\\) \u7684\u4e0d\u52a8\u70b9 \\(\\therefore p = f(p) = ap + b\\) \uff0c\u5373 \\(b - p = -ap\\) \u53c8 \\(a_{n + 1} = f(a_n) = a\\cdot a_n + b\\) \\(\\begin{aligned}\\therefore a_{n + 1} - p & = a\\cdot a_n + b - p \\\\ & = a\\cdot a_n - ap \\\\ & = a(a_n - p)\\end{aligned}\\) \\(\\therefore\\) \\(\\{a_n - p\\}\\) \u4e3a\u516c\u6bd4\u4e3a \\(a\\) \u7684\u7b49\u6bd4\u6570\u5217 \u5b9a\u7406\u4e8c \u00b6 \u82e5 \\(f(x) = \\dfrac{ax + b}{cx + d}\\quad(c \\neq 0, ad - bc \\neq 0)\\) \u4e3a\u6570\u5217 \\(\\{a_n\\}\\) \u7684\u9012\u63a8\u51fd\u6570\uff0c\u4e14 \\(p, q\\) \u4e3a \\(f(x)\\) \u7684\u4e24 \u76f8\u5f02 \u4e0d\u52a8\u70b9\uff0c\u5219\u6570\u5217 \\(\\{\\dfrac{a_n - p}{a_n - q}\\}\\) \u4e3a\u516c\u6bd4\u4e3a \\(\\dfrac{a - pc}{a - qc}\\) \u7684\u7b49\u6bd4\u6570\u5217\u3002 \u8bc1\u660e \u7531 \\(x = f(x) = \\dfrac{ax + b}{cx + d}\\) \u77e5 \\(cx^2 + (d - a)x - b = 0\\) \u5c06 \\(x_1 = p, x_2 = q\\) \u4ee3\u5165\u5f97 \\(\\begin{cases}cp^2 + (d - a)p - b = 0 \\\\ cq^2 + (d - a)q - b = 0\\end{cases}\\) \u6574\u7406\u5f97 \\(\\begin{cases}p = \\dfrac{pd - b}{a - pc} \\\\ q = \\dfrac{qd - b}{a - qc}\\end{cases}\\) \\(\\begin{aligned}\\therefore \\dfrac{a_{n + 1} - p}{a_{n + 1} - q} & = \\dfrac{\\dfrac{a\\cdot a_n + b}{c\\cdot a_n + d} - p}{\\dfrac{a\\cdot a_n + b}{c\\cdot a_n + d} - q} \\\\ & = \\dfrac{(a - pc)a_n + b - pd}{(a - qc)a_n + b - qd} \\\\ & = \\dfrac{a - pc}{a - qc} \\cdot \\dfrac{a_n - \\dfrac{pd - b}{a - pc}}{a_n - \\dfrac{qd - b}{a - qc}} \\\\ & = \\dfrac{a_n - p}{a_n - q}\\cdot\\dfrac{a - pc}{a - qc}\\end{aligned}\\) \\(\\therefore\\) \\(\\{\\dfrac{a_n - p}{a_n - q}\\}\\) \u4e3a\u516c\u6bd4\u4e3a \\(\\dfrac{a - pc}{a - qc}\\) \u7684\u7b49\u6bd4\u6570\u5217 \u82e5 \\(f(x) = \\dfrac{ax + b}{cx + d}\\quad(c \\neq 0, ad - bc \\neq 0)\\) \u4e3a\u6570\u5217 \\(\\{a_n\\}\\) \u7684\u9012\u63a8\u51fd\u6570\uff0c\u4e14 \\(p\\) \u4e3a \\(f(x)\\) \u7684 \u552f\u4e00 \u4e0d\u52a8\u70b9\uff0c\u5219\u6570\u5217 \\(\\{\\dfrac{1}{a_n - p}\\}\\) \u4e3a\u516c\u5dee\u4e3a \\(\\dfrac{2c}{a + d}\\) \u7684\u7b49\u5dee\u6570\u5217\u3002 \u8bc1\u660e \u7531 \\(x = f(x) = \\dfrac{ax + b}{cx + d}\\) \u77e5 \\(cx^2 + (d - a)x - b = 0\\) \\(\\therefore cp^2 + (d - a)p - b = 0\\) \uff0c\u5373 \\(b - pd = cp^2 - ap\\) \\(\\begin{aligned}\\therefore \\dfrac{1}{a_{n + 1} - p} & = \\dfrac{1}{\\dfrac{a\\cdot a_n + b}{c\\cdot a_n + d} - p} \\\\ & = \\dfrac{c\\cdot a_n + d}{(a - cp)\\cdot a_n + b - pd} \\\\ & = \\dfrac{c\\cdot a_n + d}{(a - cp)\\cdot a_n + cp^2 - ap} \\\\ & = \\dfrac{c\\cdot a_n + d}{(a - cp)(a_n - p)} \\\\ & = \\dfrac{1}{a - cp}\\cdot\\dfrac{c(a_n - p) + cp + d}{a_n - p} \\\\ & = \\dfrac{c}{a - cp} + \\dfrac{cp + d}{a - cp}\\cdot\\dfrac{1}{a_n - p} \\\\ & = \\dfrac{1}{a_n - p} + \\dfrac{2c}{a + d}\\end{aligned}\\) \\(\\therefore\\) \\(\\{\\dfrac{1}{a_n - p}\\}\\) \u4e3a\u516c\u5dee\u4e3a \\(\\dfrac{2c}{a + d}\\) \u7684\u7b49\u5dee\u6570\u5217 \u5b9a\u7406\u4e09 \u00b6 \u82e5 \\(f(x) = \\dfrac{ax^2 + bx + c}{ex + f}\\) \u4e3a\u6570\u5217 \\(\\{a_n\\}\\) \u7684\u9012\u63a8\u51fd\u6570\uff0c\u4e14 \\(p, q\\) \u4e3a \\(f(x)\\) \u7684\u4e24 \u76f8\u5f02 \u4e0d\u52a8\u70b9\uff0c\u5219 \u5f53\u4e14\u4ec5\u5f53 \\(b = 0, e = 2a\\) \u65f6\u6709 \\(\\dfrac{a_{n + 1} - p}{a_{n + 1} - q} = (\\dfrac{a_n - p}{a_n - q})^2\\) \u3002 \u8bc1\u660e \\(\\because\\) \\(p, q\\) \u4e3a \\(f(x)\\) \u7684\u4e24\u76f8\u5f02\u4e0d\u52a8\u70b9 \\(\\therefore \\begin{cases}c - pf = (e - a)p^2 - bp \\\\ c - qf = (e - a)q^2 - bq\\end{cases}\\) \\(\\begin{aligned}\\therefore \\dfrac{a_{n + 1} - p}{a_{n + 1} - q} & = \\dfrac{a\\cdot a_n^2 + b\\cdot a_n + c - p(e\\cdot a_n + f)}{a\\cdot a_n^2 + b\\cdot a_n + c - q(e\\cdot a_n + f)} \\\\ & = \\dfrac{a\\cdot a_n^2 + (b - ep)\\cdot a_n + c - pf}{a\\cdot a_n^2 + (b - eq)\\cdot a_n + c - qf} \\\\ & = \\dfrac{a\\cdot a_n^2 + (b - ep)\\cdot a_n + (e - a)\\cdot p^2 - bp}{a\\cdot a_n^2 - (b - eq)\\cdot a_n + (e - a)\\cdot q^2 - bq}\\end{aligned}\\) \\(\\begin{aligned}\\therefore \\dfrac{a_{n + 1} - p}{a_{n + 1} - q} = (\\dfrac{a_n - p}{a_n - q})^2 & \\iff \\dfrac{a\\cdot a_n^2 + (b - ep)\\cdot a_n + (e - a)\\cdot p^2 - bp}{a\\cdot a_n^2 - (b - eq)\\cdot a_n + (e - a)\\cdot q^2 - bq} = \\dfrac{a_n^2 - 2p\\cdot a_n + p^2}{a_n^2 - 2q\\cdot a_n + q^2} \\\\ & \\iff \\begin{cases}b - ep = -2ap \\\\ b - eq = -2aq\\end{cases} \\\\ & \\iff \\begin{cases}(2a - e)p + b = 0 \\\\ (2a - e)q + b = 0\\end{cases} \\\\ & \\iff \\begin{cases}b = 0 \\\\ e = 2a\\end{cases} \\quad(p \\neq q)\\end{aligned}\\) \u4f8b\u9898\u8bb2\u89e3 \u00b6 \u4f8b1 \u00b6 \u8bbe\u6570\u5217 \\(\\{a_n\\}\\) \u6ee1\u8db3 \\(a_1 = 1, a_{n + 1} = \\dfrac{a_n + 2}{a_n}\\) \uff0c\u6c42\u6570\u5217 \\(\\{a_n\\}\\) \u7684\u901a\u9879\u516c\u5f0f\u3002 \u89e3\u6790 \u7279\u5f81\u65b9\u7a0b\u4e3a \\(x = \\dfrac{x + 2}{x}\\) \uff0c\u89e3\u5f97 \\(x_1 = -1, x_2 = 2\\) \\(\\therefore\\) \\(\\{\\dfrac{a_n + 1}{a_n - 2}\\}\\) \u4e3a\u9996\u9879\u4e3a \\(-2\\) \uff0c\u516c\u6bd4\u4e3a \\(-2\\) \u7684\u7b49\u6bd4\u6570\u5217 \\(\\therefore \\dfrac{a_n +1}{a_n - 2} = (-2)^n\\) \\(\\therefore a_n = \\dfrac{2\\cdot (-2)^n +1}{(-2)^n - 1}\\) \u4f8b2 \u00b6 \u6570\u5217 \\(\\{a_n\\}\\) \u6ee1\u8db3\u4e0b\u5217\u5173\u7cfb\uff1a \\(a_1 = 2a, a_{n + 1} = 2a - \\dfrac{a^2}{a_n}\\quad(a \\neq 0)\\) \uff0c\u6c42\u6570\u5217 \\(\\{a_n\\}\\) \u7684\u901a\u9879\u516c\u5f0f\u3002 \u89e3\u6790 \u7279\u5f81\u65b9\u7a0b\u4e3a \\(x = \\dfrac{2ax - a^2}{x}\\) \uff0c\u89e3\u5f97 \\(x_1 = x_2 = a\\) \\(\\therefore\\) \\(\\{\\dfrac{1}{a_n - a}\\}\\) \u4e3a\u9996\u9879\u4e3a \\(\\dfrac{1}{a}\\) \uff0c\u516c\u6bd4\u4e3a \\(\\dfrac{1}{a}\\) \u7684\u7b49\u6bd4\u6570\u5217 \\(\\therefore \\dfrac{1}{a_n - a} = \\dfrac{n}{a}\\) \\(\\therefore a_n = \\dfrac{a + na}{n}\\) \u4f8b3 \u00b6 \u5df2\u77e5\u6570\u5217 \\(\\{a_n\\}\\) \u6ee1\u8db3 \\(a_1 = 2, a_{n + 1} = \\dfrac{a_n^2 + 2}{2a_n}\\) \uff0c\u6c42\u6570\u5217 \\(\\{a_n\\}\\) \u7684\u901a\u9879\u516c\u5f0f\u3002 \u89e3\u6790 \u7279\u5f81\u65b9\u7a0b\u4e3a \\(x = \\dfrac{x^2 + 2}{2x}\\) \uff0c\u89e3\u5f97 \\(x_1 = \\sqrt{2}, x_2 = -\\sqrt{2}\\) \\(\\therefore \\dfrac{a_{n + 1} - \\sqrt{2}}{a_{n + 1} + \\sqrt{2}} = (\\dfrac{a_n - \\sqrt{2}}{a_n + \\sqrt{2}})^2\\) \\(\\therefore \\dfrac{a_n - \\sqrt{2}}{a_n + \\sqrt{2}} = (3 - 2\\sqrt{2})^{2^{n - 1}} = (\\sqrt{2} - 1)^{2^n}\\) \\(\\therefore a_n = \\sqrt{2}\\cdot\\dfrac{1 + (\\sqrt{2} - 1)^{2^n}}{1 - (\\sqrt{2} - 1)^{2^n}}\\) \u603b\u7ed3 \u00b6 \u65e0\u6280\u5de7\uff0c\u5c31\u662f\u5957\u516c\u5f0f\u3002","title":"\u6570\u5217\u4e0d\u52a8\u70b9\u6d45\u63a2"},{"location":"posts/whk/maths/immovable-point-of-an-array/#_1","text":"","title":"\u57fa\u7840\u77e5\u8bc6"},{"location":"posts/whk/maths/immovable-point-of-an-array/#_2","text":"\u5df2\u77e5\u51fd\u6570 \\(f(x)\\) \uff0c\u82e5\u5b58\u5728 \\(x_0\\) \u4f7f\u5f97 \\(f(x_0) = x_0\\) \uff0c\u5219\u79f0 \\(x_0\\) \u4e3a \\(f(x)\\) \u7684\u4e00\u4e2a\u4e0d\u52a8\u70b9\u3002 \u82e5\u6570\u5217 \\(\\{a_n\\}\\) \u6ee1\u8db3 \\(a_{n + 1} = g(a_n) \\quad(n \\in \\mathbb{N}^{*})\\) \uff0c\u5219\u79f0 \\(g(x)\\) \u4e3a\u6570\u5217 \\(\\{a_n\\}\\) \u7684\u9012\u63a8\u51fd\u6570\u3002","title":"\u5b9a\u4e49"},{"location":"posts/whk/maths/immovable-point-of-an-array/#_3","text":"\u82e5 \\(f(x) = ax + b\\quad(a \\notin \\{0, 1\\})\\) \u4e3a\u6570\u5217 \\(\\{a_n\\}\\) \u7684\u9012\u63a8\u51fd\u6570\uff0c\u4e14 \\(p\\) \u4e3a \\(f(x)\\) \u7684\u4e0d\u52a8\u70b9\uff0c\u5219\u6570\u5217 \\(\\{a_n - p\\}\\) \u4e3a\u516c\u6bd4\u4e3a \\(a\\) \u7684\u7b49\u6bd4\u6570\u5217\u3002 \u8bc1\u660e \\(\\because\\) \\(p\\) \u4e3a \\(f(x)\\) \u7684\u4e0d\u52a8\u70b9 \\(\\therefore p = f(p) = ap + b\\) \uff0c\u5373 \\(b - p = -ap\\) \u53c8 \\(a_{n + 1} = f(a_n) = a\\cdot a_n + b\\) \\(\\begin{aligned}\\therefore a_{n + 1} - p & = a\\cdot a_n + b - p \\\\ & = a\\cdot a_n - ap \\\\ & = a(a_n - p)\\end{aligned}\\) \\(\\therefore\\) \\(\\{a_n - p\\}\\) \u4e3a\u516c\u6bd4\u4e3a \\(a\\) \u7684\u7b49\u6bd4\u6570\u5217","title":"\u5b9a\u7406\u4e00"},{"location":"posts/whk/maths/immovable-point-of-an-array/#_4","text":"\u82e5 \\(f(x) = \\dfrac{ax + b}{cx + d}\\quad(c \\neq 0, ad - bc \\neq 0)\\) \u4e3a\u6570\u5217 \\(\\{a_n\\}\\) \u7684\u9012\u63a8\u51fd\u6570\uff0c\u4e14 \\(p, q\\) \u4e3a \\(f(x)\\) \u7684\u4e24 \u76f8\u5f02 \u4e0d\u52a8\u70b9\uff0c\u5219\u6570\u5217 \\(\\{\\dfrac{a_n - p}{a_n - q}\\}\\) \u4e3a\u516c\u6bd4\u4e3a \\(\\dfrac{a - pc}{a - qc}\\) \u7684\u7b49\u6bd4\u6570\u5217\u3002 \u8bc1\u660e \u7531 \\(x = f(x) = \\dfrac{ax + b}{cx + d}\\) \u77e5 \\(cx^2 + (d - a)x - b = 0\\) \u5c06 \\(x_1 = p, x_2 = q\\) \u4ee3\u5165\u5f97 \\(\\begin{cases}cp^2 + (d - a)p - b = 0 \\\\ cq^2 + (d - a)q - b = 0\\end{cases}\\) \u6574\u7406\u5f97 \\(\\begin{cases}p = \\dfrac{pd - b}{a - pc} \\\\ q = \\dfrac{qd - b}{a - qc}\\end{cases}\\) \\(\\begin{aligned}\\therefore \\dfrac{a_{n + 1} - p}{a_{n + 1} - q} & = \\dfrac{\\dfrac{a\\cdot a_n + b}{c\\cdot a_n + d} - p}{\\dfrac{a\\cdot a_n + b}{c\\cdot a_n + d} - q} \\\\ & = \\dfrac{(a - pc)a_n + b - pd}{(a - qc)a_n + b - qd} \\\\ & = \\dfrac{a - pc}{a - qc} \\cdot \\dfrac{a_n - \\dfrac{pd - b}{a - pc}}{a_n - \\dfrac{qd - b}{a - qc}} \\\\ & = \\dfrac{a_n - p}{a_n - q}\\cdot\\dfrac{a - pc}{a - qc}\\end{aligned}\\) \\(\\therefore\\) \\(\\{\\dfrac{a_n - p}{a_n - q}\\}\\) \u4e3a\u516c\u6bd4\u4e3a \\(\\dfrac{a - pc}{a - qc}\\) \u7684\u7b49\u6bd4\u6570\u5217 \u82e5 \\(f(x) = \\dfrac{ax + b}{cx + d}\\quad(c \\neq 0, ad - bc \\neq 0)\\) \u4e3a\u6570\u5217 \\(\\{a_n\\}\\) \u7684\u9012\u63a8\u51fd\u6570\uff0c\u4e14 \\(p\\) \u4e3a \\(f(x)\\) \u7684 \u552f\u4e00 \u4e0d\u52a8\u70b9\uff0c\u5219\u6570\u5217 \\(\\{\\dfrac{1}{a_n - p}\\}\\) \u4e3a\u516c\u5dee\u4e3a \\(\\dfrac{2c}{a + d}\\) \u7684\u7b49\u5dee\u6570\u5217\u3002 \u8bc1\u660e \u7531 \\(x = f(x) = \\dfrac{ax + b}{cx + d}\\) \u77e5 \\(cx^2 + (d - a)x - b = 0\\) \\(\\therefore cp^2 + (d - a)p - b = 0\\) \uff0c\u5373 \\(b - pd = cp^2 - ap\\) \\(\\begin{aligned}\\therefore \\dfrac{1}{a_{n + 1} - p} & = \\dfrac{1}{\\dfrac{a\\cdot a_n + b}{c\\cdot a_n + d} - p} \\\\ & = \\dfrac{c\\cdot a_n + d}{(a - cp)\\cdot a_n + b - pd} \\\\ & = \\dfrac{c\\cdot a_n + d}{(a - cp)\\cdot a_n + cp^2 - ap} \\\\ & = \\dfrac{c\\cdot a_n + d}{(a - cp)(a_n - p)} \\\\ & = \\dfrac{1}{a - cp}\\cdot\\dfrac{c(a_n - p) + cp + d}{a_n - p} \\\\ & = \\dfrac{c}{a - cp} + \\dfrac{cp + d}{a - cp}\\cdot\\dfrac{1}{a_n - p} \\\\ & = \\dfrac{1}{a_n - p} + \\dfrac{2c}{a + d}\\end{aligned}\\) \\(\\therefore\\) \\(\\{\\dfrac{1}{a_n - p}\\}\\) \u4e3a\u516c\u5dee\u4e3a \\(\\dfrac{2c}{a + d}\\) \u7684\u7b49\u5dee\u6570\u5217","title":"\u5b9a\u7406\u4e8c"},{"location":"posts/whk/maths/immovable-point-of-an-array/#_5","text":"\u82e5 \\(f(x) = \\dfrac{ax^2 + bx + c}{ex + f}\\) \u4e3a\u6570\u5217 \\(\\{a_n\\}\\) \u7684\u9012\u63a8\u51fd\u6570\uff0c\u4e14 \\(p, q\\) \u4e3a \\(f(x)\\) \u7684\u4e24 \u76f8\u5f02 \u4e0d\u52a8\u70b9\uff0c\u5219 \u5f53\u4e14\u4ec5\u5f53 \\(b = 0, e = 2a\\) \u65f6\u6709 \\(\\dfrac{a_{n + 1} - p}{a_{n + 1} - q} = (\\dfrac{a_n - p}{a_n - q})^2\\) \u3002 \u8bc1\u660e \\(\\because\\) \\(p, q\\) \u4e3a \\(f(x)\\) \u7684\u4e24\u76f8\u5f02\u4e0d\u52a8\u70b9 \\(\\therefore \\begin{cases}c - pf = (e - a)p^2 - bp \\\\ c - qf = (e - a)q^2 - bq\\end{cases}\\) \\(\\begin{aligned}\\therefore \\dfrac{a_{n + 1} - p}{a_{n + 1} - q} & = \\dfrac{a\\cdot a_n^2 + b\\cdot a_n + c - p(e\\cdot a_n + f)}{a\\cdot a_n^2 + b\\cdot a_n + c - q(e\\cdot a_n + f)} \\\\ & = \\dfrac{a\\cdot a_n^2 + (b - ep)\\cdot a_n + c - pf}{a\\cdot a_n^2 + (b - eq)\\cdot a_n + c - qf} \\\\ & = \\dfrac{a\\cdot a_n^2 + (b - ep)\\cdot a_n + (e - a)\\cdot p^2 - bp}{a\\cdot a_n^2 - (b - eq)\\cdot a_n + (e - a)\\cdot q^2 - bq}\\end{aligned}\\) \\(\\begin{aligned}\\therefore \\dfrac{a_{n + 1} - p}{a_{n + 1} - q} = (\\dfrac{a_n - p}{a_n - q})^2 & \\iff \\dfrac{a\\cdot a_n^2 + (b - ep)\\cdot a_n + (e - a)\\cdot p^2 - bp}{a\\cdot a_n^2 - (b - eq)\\cdot a_n + (e - a)\\cdot q^2 - bq} = \\dfrac{a_n^2 - 2p\\cdot a_n + p^2}{a_n^2 - 2q\\cdot a_n + q^2} \\\\ & \\iff \\begin{cases}b - ep = -2ap \\\\ b - eq = -2aq\\end{cases} \\\\ & \\iff \\begin{cases}(2a - e)p + b = 0 \\\\ (2a - e)q + b = 0\\end{cases} \\\\ & \\iff \\begin{cases}b = 0 \\\\ e = 2a\\end{cases} \\quad(p \\neq q)\\end{aligned}\\)","title":"\u5b9a\u7406\u4e09"},{"location":"posts/whk/maths/immovable-point-of-an-array/#_6","text":"","title":"\u4f8b\u9898\u8bb2\u89e3"},{"location":"posts/whk/maths/immovable-point-of-an-array/#1","text":"\u8bbe\u6570\u5217 \\(\\{a_n\\}\\) \u6ee1\u8db3 \\(a_1 = 1, a_{n + 1} = \\dfrac{a_n + 2}{a_n}\\) \uff0c\u6c42\u6570\u5217 \\(\\{a_n\\}\\) \u7684\u901a\u9879\u516c\u5f0f\u3002 \u89e3\u6790 \u7279\u5f81\u65b9\u7a0b\u4e3a \\(x = \\dfrac{x + 2}{x}\\) \uff0c\u89e3\u5f97 \\(x_1 = -1, x_2 = 2\\) \\(\\therefore\\) \\(\\{\\dfrac{a_n + 1}{a_n - 2}\\}\\) \u4e3a\u9996\u9879\u4e3a \\(-2\\) \uff0c\u516c\u6bd4\u4e3a \\(-2\\) \u7684\u7b49\u6bd4\u6570\u5217 \\(\\therefore \\dfrac{a_n +1}{a_n - 2} = (-2)^n\\) \\(\\therefore a_n = \\dfrac{2\\cdot (-2)^n +1}{(-2)^n - 1}\\)","title":"\u4f8b1"},{"location":"posts/whk/maths/immovable-point-of-an-array/#2","text":"\u6570\u5217 \\(\\{a_n\\}\\) \u6ee1\u8db3\u4e0b\u5217\u5173\u7cfb\uff1a \\(a_1 = 2a, a_{n + 1} = 2a - \\dfrac{a^2}{a_n}\\quad(a \\neq 0)\\) \uff0c\u6c42\u6570\u5217 \\(\\{a_n\\}\\) \u7684\u901a\u9879\u516c\u5f0f\u3002 \u89e3\u6790 \u7279\u5f81\u65b9\u7a0b\u4e3a \\(x = \\dfrac{2ax - a^2}{x}\\) \uff0c\u89e3\u5f97 \\(x_1 = x_2 = a\\) \\(\\therefore\\) \\(\\{\\dfrac{1}{a_n - a}\\}\\) \u4e3a\u9996\u9879\u4e3a \\(\\dfrac{1}{a}\\) \uff0c\u516c\u6bd4\u4e3a \\(\\dfrac{1}{a}\\) \u7684\u7b49\u6bd4\u6570\u5217 \\(\\therefore \\dfrac{1}{a_n - a} = \\dfrac{n}{a}\\) \\(\\therefore a_n = \\dfrac{a + na}{n}\\)","title":"\u4f8b2"},{"location":"posts/whk/maths/immovable-point-of-an-array/#3","text":"\u5df2\u77e5\u6570\u5217 \\(\\{a_n\\}\\) \u6ee1\u8db3 \\(a_1 = 2, a_{n + 1} = \\dfrac{a_n^2 + 2}{2a_n}\\) \uff0c\u6c42\u6570\u5217 \\(\\{a_n\\}\\) \u7684\u901a\u9879\u516c\u5f0f\u3002 \u89e3\u6790 \u7279\u5f81\u65b9\u7a0b\u4e3a \\(x = \\dfrac{x^2 + 2}{2x}\\) \uff0c\u89e3\u5f97 \\(x_1 = \\sqrt{2}, x_2 = -\\sqrt{2}\\) \\(\\therefore \\dfrac{a_{n + 1} - \\sqrt{2}}{a_{n + 1} + \\sqrt{2}} = (\\dfrac{a_n - \\sqrt{2}}{a_n + \\sqrt{2}})^2\\) \\(\\therefore \\dfrac{a_n - \\sqrt{2}}{a_n + \\sqrt{2}} = (3 - 2\\sqrt{2})^{2^{n - 1}} = (\\sqrt{2} - 1)^{2^n}\\) \\(\\therefore a_n = \\sqrt{2}\\cdot\\dfrac{1 + (\\sqrt{2} - 1)^{2^n}}{1 - (\\sqrt{2} - 1)^{2^n}}\\)","title":"\u4f8b3"},{"location":"posts/whk/maths/immovable-point-of-an-array/#_7","text":"\u65e0\u6280\u5de7\uff0c\u5c31\u662f\u5957\u516c\u5f0f\u3002","title":"\u603b\u7ed3"},{"location":"posts/whk/maths/sum-of-a-geometric-array/","text":"\u611f\u89c9 \\(S_n = \\dfrac{a_1 - q\\cdot a_n}{1 - q}(q\\neq 1)\\) \u8fd9\u4e2a\u516c\u5f0f\u5b9e\u5728\u662f\u592a\u611a\u8822\u4e86\uff0c \u4e8e\u662f\u81ea\u5df1\u6574\u7406\u4e86\u4e00\u4e2a\u66f4\u6f02\u4eae\u7684\uff0c\u4e5f\u66f4\u5bb9\u6613\u8bb0\u4f4f\u7684\u516c\u5f0f\uff1a \\(\\boxed{S_n = a_1\\cdot\\dfrac{q^n - 1}{q - 1}(q \\neq 1)}\\) \u3002","title":"\u7b49\u6bd4\u6570\u5217\u6c42\u548c\u516c\u5f0f"}]}